! function(e) {
    var t = {};

    function n(r) {
        if (t[r]) return t[r].exports;
        var o = t[r] = {
            i: r,
            l: !1,
            exports: {}
        };
        return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports
    }
    n.m = e, n.c = t, n.d = function(e, t, r) {
        n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: r
        })
    }, n.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }, n.t = function(e, t) {
        if (1 & t && (e = n(e)), 8 & t) return e;
        if (4 & t && "object" == typeof e && e && e.__esModule) return e;
        var r = Object.create(null);
        if (n.r(r), Object.defineProperty(r, "default", {
                enumerable: !0,
                value: e
            }), 2 & t && "string" != typeof e)
            for (var o in e) n.d(r, o, function(t) {
                return e[t]
            }.bind(null, o));
        return r
    }, n.n = function(e) {
        var t = e && e.__esModule ? function() {
            return e.default
        } : function() {
            return e
        };
        return n.d(t, "a", t), t
    }, n.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }, n.p = "", n(n.s = 15)
}([function(e, t) {
    "function" == typeof Object.create ? e.exports = function(e, t) {
        t && (e.super_ = t, e.prototype = Object.create(t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }))
    } : e.exports = function(e, t) {
        if (t) {
            e.super_ = t;
            var n = function() {};
            n.prototype = t.prototype, e.prototype = new n, e.prototype.constructor = e
        }
    }
}, , function(e, t, n) {
    e.exports = n(19), e.exports.Collection = n(7)
}, function(e, t, n) {
    var r;
    /*! Hammer.JS - v2.0.7 - 2016-04-22
     * http://hammerjs.github.io/
     *
     * Copyright (c) 2016 Jorik Tangelder;
     * Licensed under the MIT license */
    ! function(o, i, a, s) {
        "use strict";
        var u, c = ["", "webkit", "Moz", "MS", "ms", "o"],
            l = i.createElement("div"),
            p = Math.round,
            f = Math.abs,
            d = Date.now;

        function h(e, t, n) {
            return setTimeout(w(e, n), t)
        }

        function y(e, t, n) {
            return !!Array.isArray(e) && (m(e, n[t], n), !0)
        }

        function m(e, t, n) {
            var r;
            if (e)
                if (e.forEach) e.forEach(t, n);
                else if (void 0 !== e.length)
                for (r = 0; r < e.length;) t.call(n, e[r], r, e), r++;
            else
                for (r in e) e.hasOwnProperty(r) && t.call(n, e[r], r, e)
        }

        function v(e, t, n) {
            var r = "DEPRECATED METHOD: " + t + "\n" + n + " AT \n";
            return function() {
                var t = new Error("get-stack-trace"),
                    n = t && t.stack ? t.stack.replace(/^[^\(]+?[\n$]/gm, "").replace(/^\s+at\s+/gm, "").replace(/^Object.<anonymous>\s*\(/gm, "{anonymous}()@") : "Unknown Stack Trace",
                    i = o.console && (o.console.warn || o.console.log);
                return i && i.call(o.console, r, n), e.apply(this, arguments)
            }
        }
        u = "function" != typeof Object.assign ? function(e) {
            if (null == e) throw new TypeError("Cannot convert undefined or null to object");
            for (var t = Object(e), n = 1; n < arguments.length; n++) {
                var r = arguments[n];
                if (null != r)
                    for (var o in r) r.hasOwnProperty(o) && (t[o] = r[o])
            }
            return t
        } : Object.assign;
        var g = v((function(e, t, n) {
                for (var r = Object.keys(t), o = 0; o < r.length;)(!n || n && void 0 === e[r[o]]) && (e[r[o]] = t[r[o]]), o++;
                return e
            }), "extend", "Use `assign`."),
            b = v((function(e, t) {
                return g(e, t, !0)
            }), "merge", "Use `assign`.");

        function _(e, t, n) {
            var r, o = t.prototype;
            (r = e.prototype = Object.create(o)).constructor = e, r._super = o, n && u(r, n)
        }

        function w(e, t) {
            return function() {
                return e.apply(t, arguments)
            }
        }

        function x(e, t) {
            return "function" == typeof e ? e.apply(t && t[0] || void 0, t) : e
        }

        function E(e, t) {
            return void 0 === e ? t : e
        }

        function C(e, t, n) {
            m(k(t), (function(t) {
                e.addEventListener(t, n, !1)
            }))
        }

        function O(e, t, n) {
            m(k(t), (function(t) {
                e.removeEventListener(t, n, !1)
            }))
        }

        function S(e, t) {
            for (; e;) {
                if (e == t) return !0;
                e = e.parentNode
            }
            return !1
        }

        function j(e, t) {
            return e.indexOf(t) > -1
        }

        function k(e) {
            return e.trim().split(/\s+/g)
        }

        function P(e, t, n) {
            if (e.indexOf && !n) return e.indexOf(t);
            for (var r = 0; r < e.length;) {
                if (n && e[r][n] == t || !n && e[r] === t) return r;
                r++
            }
            return -1
        }

        function T(e) {
            return Array.prototype.slice.call(e, 0)
        }

        function D(e, t, n) {
            for (var r = [], o = [], i = 0; i < e.length;) {
                var a = t ? e[i][t] : e[i];
                P(o, a) < 0 && r.push(e[i]), o[i] = a, i++
            }
            return n && (r = t ? r.sort((function(e, n) {
                return e[t] > n[t]
            })) : r.sort()), r
        }

        function R(e, t) {
            for (var n, r, o = t[0].toUpperCase() + t.slice(1), i = 0; i < c.length;) {
                if ((r = (n = c[i]) ? n + o : t) in e) return r;
                i++
            }
        }
        var M = 1;

        function A(e) {
            var t = e.ownerDocument || e;
            return t.defaultView || t.parentWindow || o
        }
        var N = "ontouchstart" in o,
            I = void 0 !== R(o, "PointerEvent"),
            L = N && /mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),
            B = ["x", "y"],
            $ = ["clientX", "clientY"];

        function V(e, t) {
            var n = this;
            this.manager = e, this.callback = t, this.element = e.element, this.target = e.options.inputTarget, this.domHandler = function(t) {
                x(e.options.enable, [e]) && n.handler(t)
            }, this.init()
        }

        function z(e, t, n) {
            var r = n.pointers.length,
                o = n.changedPointers.length,
                i = 1 & t && r - o == 0,
                a = 12 & t && r - o == 0;
            n.isFirst = !!i, n.isFinal = !!a, i && (e.session = {}), n.eventType = t,
                function(e, t) {
                    var n = e.session,
                        r = t.pointers,
                        o = r.length;
                    n.firstInput || (n.firstInput = F(t));
                    o > 1 && !n.firstMultiple ? n.firstMultiple = F(t) : 1 === o && (n.firstMultiple = !1);
                    var i = n.firstInput,
                        a = n.firstMultiple,
                        s = a ? a.center : i.center,
                        u = t.center = q(r);
                    t.timeStamp = d(), t.deltaTime = t.timeStamp - i.timeStamp, t.angle = G(s, u), t.distance = W(s, u),
                        function(e, t) {
                            var n = t.center,
                                r = e.offsetDelta || {},
                                o = e.prevDelta || {},
                                i = e.prevInput || {};
                            1 !== t.eventType && 4 !== i.eventType || (o = e.prevDelta = {
                                x: i.deltaX || 0,
                                y: i.deltaY || 0
                            }, r = e.offsetDelta = {
                                x: n.x,
                                y: n.y
                            });
                            t.deltaX = o.x + (n.x - r.x), t.deltaY = o.y + (n.y - r.y)
                        }(n, t), t.offsetDirection = U(t.deltaX, t.deltaY);
                    var c = H(t.deltaTime, t.deltaX, t.deltaY);
                    t.overallVelocityX = c.x, t.overallVelocityY = c.y, t.overallVelocity = f(c.x) > f(c.y) ? c.x : c.y, t.scale = a ? (l = a.pointers, p = r, W(p[0], p[1], $) / W(l[0], l[1], $)) : 1, t.rotation = a ? function(e, t) {
                            return G(t[1], t[0], $) + G(e[1], e[0], $)
                        }(a.pointers, r) : 0, t.maxPointers = n.prevInput ? t.pointers.length > n.prevInput.maxPointers ? t.pointers.length : n.prevInput.maxPointers : t.pointers.length,
                        function(e, t) {
                            var n, r, o, i, a = e.lastInterval || t,
                                s = t.timeStamp - a.timeStamp;
                            if (8 != t.eventType && (s > 25 || void 0 === a.velocity)) {
                                var u = t.deltaX - a.deltaX,
                                    c = t.deltaY - a.deltaY,
                                    l = H(s, u, c);
                                r = l.x, o = l.y, n = f(l.x) > f(l.y) ? l.x : l.y, i = U(u, c), e.lastInterval = t
                            } else n = a.velocity, r = a.velocityX, o = a.velocityY, i = a.direction;
                            t.velocity = n, t.velocityX = r, t.velocityY = o, t.direction = i
                        }(n, t);
                    var l, p;
                    var h = e.element;
                    S(t.srcEvent.target, h) && (h = t.srcEvent.target);
                    t.target = h
                }(e, n), e.emit("hammer.input", n), e.recognize(n), e.session.prevInput = n
        }

        function F(e) {
            for (var t = [], n = 0; n < e.pointers.length;) t[n] = {
                clientX: p(e.pointers[n].clientX),
                clientY: p(e.pointers[n].clientY)
            }, n++;
            return {
                timeStamp: d(),
                pointers: t,
                center: q(t),
                deltaX: e.deltaX,
                deltaY: e.deltaY
            }
        }

        function q(e) {
            var t = e.length;
            if (1 === t) return {
                x: p(e[0].clientX),
                y: p(e[0].clientY)
            };
            for (var n = 0, r = 0, o = 0; o < t;) n += e[o].clientX, r += e[o].clientY, o++;
            return {
                x: p(n / t),
                y: p(r / t)
            }
        }

        function H(e, t, n) {
            return {
                x: t / e || 0,
                y: n / e || 0
            }
        }

        function U(e, t) {
            return e === t ? 1 : f(e) >= f(t) ? e < 0 ? 2 : 4 : t < 0 ? 8 : 16
        }

        function W(e, t, n) {
            n || (n = B);
            var r = t[n[0]] - e[n[0]],
                o = t[n[1]] - e[n[1]];
            return Math.sqrt(r * r + o * o)
        }

        function G(e, t, n) {
            n || (n = B);
            var r = t[n[0]] - e[n[0]],
                o = t[n[1]] - e[n[1]];
            return 180 * Math.atan2(o, r) / Math.PI
        }
        V.prototype = {
            handler: function() {},
            init: function() {
                this.evEl && C(this.element, this.evEl, this.domHandler), this.evTarget && C(this.target, this.evTarget, this.domHandler), this.evWin && C(A(this.element), this.evWin, this.domHandler)
            },
            destroy: function() {
                this.evEl && O(this.element, this.evEl, this.domHandler), this.evTarget && O(this.target, this.evTarget, this.domHandler), this.evWin && O(A(this.element), this.evWin, this.domHandler)
            }
        };
        var K = {
            mousedown: 1,
            mousemove: 2,
            mouseup: 4
        };

        function X() {
            this.evEl = "mousedown", this.evWin = "mousemove mouseup", this.pressed = !1, V.apply(this, arguments)
        }
        _(X, V, {
            handler: function(e) {
                var t = K[e.type];
                1 & t && 0 === e.button && (this.pressed = !0), 2 & t && 1 !== e.which && (t = 4), this.pressed && (4 & t && (this.pressed = !1), this.callback(this.manager, t, {
                    pointers: [e],
                    changedPointers: [e],
                    pointerType: "mouse",
                    srcEvent: e
                }))
            }
        });
        var Y = {
                pointerdown: 1,
                pointermove: 2,
                pointerup: 4,
                pointercancel: 8,
                pointerout: 8
            },
            J = {
                2: "touch",
                3: "pen",
                4: "mouse",
                5: "kinect"
            },
            Z = "pointerdown",
            Q = "pointermove pointerup pointercancel";

        function ee() {
            this.evEl = Z, this.evWin = Q, V.apply(this, arguments), this.store = this.manager.session.pointerEvents = []
        }
        o.MSPointerEvent && !o.PointerEvent && (Z = "MSPointerDown", Q = "MSPointerMove MSPointerUp MSPointerCancel"), _(ee, V, {
            handler: function(e) {
                var t = this.store,
                    n = !1,
                    r = e.type.toLowerCase().replace("ms", ""),
                    o = Y[r],
                    i = J[e.pointerType] || e.pointerType,
                    a = "touch" == i,
                    s = P(t, e.pointerId, "pointerId");
                1 & o && (0 === e.button || a) ? s < 0 && (t.push(e), s = t.length - 1) : 12 & o && (n = !0), s < 0 || (t[s] = e, this.callback(this.manager, o, {
                    pointers: t,
                    changedPointers: [e],
                    pointerType: i,
                    srcEvent: e
                }), n && t.splice(s, 1))
            }
        });
        var te = {
            touchstart: 1,
            touchmove: 2,
            touchend: 4,
            touchcancel: 8
        };

        function ne() {
            this.evTarget = "touchstart", this.evWin = "touchstart touchmove touchend touchcancel", this.started = !1, V.apply(this, arguments)
        }

        function re(e, t) {
            var n = T(e.touches),
                r = T(e.changedTouches);
            return 12 & t && (n = D(n.concat(r), "identifier", !0)), [n, r]
        }
        _(ne, V, {
            handler: function(e) {
                var t = te[e.type];
                if (1 === t && (this.started = !0), this.started) {
                    var n = re.call(this, e, t);
                    12 & t && n[0].length - n[1].length == 0 && (this.started = !1), this.callback(this.manager, t, {
                        pointers: n[0],
                        changedPointers: n[1],
                        pointerType: "touch",
                        srcEvent: e
                    })
                }
            }
        });
        var oe = {
            touchstart: 1,
            touchmove: 2,
            touchend: 4,
            touchcancel: 8
        };

        function ie() {
            this.evTarget = "touchstart touchmove touchend touchcancel", this.targetIds = {}, V.apply(this, arguments)
        }

        function ae(e, t) {
            var n = T(e.touches),
                r = this.targetIds;
            if (3 & t && 1 === n.length) return r[n[0].identifier] = !0, [n, n];
            var o, i, a = T(e.changedTouches),
                s = [],
                u = this.target;
            if (i = n.filter((function(e) {
                    return S(e.target, u)
                })), 1 === t)
                for (o = 0; o < i.length;) r[i[o].identifier] = !0, o++;
            for (o = 0; o < a.length;) r[a[o].identifier] && s.push(a[o]), 12 & t && delete r[a[o].identifier], o++;
            return s.length ? [D(i.concat(s), "identifier", !0), s] : void 0
        }
        _(ie, V, {
            handler: function(e) {
                var t = oe[e.type],
                    n = ae.call(this, e, t);
                n && this.callback(this.manager, t, {
                    pointers: n[0],
                    changedPointers: n[1],
                    pointerType: "touch",
                    srcEvent: e
                })
            }
        });

        function se() {
            V.apply(this, arguments);
            var e = w(this.handler, this);
            this.touch = new ie(this.manager, e), this.mouse = new X(this.manager, e), this.primaryTouch = null, this.lastTouches = []
        }

        function ue(e, t) {
            1 & e ? (this.primaryTouch = t.changedPointers[0].identifier, ce.call(this, t)) : 12 & e && ce.call(this, t)
        }

        function ce(e) {
            var t = e.changedPointers[0];
            if (t.identifier === this.primaryTouch) {
                var n = {
                    x: t.clientX,
                    y: t.clientY
                };
                this.lastTouches.push(n);
                var r = this.lastTouches;
                setTimeout((function() {
                    var e = r.indexOf(n);
                    e > -1 && r.splice(e, 1)
                }), 2500)
            }
        }

        function le(e) {
            for (var t = e.srcEvent.clientX, n = e.srcEvent.clientY, r = 0; r < this.lastTouches.length; r++) {
                var o = this.lastTouches[r],
                    i = Math.abs(t - o.x),
                    a = Math.abs(n - o.y);
                if (i <= 25 && a <= 25) return !0
            }
            return !1
        }
        _(se, V, {
            handler: function(e, t, n) {
                var r = "touch" == n.pointerType,
                    o = "mouse" == n.pointerType;
                if (!(o && n.sourceCapabilities && n.sourceCapabilities.firesTouchEvents)) {
                    if (r) ue.call(this, t, n);
                    else if (o && le.call(this, n)) return;
                    this.callback(e, t, n)
                }
            },
            destroy: function() {
                this.touch.destroy(), this.mouse.destroy()
            }
        });
        var pe = R(l.style, "touchAction"),
            fe = void 0 !== pe,
            de = function() {
                if (!fe) return !1;
                var e = {},
                    t = o.CSS && o.CSS.supports;
                return ["auto", "manipulation", "pan-y", "pan-x", "pan-x pan-y", "none"].forEach((function(n) {
                    e[n] = !t || o.CSS.supports("touch-action", n)
                })), e
            }();

        function he(e, t) {
            this.manager = e, this.set(t)
        }
        he.prototype = {
            set: function(e) {
                "compute" == e && (e = this.compute()), fe && this.manager.element.style && de[e] && (this.manager.element.style[pe] = e), this.actions = e.toLowerCase().trim()
            },
            update: function() {
                this.set(this.manager.options.touchAction)
            },
            compute: function() {
                var e = [];
                return m(this.manager.recognizers, (function(t) {
                        x(t.options.enable, [t]) && (e = e.concat(t.getTouchAction()))
                    })),
                    function(e) {
                        if (j(e, "none")) return "none";
                        var t = j(e, "pan-x"),
                            n = j(e, "pan-y");
                        if (t && n) return "none";
                        if (t || n) return t ? "pan-x" : "pan-y";
                        if (j(e, "manipulation")) return "manipulation";
                        return "auto"
                    }(e.join(" "))
            },
            preventDefaults: function(e) {
                var t = e.srcEvent,
                    n = e.offsetDirection;
                if (this.manager.session.prevented) t.preventDefault();
                else {
                    var r = this.actions,
                        o = j(r, "none") && !de.none,
                        i = j(r, "pan-y") && !de["pan-y"],
                        a = j(r, "pan-x") && !de["pan-x"];
                    if (o) {
                        var s = 1 === e.pointers.length,
                            u = e.distance < 2,
                            c = e.deltaTime < 250;
                        if (s && u && c) return
                    }
                    if (!a || !i) return o || i && 6 & n || a && 24 & n ? this.preventSrc(t) : void 0
                }
            },
            preventSrc: function(e) {
                this.manager.session.prevented = !0, e.preventDefault()
            }
        };

        function ye(e) {
            this.options = u({}, this.defaults, e || {}), this.id = M++, this.manager = null, this.options.enable = E(this.options.enable, !0), this.state = 1, this.simultaneous = {}, this.requireFail = []
        }

        function me(e) {
            return 16 & e ? "cancel" : 8 & e ? "end" : 4 & e ? "move" : 2 & e ? "start" : ""
        }

        function ve(e) {
            return 16 == e ? "down" : 8 == e ? "up" : 2 == e ? "left" : 4 == e ? "right" : ""
        }

        function ge(e, t) {
            var n = t.manager;
            return n ? n.get(e) : e
        }

        function be() {
            ye.apply(this, arguments)
        }

        function _e() {
            be.apply(this, arguments), this.pX = null, this.pY = null
        }

        function we() {
            be.apply(this, arguments)
        }

        function xe() {
            ye.apply(this, arguments), this._timer = null, this._input = null
        }

        function Ee() {
            be.apply(this, arguments)
        }

        function Ce() {
            be.apply(this, arguments)
        }

        function Oe() {
            ye.apply(this, arguments), this.pTime = !1, this.pCenter = !1, this._timer = null, this._input = null, this.count = 0
        }

        function Se(e, t) {
            return (t = t || {}).recognizers = E(t.recognizers, Se.defaults.preset), new je(e, t)
        }
        ye.prototype = {
            defaults: {},
            set: function(e) {
                return u(this.options, e), this.manager && this.manager.touchAction.update(), this
            },
            recognizeWith: function(e) {
                if (y(e, "recognizeWith", this)) return this;
                var t = this.simultaneous;
                return t[(e = ge(e, this)).id] || (t[e.id] = e, e.recognizeWith(this)), this
            },
            dropRecognizeWith: function(e) {
                return y(e, "dropRecognizeWith", this) || (e = ge(e, this), delete this.simultaneous[e.id]), this
            },
            requireFailure: function(e) {
                if (y(e, "requireFailure", this)) return this;
                var t = this.requireFail;
                return -1 === P(t, e = ge(e, this)) && (t.push(e), e.requireFailure(this)), this
            },
            dropRequireFailure: function(e) {
                if (y(e, "dropRequireFailure", this)) return this;
                e = ge(e, this);
                var t = P(this.requireFail, e);
                return t > -1 && this.requireFail.splice(t, 1), this
            },
            hasRequireFailures: function() {
                return this.requireFail.length > 0
            },
            canRecognizeWith: function(e) {
                return !!this.simultaneous[e.id]
            },
            emit: function(e) {
                var t = this,
                    n = this.state;

                function r(n) {
                    t.manager.emit(n, e)
                }
                n < 8 && r(t.options.event + me(n)), r(t.options.event), e.additionalEvent && r(e.additionalEvent), n >= 8 && r(t.options.event + me(n))
            },
            tryEmit: function(e) {
                if (this.canEmit()) return this.emit(e);
                this.state = 32
            },
            canEmit: function() {
                for (var e = 0; e < this.requireFail.length;) {
                    if (!(33 & this.requireFail[e].state)) return !1;
                    e++
                }
                return !0
            },
            recognize: function(e) {
                var t = u({}, e);
                if (!x(this.options.enable, [this, t])) return this.reset(), void(this.state = 32);
                56 & this.state && (this.state = 1), this.state = this.process(t), 30 & this.state && this.tryEmit(t)
            },
            process: function(e) {},
            getTouchAction: function() {},
            reset: function() {}
        }, _(be, ye, {
            defaults: {
                pointers: 1
            },
            attrTest: function(e) {
                var t = this.options.pointers;
                return 0 === t || e.pointers.length === t
            },
            process: function(e) {
                var t = this.state,
                    n = e.eventType,
                    r = 6 & t,
                    o = this.attrTest(e);
                return r && (8 & n || !o) ? 16 | t : r || o ? 4 & n ? 8 | t : 2 & t ? 4 | t : 2 : 32
            }
        }), _(_e, be, {
            defaults: {
                event: "pan",
                threshold: 10,
                pointers: 1,
                direction: 30
            },
            getTouchAction: function() {
                var e = this.options.direction,
                    t = [];
                return 6 & e && t.push("pan-y"), 24 & e && t.push("pan-x"), t
            },
            directionTest: function(e) {
                var t = this.options,
                    n = !0,
                    r = e.distance,
                    o = e.direction,
                    i = e.deltaX,
                    a = e.deltaY;
                return o & t.direction || (6 & t.direction ? (o = 0 === i ? 1 : i < 0 ? 2 : 4, n = i != this.pX, r = Math.abs(e.deltaX)) : (o = 0 === a ? 1 : a < 0 ? 8 : 16, n = a != this.pY, r = Math.abs(e.deltaY))), e.direction = o, n && r > t.threshold && o & t.direction
            },
            attrTest: function(e) {
                return be.prototype.attrTest.call(this, e) && (2 & this.state || !(2 & this.state) && this.directionTest(e))
            },
            emit: function(e) {
                this.pX = e.deltaX, this.pY = e.deltaY;
                var t = ve(e.direction);
                t && (e.additionalEvent = this.options.event + t), this._super.emit.call(this, e)
            }
        }), _(we, be, {
            defaults: {
                event: "pinch",
                threshold: 0,
                pointers: 2
            },
            getTouchAction: function() {
                return ["none"]
            },
            attrTest: function(e) {
                return this._super.attrTest.call(this, e) && (Math.abs(e.scale - 1) > this.options.threshold || 2 & this.state)
            },
            emit: function(e) {
                if (1 !== e.scale) {
                    var t = e.scale < 1 ? "in" : "out";
                    e.additionalEvent = this.options.event + t
                }
                this._super.emit.call(this, e)
            }
        }), _(xe, ye, {
            defaults: {
                event: "press",
                pointers: 1,
                time: 251,
                threshold: 9
            },
            getTouchAction: function() {
                return ["auto"]
            },
            process: function(e) {
                var t = this.options,
                    n = e.pointers.length === t.pointers,
                    r = e.distance < t.threshold,
                    o = e.deltaTime > t.time;
                if (this._input = e, !r || !n || 12 & e.eventType && !o) this.reset();
                else if (1 & e.eventType) this.reset(), this._timer = h((function() {
                    this.state = 8, this.tryEmit()
                }), t.time, this);
                else if (4 & e.eventType) return 8;
                return 32
            },
            reset: function() {
                clearTimeout(this._timer)
            },
            emit: function(e) {
                8 === this.state && (e && 4 & e.eventType ? this.manager.emit(this.options.event + "up", e) : (this._input.timeStamp = d(), this.manager.emit(this.options.event, this._input)))
            }
        }), _(Ee, be, {
            defaults: {
                event: "rotate",
                threshold: 0,
                pointers: 2
            },
            getTouchAction: function() {
                return ["none"]
            },
            attrTest: function(e) {
                return this._super.attrTest.call(this, e) && (Math.abs(e.rotation) > this.options.threshold || 2 & this.state)
            }
        }), _(Ce, be, {
            defaults: {
                event: "swipe",
                threshold: 10,
                velocity: .3,
                direction: 30,
                pointers: 1
            },
            getTouchAction: function() {
                return _e.prototype.getTouchAction.call(this)
            },
            attrTest: function(e) {
                var t, n = this.options.direction;
                return 30 & n ? t = e.overallVelocity : 6 & n ? t = e.overallVelocityX : 24 & n && (t = e.overallVelocityY), this._super.attrTest.call(this, e) && n & e.offsetDirection && e.distance > this.options.threshold && e.maxPointers == this.options.pointers && f(t) > this.options.velocity && 4 & e.eventType
            },
            emit: function(e) {
                var t = ve(e.offsetDirection);
                t && this.manager.emit(this.options.event + t, e), this.manager.emit(this.options.event, e)
            }
        }), _(Oe, ye, {
            defaults: {
                event: "tap",
                pointers: 1,
                taps: 1,
                interval: 300,
                time: 250,
                threshold: 9,
                posThreshold: 10
            },
            getTouchAction: function() {
                return ["manipulation"]
            },
            process: function(e) {
                var t = this.options,
                    n = e.pointers.length === t.pointers,
                    r = e.distance < t.threshold,
                    o = e.deltaTime < t.time;
                if (this.reset(), 1 & e.eventType && 0 === this.count) return this.failTimeout();
                if (r && o && n) {
                    if (4 != e.eventType) return this.failTimeout();
                    var i = !this.pTime || e.timeStamp - this.pTime < t.interval,
                        a = !this.pCenter || W(this.pCenter, e.center) < t.posThreshold;
                    if (this.pTime = e.timeStamp, this.pCenter = e.center, a && i ? this.count += 1 : this.count = 1, this._input = e, 0 === this.count % t.taps) return this.hasRequireFailures() ? (this._timer = h((function() {
                        this.state = 8, this.tryEmit()
                    }), t.interval, this), 2) : 8
                }
                return 32
            },
            failTimeout: function() {
                return this._timer = h((function() {
                    this.state = 32
                }), this.options.interval, this), 32
            },
            reset: function() {
                clearTimeout(this._timer)
            },
            emit: function() {
                8 == this.state && (this._input.tapCount = this.count, this.manager.emit(this.options.event, this._input))
            }
        }), Se.VERSION = "2.0.7", Se.defaults = {
            domEvents: !1,
            touchAction: "compute",
            enable: !0,
            inputTarget: null,
            inputClass: null,
            preset: [
                [Ee, {
                    enable: !1
                }],
                [we, {
                        enable: !1
                    },
                    ["rotate"]
                ],
                [Ce, {
                    direction: 6
                }],
                [_e, {
                        direction: 6
                    },
                    ["swipe"]
                ],
                [Oe],
                [Oe, {
                        event: "doubletap",
                        taps: 2
                    },
                    ["tap"]
                ],
                [xe]
            ],
            cssProps: {
                userSelect: "none",
                touchSelect: "none",
                touchCallout: "none",
                contentZooming: "none",
                userDrag: "none",
                tapHighlightColor: "rgba(0,0,0,0)"
            }
        };

        function je(e, t) {
            var n;
            this.options = u({}, Se.defaults, t || {}), this.options.inputTarget = this.options.inputTarget || e, this.handlers = {}, this.session = {}, this.recognizers = [], this.oldCssProps = {}, this.element = e, this.input = new((n = this).options.inputClass || (I ? ee : L ? ie : N ? se : X))(n, z), this.touchAction = new he(this, this.options.touchAction), ke(this, !0), m(this.options.recognizers, (function(e) {
                var t = this.add(new e[0](e[1]));
                e[2] && t.recognizeWith(e[2]), e[3] && t.requireFailure(e[3])
            }), this)
        }

        function ke(e, t) {
            var n, r = e.element;
            r.style && (m(e.options.cssProps, (function(o, i) {
                n = R(r.style, i), t ? (e.oldCssProps[n] = r.style[n], r.style[n] = o) : r.style[n] = e.oldCssProps[n] || ""
            })), t || (e.oldCssProps = {}))
        }
        je.prototype = {
            set: function(e) {
                return u(this.options, e), e.touchAction && this.touchAction.update(), e.inputTarget && (this.input.destroy(), this.input.target = e.inputTarget, this.input.init()), this
            },
            stop: function(e) {
                this.session.stopped = e ? 2 : 1
            },
            recognize: function(e) {
                var t = this.session;
                if (!t.stopped) {
                    var n;
                    this.touchAction.preventDefaults(e);
                    var r = this.recognizers,
                        o = t.curRecognizer;
                    (!o || o && 8 & o.state) && (o = t.curRecognizer = null);
                    for (var i = 0; i < r.length;) n = r[i], 2 === t.stopped || o && n != o && !n.canRecognizeWith(o) ? n.reset() : n.recognize(e), !o && 14 & n.state && (o = t.curRecognizer = n), i++
                }
            },
            get: function(e) {
                if (e instanceof ye) return e;
                for (var t = this.recognizers, n = 0; n < t.length; n++)
                    if (t[n].options.event == e) return t[n];
                return null
            },
            add: function(e) {
                if (y(e, "add", this)) return this;
                var t = this.get(e.options.event);
                return t && this.remove(t), this.recognizers.push(e), e.manager = this, this.touchAction.update(), e
            },
            remove: function(e) {
                if (y(e, "remove", this)) return this;
                if (e = this.get(e)) {
                    var t = this.recognizers,
                        n = P(t, e); - 1 !== n && (t.splice(n, 1), this.touchAction.update())
                }
                return this
            },
            on: function(e, t) {
                if (void 0 !== e && void 0 !== t) {
                    var n = this.handlers;
                    return m(k(e), (function(e) {
                        n[e] = n[e] || [], n[e].push(t)
                    })), this
                }
            },
            off: function(e, t) {
                if (void 0 !== e) {
                    var n = this.handlers;
                    return m(k(e), (function(e) {
                        t ? n[e] && n[e].splice(P(n[e], t), 1) : delete n[e]
                    })), this
                }
            },
            emit: function(e, t) {
                this.options.domEvents && function(e, t) {
                    var n = i.createEvent("Event");
                    n.initEvent(e, !0, !0), n.gesture = t, t.target.dispatchEvent(n)
                }(e, t);
                var n = this.handlers[e] && this.handlers[e].slice();
                if (n && n.length) {
                    t.type = e, t.preventDefault = function() {
                        t.srcEvent.preventDefault()
                    };
                    for (var r = 0; r < n.length;) n[r](t), r++
                }
            },
            destroy: function() {
                this.element && ke(this, !1), this.handlers = {}, this.session = {}, this.input.destroy(), this.element = null
            }
        }, u(Se, {
            INPUT_START: 1,
            INPUT_MOVE: 2,
            INPUT_END: 4,
            INPUT_CANCEL: 8,
            STATE_POSSIBLE: 1,
            STATE_BEGAN: 2,
            STATE_CHANGED: 4,
            STATE_ENDED: 8,
            STATE_RECOGNIZED: 8,
            STATE_CANCELLED: 16,
            STATE_FAILED: 32,
            DIRECTION_NONE: 1,
            DIRECTION_LEFT: 2,
            DIRECTION_RIGHT: 4,
            DIRECTION_UP: 8,
            DIRECTION_DOWN: 16,
            DIRECTION_HORIZONTAL: 6,
            DIRECTION_VERTICAL: 24,
            DIRECTION_ALL: 30,
            Manager: je,
            Input: V,
            TouchAction: he,
            TouchInput: ie,
            MouseInput: X,
            PointerEventInput: ee,
            TouchMouseInput: se,
            SingleTouchInput: ne,
            Recognizer: ye,
            AttrRecognizer: be,
            Tap: Oe,
            Pan: _e,
            Swipe: Ce,
            Pinch: we,
            Rotate: Ee,
            Press: xe,
            on: C,
            off: O,
            each: m,
            merge: b,
            extend: g,
            assign: u,
            inherit: _,
            bindFn: w,
            prefixed: R
        }), (void 0 !== o ? o : "undefined" != typeof self ? self : {}).Hammer = Se, void 0 === (r = function() {
            return Se
        }.call(t, n, t, e)) || (e.exports = r)
    }(window, document)
}, function(e, t, n) {
    (function(t) {
        var n;
        n = void 0 !== t ? t : this, e.exports = function(e) {
            if (e.CSS && e.CSS.escape) return e.CSS.escape;
            var t = function(e) {
                if (0 == arguments.length) throw new TypeError("`CSS.escape` requires an argument.");
                for (var t, n = String(e), r = n.length, o = -1, i = "", a = n.charCodeAt(0); ++o < r;) 0 != (t = n.charCodeAt(o)) ? i += t >= 1 && t <= 31 || 127 == t || 0 == o && t >= 48 && t <= 57 || 1 == o && t >= 48 && t <= 57 && 45 == a ? "\\" + t.toString(16) + " " : 0 == o && 1 == r && 45 == t || !(t >= 128 || 45 == t || 95 == t || t >= 48 && t <= 57 || t >= 65 && t <= 90 || t >= 97 && t <= 122) ? "\\" + n.charAt(o) : n.charAt(o) : i += "�";
                return i
            };
            return e.CSS || (e.CSS = {}), e.CSS.escape = t, t
        }(n)
    }).call(this, n(20))
}, function(e, t, n) {
    var r;
    /*!
     * jQuery JavaScript Library v3.5.1
     * https://jquery.com/
     *
     * Includes Sizzle.js
     * https://sizzlejs.com/
     *
     * Copyright JS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2020-05-04T22:49Z
     */
    ! function(t, n) {
        "use strict";
        "object" == typeof e.exports ? e.exports = t.document ? n(t, !0) : function(e) {
            if (!e.document) throw new Error("jQuery requires a window with a document");
            return n(e)
        } : n(t)
    }("undefined" != typeof window ? window : this, (function(n, o) {
        "use strict";
        var i = [],
            a = Object.getPrototypeOf,
            s = i.slice,
            u = i.flat ? function(e) {
                return i.flat.call(e)
            } : function(e) {
                return i.concat.apply([], e)
            },
            c = i.push,
            l = i.indexOf,
            p = {},
            f = p.toString,
            d = p.hasOwnProperty,
            h = d.toString,
            y = h.call(Object),
            m = {},
            v = function(e) {
                return "function" == typeof e && "number" != typeof e.nodeType
            },
            g = function(e) {
                return null != e && e === e.window
            },
            b = n.document,
            _ = {
                type: !0,
                src: !0,
                nonce: !0,
                noModule: !0
            };

        function w(e, t, n) {
            var r, o, i = (n = n || b).createElement("script");
            if (i.text = e, t)
                for (r in _)(o = t[r] || t.getAttribute && t.getAttribute(r)) && i.setAttribute(r, o);
            n.head.appendChild(i).parentNode.removeChild(i)
        }

        function x(e) {
            return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? p[f.call(e)] || "object" : typeof e
        }
        var E = function(e, t) {
            return new E.fn.init(e, t)
        };

        function C(e) {
            var t = !!e && "length" in e && e.length,
                n = x(e);
            return !v(e) && !g(e) && ("array" === n || 0 === t || "number" == typeof t && t > 0 && t - 1 in e)
        }
        E.fn = E.prototype = {
            jquery: "3.5.1",
            constructor: E,
            length: 0,
            toArray: function() {
                return s.call(this)
            },
            get: function(e) {
                return null == e ? s.call(this) : e < 0 ? this[e + this.length] : this[e]
            },
            pushStack: function(e) {
                var t = E.merge(this.constructor(), e);
                return t.prevObject = this, t
            },
            each: function(e) {
                return E.each(this, e)
            },
            map: function(e) {
                return this.pushStack(E.map(this, (function(t, n) {
                    return e.call(t, n, t)
                })))
            },
            slice: function() {
                return this.pushStack(s.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            even: function() {
                return this.pushStack(E.grep(this, (function(e, t) {
                    return (t + 1) % 2
                })))
            },
            odd: function() {
                return this.pushStack(E.grep(this, (function(e, t) {
                    return t % 2
                })))
            },
            eq: function(e) {
                var t = this.length,
                    n = +e + (e < 0 ? t : 0);
                return this.pushStack(n >= 0 && n < t ? [this[n]] : [])
            },
            end: function() {
                return this.prevObject || this.constructor()
            },
            push: c,
            sort: i.sort,
            splice: i.splice
        }, E.extend = E.fn.extend = function() {
            var e, t, n, r, o, i, a = arguments[0] || {},
                s = 1,
                u = arguments.length,
                c = !1;
            for ("boolean" == typeof a && (c = a, a = arguments[s] || {}, s++), "object" == typeof a || v(a) || (a = {}), s === u && (a = this, s--); s < u; s++)
                if (null != (e = arguments[s]))
                    for (t in e) r = e[t], "__proto__" !== t && a !== r && (c && r && (E.isPlainObject(r) || (o = Array.isArray(r))) ? (n = a[t], i = o && !Array.isArray(n) ? [] : o || E.isPlainObject(n) ? n : {}, o = !1, a[t] = E.extend(c, i, r)) : void 0 !== r && (a[t] = r));
            return a
        }, E.extend({
            expando: "jQuery" + ("3.5.1" + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function(e) {
                throw new Error(e)
            },
            noop: function() {},
            isPlainObject: function(e) {
                var t, n;
                return !(!e || "[object Object]" !== f.call(e)) && (!(t = a(e)) || "function" == typeof(n = d.call(t, "constructor") && t.constructor) && h.call(n) === y)
            },
            isEmptyObject: function(e) {
                var t;
                for (t in e) return !1;
                return !0
            },
            globalEval: function(e, t, n) {
                w(e, {
                    nonce: t && t.nonce
                }, n)
            },
            each: function(e, t) {
                var n, r = 0;
                if (C(e))
                    for (n = e.length; r < n && !1 !== t.call(e[r], r, e[r]); r++);
                else
                    for (r in e)
                        if (!1 === t.call(e[r], r, e[r])) break; return e
            },
            makeArray: function(e, t) {
                var n = t || [];
                return null != e && (C(Object(e)) ? E.merge(n, "string" == typeof e ? [e] : e) : c.call(n, e)), n
            },
            inArray: function(e, t, n) {
                return null == t ? -1 : l.call(t, e, n)
            },
            merge: function(e, t) {
                for (var n = +t.length, r = 0, o = e.length; r < n; r++) e[o++] = t[r];
                return e.length = o, e
            },
            grep: function(e, t, n) {
                for (var r = [], o = 0, i = e.length, a = !n; o < i; o++) !t(e[o], o) !== a && r.push(e[o]);
                return r
            },
            map: function(e, t, n) {
                var r, o, i = 0,
                    a = [];
                if (C(e))
                    for (r = e.length; i < r; i++) null != (o = t(e[i], i, n)) && a.push(o);
                else
                    for (i in e) null != (o = t(e[i], i, n)) && a.push(o);
                return u(a)
            },
            guid: 1,
            support: m
        }), "function" == typeof Symbol && (E.fn[Symbol.iterator] = i[Symbol.iterator]), E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), (function(e, t) {
            p["[object " + t + "]"] = t.toLowerCase()
        }));
        var O =
            /*!
             * Sizzle CSS Selector Engine v2.3.5
             * https://sizzlejs.com/
             *
             * Copyright JS Foundation and other contributors
             * Released under the MIT license
             * https://js.foundation/
             *
             * Date: 2020-03-14
             */
            function(e) {
                var t, n, r, o, i, a, s, u, c, l, p, f, d, h, y, m, v, g, b, _ = "sizzle" + 1 * new Date,
                    w = e.document,
                    x = 0,
                    E = 0,
                    C = ue(),
                    O = ue(),
                    S = ue(),
                    j = ue(),
                    k = function(e, t) {
                        return e === t && (p = !0), 0
                    },
                    P = {}.hasOwnProperty,
                    T = [],
                    D = T.pop,
                    R = T.push,
                    M = T.push,
                    A = T.slice,
                    N = function(e, t) {
                        for (var n = 0, r = e.length; n < r; n++)
                            if (e[n] === t) return n;
                        return -1
                    },
                    I = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                    L = "[\\x20\\t\\r\\n\\f]",
                    B = "(?:\\\\[\\da-fA-F]{1,6}" + L + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",
                    $ = "\\[" + L + "*(" + B + ")(?:" + L + "*([*^$|!~]?=)" + L + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + B + "))|)" + L + "*\\]",
                    V = ":(" + B + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + $ + ")*)|.*)\\)|)",
                    z = new RegExp(L + "+", "g"),
                    F = new RegExp("^" + L + "+|((?:^|[^\\\\])(?:\\\\.)*)" + L + "+$", "g"),
                    q = new RegExp("^" + L + "*," + L + "*"),
                    H = new RegExp("^" + L + "*([>+~]|" + L + ")" + L + "*"),
                    U = new RegExp(L + "|>"),
                    W = new RegExp(V),
                    G = new RegExp("^" + B + "$"),
                    K = {
                        ID: new RegExp("^#(" + B + ")"),
                        CLASS: new RegExp("^\\.(" + B + ")"),
                        TAG: new RegExp("^(" + B + "|[*])"),
                        ATTR: new RegExp("^" + $),
                        PSEUDO: new RegExp("^" + V),
                        CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + L + "*(even|odd|(([+-]|)(\\d*)n|)" + L + "*(?:([+-]|)" + L + "*(\\d+)|))" + L + "*\\)|)", "i"),
                        bool: new RegExp("^(?:" + I + ")$", "i"),
                        needsContext: new RegExp("^" + L + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + L + "*((?:-\\d)?\\d*)" + L + "*\\)|)(?=[^-]|$)", "i")
                    },
                    X = /HTML$/i,
                    Y = /^(?:input|select|textarea|button)$/i,
                    J = /^h\d$/i,
                    Z = /^[^{]+\{\s*\[native \w/,
                    Q = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                    ee = /[+~]/,
                    te = new RegExp("\\\\[\\da-fA-F]{1,6}" + L + "?|\\\\([^\\r\\n\\f])", "g"),
                    ne = function(e, t) {
                        var n = "0x" + e.slice(1) - 65536;
                        return t || (n < 0 ? String.fromCharCode(n + 65536) : String.fromCharCode(n >> 10 | 55296, 1023 & n | 56320))
                    },
                    re = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
                    oe = function(e, t) {
                        return t ? "\0" === e ? "�" : e.slice(0, -1) + "\\" + e.charCodeAt(e.length - 1).toString(16) + " " : "\\" + e
                    },
                    ie = function() {
                        f()
                    },
                    ae = _e((function(e) {
                        return !0 === e.disabled && "fieldset" === e.nodeName.toLowerCase()
                    }), {
                        dir: "parentNode",
                        next: "legend"
                    });
                try {
                    M.apply(T = A.call(w.childNodes), w.childNodes), T[w.childNodes.length].nodeType
                } catch (e) {
                    M = {
                        apply: T.length ? function(e, t) {
                            R.apply(e, A.call(t))
                        } : function(e, t) {
                            for (var n = e.length, r = 0; e[n++] = t[r++];);
                            e.length = n - 1
                        }
                    }
                }

                function se(e, t, r, o) {
                    var i, s, c, l, p, h, v, g = t && t.ownerDocument,
                        w = t ? t.nodeType : 9;
                    if (r = r || [], "string" != typeof e || !e || 1 !== w && 9 !== w && 11 !== w) return r;
                    if (!o && (f(t), t = t || d, y)) {
                        if (11 !== w && (p = Q.exec(e)))
                            if (i = p[1]) {
                                if (9 === w) {
                                    if (!(c = t.getElementById(i))) return r;
                                    if (c.id === i) return r.push(c), r
                                } else if (g && (c = g.getElementById(i)) && b(t, c) && c.id === i) return r.push(c), r
                            } else {
                                if (p[2]) return M.apply(r, t.getElementsByTagName(e)), r;
                                if ((i = p[3]) && n.getElementsByClassName && t.getElementsByClassName) return M.apply(r, t.getElementsByClassName(i)), r
                            }
                        if (n.qsa && !j[e + " "] && (!m || !m.test(e)) && (1 !== w || "object" !== t.nodeName.toLowerCase())) {
                            if (v = e, g = t, 1 === w && (U.test(e) || H.test(e))) {
                                for ((g = ee.test(e) && ve(t.parentNode) || t) === t && n.scope || ((l = t.getAttribute("id")) ? l = l.replace(re, oe) : t.setAttribute("id", l = _)), s = (h = a(e)).length; s--;) h[s] = (l ? "#" + l : ":scope") + " " + be(h[s]);
                                v = h.join(",")
                            }
                            try {
                                return M.apply(r, g.querySelectorAll(v)), r
                            } catch (t) {
                                j(e, !0)
                            } finally {
                                l === _ && t.removeAttribute("id")
                            }
                        }
                    }
                    return u(e.replace(F, "$1"), t, r, o)
                }

                function ue() {
                    var e = [];
                    return function t(n, o) {
                        return e.push(n + " ") > r.cacheLength && delete t[e.shift()], t[n + " "] = o
                    }
                }

                function ce(e) {
                    return e[_] = !0, e
                }

                function le(e) {
                    var t = d.createElement("fieldset");
                    try {
                        return !!e(t)
                    } catch (e) {
                        return !1
                    } finally {
                        t.parentNode && t.parentNode.removeChild(t), t = null
                    }
                }

                function pe(e, t) {
                    for (var n = e.split("|"), o = n.length; o--;) r.attrHandle[n[o]] = t
                }

                function fe(e, t) {
                    var n = t && e,
                        r = n && 1 === e.nodeType && 1 === t.nodeType && e.sourceIndex - t.sourceIndex;
                    if (r) return r;
                    if (n)
                        for (; n = n.nextSibling;)
                            if (n === t) return -1;
                    return e ? 1 : -1
                }

                function de(e) {
                    return function(t) {
                        return "input" === t.nodeName.toLowerCase() && t.type === e
                    }
                }

                function he(e) {
                    return function(t) {
                        var n = t.nodeName.toLowerCase();
                        return ("input" === n || "button" === n) && t.type === e
                    }
                }

                function ye(e) {
                    return function(t) {
                        return "form" in t ? t.parentNode && !1 === t.disabled ? "label" in t ? "label" in t.parentNode ? t.parentNode.disabled === e : t.disabled === e : t.isDisabled === e || t.isDisabled !== !e && ae(t) === e : t.disabled === e : "label" in t && t.disabled === e
                    }
                }

                function me(e) {
                    return ce((function(t) {
                        return t = +t, ce((function(n, r) {
                            for (var o, i = e([], n.length, t), a = i.length; a--;) n[o = i[a]] && (n[o] = !(r[o] = n[o]))
                        }))
                    }))
                }

                function ve(e) {
                    return e && void 0 !== e.getElementsByTagName && e
                }
                for (t in n = se.support = {}, i = se.isXML = function(e) {
                        var t = e.namespaceURI,
                            n = (e.ownerDocument || e).documentElement;
                        return !X.test(t || n && n.nodeName || "HTML")
                    }, f = se.setDocument = function(e) {
                        var t, o, a = e ? e.ownerDocument || e : w;
                        return a != d && 9 === a.nodeType && a.documentElement ? (h = (d = a).documentElement, y = !i(d), w != d && (o = d.defaultView) && o.top !== o && (o.addEventListener ? o.addEventListener("unload", ie, !1) : o.attachEvent && o.attachEvent("onunload", ie)), n.scope = le((function(e) {
                            return h.appendChild(e).appendChild(d.createElement("div")), void 0 !== e.querySelectorAll && !e.querySelectorAll(":scope fieldset div").length
                        })), n.attributes = le((function(e) {
                            return e.className = "i", !e.getAttribute("className")
                        })), n.getElementsByTagName = le((function(e) {
                            return e.appendChild(d.createComment("")), !e.getElementsByTagName("*").length
                        })), n.getElementsByClassName = Z.test(d.getElementsByClassName), n.getById = le((function(e) {
                            return h.appendChild(e).id = _, !d.getElementsByName || !d.getElementsByName(_).length
                        })), n.getById ? (r.filter.ID = function(e) {
                            var t = e.replace(te, ne);
                            return function(e) {
                                return e.getAttribute("id") === t
                            }
                        }, r.find.ID = function(e, t) {
                            if (void 0 !== t.getElementById && y) {
                                var n = t.getElementById(e);
                                return n ? [n] : []
                            }
                        }) : (r.filter.ID = function(e) {
                            var t = e.replace(te, ne);
                            return function(e) {
                                var n = void 0 !== e.getAttributeNode && e.getAttributeNode("id");
                                return n && n.value === t
                            }
                        }, r.find.ID = function(e, t) {
                            if (void 0 !== t.getElementById && y) {
                                var n, r, o, i = t.getElementById(e);
                                if (i) {
                                    if ((n = i.getAttributeNode("id")) && n.value === e) return [i];
                                    for (o = t.getElementsByName(e), r = 0; i = o[r++];)
                                        if ((n = i.getAttributeNode("id")) && n.value === e) return [i]
                                }
                                return []
                            }
                        }), r.find.TAG = n.getElementsByTagName ? function(e, t) {
                            return void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e) : n.qsa ? t.querySelectorAll(e) : void 0
                        } : function(e, t) {
                            var n, r = [],
                                o = 0,
                                i = t.getElementsByTagName(e);
                            if ("*" === e) {
                                for (; n = i[o++];) 1 === n.nodeType && r.push(n);
                                return r
                            }
                            return i
                        }, r.find.CLASS = n.getElementsByClassName && function(e, t) {
                            if (void 0 !== t.getElementsByClassName && y) return t.getElementsByClassName(e)
                        }, v = [], m = [], (n.qsa = Z.test(d.querySelectorAll)) && (le((function(e) {
                            var t;
                            h.appendChild(e).innerHTML = "<a id='" + _ + "'></a><select id='" + _ + "-\r\\' msallowcapture=''><option selected=''></option></select>", e.querySelectorAll("[msallowcapture^='']").length && m.push("[*^$]=" + L + "*(?:''|\"\")"), e.querySelectorAll("[selected]").length || m.push("\\[" + L + "*(?:value|" + I + ")"), e.querySelectorAll("[id~=" + _ + "-]").length || m.push("~="), (t = d.createElement("input")).setAttribute("name", ""), e.appendChild(t), e.querySelectorAll("[name='']").length || m.push("\\[" + L + "*name" + L + "*=" + L + "*(?:''|\"\")"), e.querySelectorAll(":checked").length || m.push(":checked"), e.querySelectorAll("a#" + _ + "+*").length || m.push(".#.+[+~]"), e.querySelectorAll("\\\f"), m.push("[\\r\\n\\f]")
                        })), le((function(e) {
                            e.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                            var t = d.createElement("input");
                            t.setAttribute("type", "hidden"), e.appendChild(t).setAttribute("name", "D"), e.querySelectorAll("[name=d]").length && m.push("name" + L + "*[*^$|!~]?="), 2 !== e.querySelectorAll(":enabled").length && m.push(":enabled", ":disabled"), h.appendChild(e).disabled = !0, 2 !== e.querySelectorAll(":disabled").length && m.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), m.push(",.*:")
                        }))), (n.matchesSelector = Z.test(g = h.matches || h.webkitMatchesSelector || h.mozMatchesSelector || h.oMatchesSelector || h.msMatchesSelector)) && le((function(e) {
                            n.disconnectedMatch = g.call(e, "*"), g.call(e, "[s!='']:x"), v.push("!=", V)
                        })), m = m.length && new RegExp(m.join("|")), v = v.length && new RegExp(v.join("|")), t = Z.test(h.compareDocumentPosition), b = t || Z.test(h.contains) ? function(e, t) {
                            var n = 9 === e.nodeType ? e.documentElement : e,
                                r = t && t.parentNode;
                            return e === r || !(!r || 1 !== r.nodeType || !(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r)))
                        } : function(e, t) {
                            if (t)
                                for (; t = t.parentNode;)
                                    if (t === e) return !0;
                            return !1
                        }, k = t ? function(e, t) {
                            if (e === t) return p = !0, 0;
                            var r = !e.compareDocumentPosition - !t.compareDocumentPosition;
                            return r || (1 & (r = (e.ownerDocument || e) == (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !n.sortDetached && t.compareDocumentPosition(e) === r ? e == d || e.ownerDocument == w && b(w, e) ? -1 : t == d || t.ownerDocument == w && b(w, t) ? 1 : l ? N(l, e) - N(l, t) : 0 : 4 & r ? -1 : 1)
                        } : function(e, t) {
                            if (e === t) return p = !0, 0;
                            var n, r = 0,
                                o = e.parentNode,
                                i = t.parentNode,
                                a = [e],
                                s = [t];
                            if (!o || !i) return e == d ? -1 : t == d ? 1 : o ? -1 : i ? 1 : l ? N(l, e) - N(l, t) : 0;
                            if (o === i) return fe(e, t);
                            for (n = e; n = n.parentNode;) a.unshift(n);
                            for (n = t; n = n.parentNode;) s.unshift(n);
                            for (; a[r] === s[r];) r++;
                            return r ? fe(a[r], s[r]) : a[r] == w ? -1 : s[r] == w ? 1 : 0
                        }, d) : d
                    }, se.matches = function(e, t) {
                        return se(e, null, null, t)
                    }, se.matchesSelector = function(e, t) {
                        if (f(e), n.matchesSelector && y && !j[t + " "] && (!v || !v.test(t)) && (!m || !m.test(t))) try {
                            var r = g.call(e, t);
                            if (r || n.disconnectedMatch || e.document && 11 !== e.document.nodeType) return r
                        } catch (e) {
                            j(t, !0)
                        }
                        return se(t, d, null, [e]).length > 0
                    }, se.contains = function(e, t) {
                        return (e.ownerDocument || e) != d && f(e), b(e, t)
                    }, se.attr = function(e, t) {
                        (e.ownerDocument || e) != d && f(e);
                        var o = r.attrHandle[t.toLowerCase()],
                            i = o && P.call(r.attrHandle, t.toLowerCase()) ? o(e, t, !y) : void 0;
                        return void 0 !== i ? i : n.attributes || !y ? e.getAttribute(t) : (i = e.getAttributeNode(t)) && i.specified ? i.value : null
                    }, se.escape = function(e) {
                        return (e + "").replace(re, oe)
                    }, se.error = function(e) {
                        throw new Error("Syntax error, unrecognized expression: " + e)
                    }, se.uniqueSort = function(e) {
                        var t, r = [],
                            o = 0,
                            i = 0;
                        if (p = !n.detectDuplicates, l = !n.sortStable && e.slice(0), e.sort(k), p) {
                            for (; t = e[i++];) t === e[i] && (o = r.push(i));
                            for (; o--;) e.splice(r[o], 1)
                        }
                        return l = null, e
                    }, o = se.getText = function(e) {
                        var t, n = "",
                            r = 0,
                            i = e.nodeType;
                        if (i) {
                            if (1 === i || 9 === i || 11 === i) {
                                if ("string" == typeof e.textContent) return e.textContent;
                                for (e = e.firstChild; e; e = e.nextSibling) n += o(e)
                            } else if (3 === i || 4 === i) return e.nodeValue
                        } else
                            for (; t = e[r++];) n += o(t);
                        return n
                    }, (r = se.selectors = {
                        cacheLength: 50,
                        createPseudo: ce,
                        match: K,
                        attrHandle: {},
                        find: {},
                        relative: {
                            ">": {
                                dir: "parentNode",
                                first: !0
                            },
                            " ": {
                                dir: "parentNode"
                            },
                            "+": {
                                dir: "previousSibling",
                                first: !0
                            },
                            "~": {
                                dir: "previousSibling"
                            }
                        },
                        preFilter: {
                            ATTR: function(e) {
                                return e[1] = e[1].replace(te, ne), e[3] = (e[3] || e[4] || e[5] || "").replace(te, ne), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4)
                            },
                            CHILD: function(e) {
                                return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || se.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && se.error(e[0]), e
                            },
                            PSEUDO: function(e) {
                                var t, n = !e[6] && e[2];
                                return K.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && W.test(n) && (t = a(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
                            }
                        },
                        filter: {
                            TAG: function(e) {
                                var t = e.replace(te, ne).toLowerCase();
                                return "*" === e ? function() {
                                    return !0
                                } : function(e) {
                                    return e.nodeName && e.nodeName.toLowerCase() === t
                                }
                            },
                            CLASS: function(e) {
                                var t = C[e + " "];
                                return t || (t = new RegExp("(^|" + L + ")" + e + "(" + L + "|$)")) && C(e, (function(e) {
                                    return t.test("string" == typeof e.className && e.className || void 0 !== e.getAttribute && e.getAttribute("class") || "")
                                }))
                            },
                            ATTR: function(e, t, n) {
                                return function(r) {
                                    var o = se.attr(r, e);
                                    return null == o ? "!=" === t : !t || (o += "", "=" === t ? o === n : "!=" === t ? o !== n : "^=" === t ? n && 0 === o.indexOf(n) : "*=" === t ? n && o.indexOf(n) > -1 : "$=" === t ? n && o.slice(-n.length) === n : "~=" === t ? (" " + o.replace(z, " ") + " ").indexOf(n) > -1 : "|=" === t && (o === n || o.slice(0, n.length + 1) === n + "-"))
                                }
                            },
                            CHILD: function(e, t, n, r, o) {
                                var i = "nth" !== e.slice(0, 3),
                                    a = "last" !== e.slice(-4),
                                    s = "of-type" === t;
                                return 1 === r && 0 === o ? function(e) {
                                    return !!e.parentNode
                                } : function(t, n, u) {
                                    var c, l, p, f, d, h, y = i !== a ? "nextSibling" : "previousSibling",
                                        m = t.parentNode,
                                        v = s && t.nodeName.toLowerCase(),
                                        g = !u && !s,
                                        b = !1;
                                    if (m) {
                                        if (i) {
                                            for (; y;) {
                                                for (f = t; f = f[y];)
                                                    if (s ? f.nodeName.toLowerCase() === v : 1 === f.nodeType) return !1;
                                                h = y = "only" === e && !h && "nextSibling"
                                            }
                                            return !0
                                        }
                                        if (h = [a ? m.firstChild : m.lastChild], a && g) {
                                            for (b = (d = (c = (l = (p = (f = m)[_] || (f[_] = {}))[f.uniqueID] || (p[f.uniqueID] = {}))[e] || [])[0] === x && c[1]) && c[2], f = d && m.childNodes[d]; f = ++d && f && f[y] || (b = d = 0) || h.pop();)
                                                if (1 === f.nodeType && ++b && f === t) {
                                                    l[e] = [x, d, b];
                                                    break
                                                }
                                        } else if (g && (b = d = (c = (l = (p = (f = t)[_] || (f[_] = {}))[f.uniqueID] || (p[f.uniqueID] = {}))[e] || [])[0] === x && c[1]), !1 === b)
                                            for (;
                                                (f = ++d && f && f[y] || (b = d = 0) || h.pop()) && ((s ? f.nodeName.toLowerCase() !== v : 1 !== f.nodeType) || !++b || (g && ((l = (p = f[_] || (f[_] = {}))[f.uniqueID] || (p[f.uniqueID] = {}))[e] = [x, b]), f !== t)););
                                        return (b -= o) === r || b % r == 0 && b / r >= 0
                                    }
                                }
                            },
                            PSEUDO: function(e, t) {
                                var n, o = r.pseudos[e] || r.setFilters[e.toLowerCase()] || se.error("unsupported pseudo: " + e);
                                return o[_] ? o(t) : o.length > 1 ? (n = [e, e, "", t], r.setFilters.hasOwnProperty(e.toLowerCase()) ? ce((function(e, n) {
                                    for (var r, i = o(e, t), a = i.length; a--;) e[r = N(e, i[a])] = !(n[r] = i[a])
                                })) : function(e) {
                                    return o(e, 0, n)
                                }) : o
                            }
                        },
                        pseudos: {
                            not: ce((function(e) {
                                var t = [],
                                    n = [],
                                    r = s(e.replace(F, "$1"));
                                return r[_] ? ce((function(e, t, n, o) {
                                    for (var i, a = r(e, null, o, []), s = e.length; s--;)(i = a[s]) && (e[s] = !(t[s] = i))
                                })) : function(e, o, i) {
                                    return t[0] = e, r(t, null, i, n), t[0] = null, !n.pop()
                                }
                            })),
                            has: ce((function(e) {
                                return function(t) {
                                    return se(e, t).length > 0
                                }
                            })),
                            contains: ce((function(e) {
                                return e = e.replace(te, ne),
                                    function(t) {
                                        return (t.textContent || o(t)).indexOf(e) > -1
                                    }
                            })),
                            lang: ce((function(e) {
                                return G.test(e || "") || se.error("unsupported lang: " + e), e = e.replace(te, ne).toLowerCase(),
                                    function(t) {
                                        var n;
                                        do {
                                            if (n = y ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return (n = n.toLowerCase()) === e || 0 === n.indexOf(e + "-")
                                        } while ((t = t.parentNode) && 1 === t.nodeType);
                                        return !1
                                    }
                            })),
                            target: function(t) {
                                var n = e.location && e.location.hash;
                                return n && n.slice(1) === t.id
                            },
                            root: function(e) {
                                return e === h
                            },
                            focus: function(e) {
                                return e === d.activeElement && (!d.hasFocus || d.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                            },
                            enabled: ye(!1),
                            disabled: ye(!0),
                            checked: function(e) {
                                var t = e.nodeName.toLowerCase();
                                return "input" === t && !!e.checked || "option" === t && !!e.selected
                            },
                            selected: function(e) {
                                return e.parentNode && e.parentNode.selectedIndex, !0 === e.selected
                            },
                            empty: function(e) {
                                for (e = e.firstChild; e; e = e.nextSibling)
                                    if (e.nodeType < 6) return !1;
                                return !0
                            },
                            parent: function(e) {
                                return !r.pseudos.empty(e)
                            },
                            header: function(e) {
                                return J.test(e.nodeName)
                            },
                            input: function(e) {
                                return Y.test(e.nodeName)
                            },
                            button: function(e) {
                                var t = e.nodeName.toLowerCase();
                                return "input" === t && "button" === e.type || "button" === t
                            },
                            text: function(e) {
                                var t;
                                return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                            },
                            first: me((function() {
                                return [0]
                            })),
                            last: me((function(e, t) {
                                return [t - 1]
                            })),
                            eq: me((function(e, t, n) {
                                return [n < 0 ? n + t : n]
                            })),
                            even: me((function(e, t) {
                                for (var n = 0; n < t; n += 2) e.push(n);
                                return e
                            })),
                            odd: me((function(e, t) {
                                for (var n = 1; n < t; n += 2) e.push(n);
                                return e
                            })),
                            lt: me((function(e, t, n) {
                                for (var r = n < 0 ? n + t : n > t ? t : n; --r >= 0;) e.push(r);
                                return e
                            })),
                            gt: me((function(e, t, n) {
                                for (var r = n < 0 ? n + t : n; ++r < t;) e.push(r);
                                return e
                            }))
                        }
                    }).pseudos.nth = r.pseudos.eq, {
                        radio: !0,
                        checkbox: !0,
                        file: !0,
                        password: !0,
                        image: !0
                    }) r.pseudos[t] = de(t);
                for (t in {
                        submit: !0,
                        reset: !0
                    }) r.pseudos[t] = he(t);

                function ge() {}

                function be(e) {
                    for (var t = 0, n = e.length, r = ""; t < n; t++) r += e[t].value;
                    return r
                }

                function _e(e, t, n) {
                    var r = t.dir,
                        o = t.next,
                        i = o || r,
                        a = n && "parentNode" === i,
                        s = E++;
                    return t.first ? function(t, n, o) {
                        for (; t = t[r];)
                            if (1 === t.nodeType || a) return e(t, n, o);
                        return !1
                    } : function(t, n, u) {
                        var c, l, p, f = [x, s];
                        if (u) {
                            for (; t = t[r];)
                                if ((1 === t.nodeType || a) && e(t, n, u)) return !0
                        } else
                            for (; t = t[r];)
                                if (1 === t.nodeType || a)
                                    if (l = (p = t[_] || (t[_] = {}))[t.uniqueID] || (p[t.uniqueID] = {}), o && o === t.nodeName.toLowerCase()) t = t[r] || t;
                                    else {
                                        if ((c = l[i]) && c[0] === x && c[1] === s) return f[2] = c[2];
                                        if (l[i] = f, f[2] = e(t, n, u)) return !0
                                    } return !1
                    }
                }

                function we(e) {
                    return e.length > 1 ? function(t, n, r) {
                        for (var o = e.length; o--;)
                            if (!e[o](t, n, r)) return !1;
                        return !0
                    } : e[0]
                }

                function xe(e, t, n, r, o) {
                    for (var i, a = [], s = 0, u = e.length, c = null != t; s < u; s++)(i = e[s]) && (n && !n(i, r, o) || (a.push(i), c && t.push(s)));
                    return a
                }

                function Ee(e, t, n, r, o, i) {
                    return r && !r[_] && (r = Ee(r)), o && !o[_] && (o = Ee(o, i)), ce((function(i, a, s, u) {
                        var c, l, p, f = [],
                            d = [],
                            h = a.length,
                            y = i || function(e, t, n) {
                                for (var r = 0, o = t.length; r < o; r++) se(e, t[r], n);
                                return n
                            }(t || "*", s.nodeType ? [s] : s, []),
                            m = !e || !i && t ? y : xe(y, f, e, s, u),
                            v = n ? o || (i ? e : h || r) ? [] : a : m;
                        if (n && n(m, v, s, u), r)
                            for (c = xe(v, d), r(c, [], s, u), l = c.length; l--;)(p = c[l]) && (v[d[l]] = !(m[d[l]] = p));
                        if (i) {
                            if (o || e) {
                                if (o) {
                                    for (c = [], l = v.length; l--;)(p = v[l]) && c.push(m[l] = p);
                                    o(null, v = [], c, u)
                                }
                                for (l = v.length; l--;)(p = v[l]) && (c = o ? N(i, p) : f[l]) > -1 && (i[c] = !(a[c] = p))
                            }
                        } else v = xe(v === a ? v.splice(h, v.length) : v), o ? o(null, a, v, u) : M.apply(a, v)
                    }))
                }

                function Ce(e) {
                    for (var t, n, o, i = e.length, a = r.relative[e[0].type], s = a || r.relative[" "], u = a ? 1 : 0, l = _e((function(e) {
                            return e === t
                        }), s, !0), p = _e((function(e) {
                            return N(t, e) > -1
                        }), s, !0), f = [function(e, n, r) {
                            var o = !a && (r || n !== c) || ((t = n).nodeType ? l(e, n, r) : p(e, n, r));
                            return t = null, o
                        }]; u < i; u++)
                        if (n = r.relative[e[u].type]) f = [_e(we(f), n)];
                        else {
                            if ((n = r.filter[e[u].type].apply(null, e[u].matches))[_]) {
                                for (o = ++u; o < i && !r.relative[e[o].type]; o++);
                                return Ee(u > 1 && we(f), u > 1 && be(e.slice(0, u - 1).concat({
                                    value: " " === e[u - 2].type ? "*" : ""
                                })).replace(F, "$1"), n, u < o && Ce(e.slice(u, o)), o < i && Ce(e = e.slice(o)), o < i && be(e))
                            }
                            f.push(n)
                        }
                    return we(f)
                }
                return ge.prototype = r.filters = r.pseudos, r.setFilters = new ge, a = se.tokenize = function(e, t) {
                    var n, o, i, a, s, u, c, l = O[e + " "];
                    if (l) return t ? 0 : l.slice(0);
                    for (s = e, u = [], c = r.preFilter; s;) {
                        for (a in n && !(o = q.exec(s)) || (o && (s = s.slice(o[0].length) || s), u.push(i = [])), n = !1, (o = H.exec(s)) && (n = o.shift(), i.push({
                                value: n,
                                type: o[0].replace(F, " ")
                            }), s = s.slice(n.length)), r.filter) !(o = K[a].exec(s)) || c[a] && !(o = c[a](o)) || (n = o.shift(), i.push({
                            value: n,
                            type: a,
                            matches: o
                        }), s = s.slice(n.length));
                        if (!n) break
                    }
                    return t ? s.length : s ? se.error(e) : O(e, u).slice(0)
                }, s = se.compile = function(e, t) {
                    var n, o = [],
                        i = [],
                        s = S[e + " "];
                    if (!s) {
                        for (t || (t = a(e)), n = t.length; n--;)(s = Ce(t[n]))[_] ? o.push(s) : i.push(s);
                        (s = S(e, function(e, t) {
                            var n = t.length > 0,
                                o = e.length > 0,
                                i = function(i, a, s, u, l) {
                                    var p, h, m, v = 0,
                                        g = "0",
                                        b = i && [],
                                        _ = [],
                                        w = c,
                                        E = i || o && r.find.TAG("*", l),
                                        C = x += null == w ? 1 : Math.random() || .1,
                                        O = E.length;
                                    for (l && (c = a == d || a || l); g !== O && null != (p = E[g]); g++) {
                                        if (o && p) {
                                            for (h = 0, a || p.ownerDocument == d || (f(p), s = !y); m = e[h++];)
                                                if (m(p, a || d, s)) {
                                                    u.push(p);
                                                    break
                                                }
                                            l && (x = C)
                                        }
                                        n && ((p = !m && p) && v--, i && b.push(p))
                                    }
                                    if (v += g, n && g !== v) {
                                        for (h = 0; m = t[h++];) m(b, _, a, s);
                                        if (i) {
                                            if (v > 0)
                                                for (; g--;) b[g] || _[g] || (_[g] = D.call(u));
                                            _ = xe(_)
                                        }
                                        M.apply(u, _), l && !i && _.length > 0 && v + t.length > 1 && se.uniqueSort(u)
                                    }
                                    return l && (x = C, c = w), b
                                };
                            return n ? ce(i) : i
                        }(i, o))).selector = e
                    }
                    return s
                }, u = se.select = function(e, t, n, o) {
                    var i, u, c, l, p, f = "function" == typeof e && e,
                        d = !o && a(e = f.selector || e);
                    if (n = n || [], 1 === d.length) {
                        if ((u = d[0] = d[0].slice(0)).length > 2 && "ID" === (c = u[0]).type && 9 === t.nodeType && y && r.relative[u[1].type]) {
                            if (!(t = (r.find.ID(c.matches[0].replace(te, ne), t) || [])[0])) return n;
                            f && (t = t.parentNode), e = e.slice(u.shift().value.length)
                        }
                        for (i = K.needsContext.test(e) ? 0 : u.length; i-- && (c = u[i], !r.relative[l = c.type]);)
                            if ((p = r.find[l]) && (o = p(c.matches[0].replace(te, ne), ee.test(u[0].type) && ve(t.parentNode) || t))) {
                                if (u.splice(i, 1), !(e = o.length && be(u))) return M.apply(n, o), n;
                                break
                            }
                    }
                    return (f || s(e, d))(o, t, !y, n, !t || ee.test(e) && ve(t.parentNode) || t), n
                }, n.sortStable = _.split("").sort(k).join("") === _, n.detectDuplicates = !!p, f(), n.sortDetached = le((function(e) {
                    return 1 & e.compareDocumentPosition(d.createElement("fieldset"))
                })), le((function(e) {
                    return e.innerHTML = "<a href='#'></a>", "#" === e.firstChild.getAttribute("href")
                })) || pe("type|href|height|width", (function(e, t, n) {
                    if (!n) return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
                })), n.attributes && le((function(e) {
                    return e.innerHTML = "<input/>", e.firstChild.setAttribute("value", ""), "" === e.firstChild.getAttribute("value")
                })) || pe("value", (function(e, t, n) {
                    if (!n && "input" === e.nodeName.toLowerCase()) return e.defaultValue
                })), le((function(e) {
                    return null == e.getAttribute("disabled")
                })) || pe(I, (function(e, t, n) {
                    var r;
                    if (!n) return !0 === e[t] ? t.toLowerCase() : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
                })), se
            }(n);
        E.find = O, E.expr = O.selectors, E.expr[":"] = E.expr.pseudos, E.uniqueSort = E.unique = O.uniqueSort, E.text = O.getText, E.isXMLDoc = O.isXML, E.contains = O.contains, E.escapeSelector = O.escape;
        var S = function(e, t, n) {
                for (var r = [], o = void 0 !== n;
                    (e = e[t]) && 9 !== e.nodeType;)
                    if (1 === e.nodeType) {
                        if (o && E(e).is(n)) break;
                        r.push(e)
                    }
                return r
            },
            j = function(e, t) {
                for (var n = []; e; e = e.nextSibling) 1 === e.nodeType && e !== t && n.push(e);
                return n
            },
            k = E.expr.match.needsContext;

        function P(e, t) {
            return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
        }
        var T = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;

        function D(e, t, n) {
            return v(t) ? E.grep(e, (function(e, r) {
                return !!t.call(e, r, e) !== n
            })) : t.nodeType ? E.grep(e, (function(e) {
                return e === t !== n
            })) : "string" != typeof t ? E.grep(e, (function(e) {
                return l.call(t, e) > -1 !== n
            })) : E.filter(t, e, n)
        }
        E.filter = function(e, t, n) {
            var r = t[0];
            return n && (e = ":not(" + e + ")"), 1 === t.length && 1 === r.nodeType ? E.find.matchesSelector(r, e) ? [r] : [] : E.find.matches(e, E.grep(t, (function(e) {
                return 1 === e.nodeType
            })))
        }, E.fn.extend({
            find: function(e) {
                var t, n, r = this.length,
                    o = this;
                if ("string" != typeof e) return this.pushStack(E(e).filter((function() {
                    for (t = 0; t < r; t++)
                        if (E.contains(o[t], this)) return !0
                })));
                for (n = this.pushStack([]), t = 0; t < r; t++) E.find(e, o[t], n);
                return r > 1 ? E.uniqueSort(n) : n
            },
            filter: function(e) {
                return this.pushStack(D(this, e || [], !1))
            },
            not: function(e) {
                return this.pushStack(D(this, e || [], !0))
            },
            is: function(e) {
                return !!D(this, "string" == typeof e && k.test(e) ? E(e) : e || [], !1).length
            }
        });
        var R, M = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
        (E.fn.init = function(e, t, n) {
            var r, o;
            if (!e) return this;
            if (n = n || R, "string" == typeof e) {
                if (!(r = "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3 ? [null, e, null] : M.exec(e)) || !r[1] && t) return !t || t.jquery ? (t || n).find(e) : this.constructor(t).find(e);
                if (r[1]) {
                    if (t = t instanceof E ? t[0] : t, E.merge(this, E.parseHTML(r[1], t && t.nodeType ? t.ownerDocument || t : b, !0)), T.test(r[1]) && E.isPlainObject(t))
                        for (r in t) v(this[r]) ? this[r](t[r]) : this.attr(r, t[r]);
                    return this
                }
                return (o = b.getElementById(r[2])) && (this[0] = o, this.length = 1), this
            }
            return e.nodeType ? (this[0] = e, this.length = 1, this) : v(e) ? void 0 !== n.ready ? n.ready(e) : e(E) : E.makeArray(e, this)
        }).prototype = E.fn, R = E(b);
        var A = /^(?:parents|prev(?:Until|All))/,
            N = {
                children: !0,
                contents: !0,
                next: !0,
                prev: !0
            };

        function I(e, t) {
            for (;
                (e = e[t]) && 1 !== e.nodeType;);
            return e
        }
        E.fn.extend({
            has: function(e) {
                var t = E(e, this),
                    n = t.length;
                return this.filter((function() {
                    for (var e = 0; e < n; e++)
                        if (E.contains(this, t[e])) return !0
                }))
            },
            closest: function(e, t) {
                var n, r = 0,
                    o = this.length,
                    i = [],
                    a = "string" != typeof e && E(e);
                if (!k.test(e))
                    for (; r < o; r++)
                        for (n = this[r]; n && n !== t; n = n.parentNode)
                            if (n.nodeType < 11 && (a ? a.index(n) > -1 : 1 === n.nodeType && E.find.matchesSelector(n, e))) {
                                i.push(n);
                                break
                            }
                return this.pushStack(i.length > 1 ? E.uniqueSort(i) : i)
            },
            index: function(e) {
                return e ? "string" == typeof e ? l.call(E(e), this[0]) : l.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            },
            add: function(e, t) {
                return this.pushStack(E.uniqueSort(E.merge(this.get(), E(e, t))))
            },
            addBack: function(e) {
                return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
            }
        }), E.each({
            parent: function(e) {
                var t = e.parentNode;
                return t && 11 !== t.nodeType ? t : null
            },
            parents: function(e) {
                return S(e, "parentNode")
            },
            parentsUntil: function(e, t, n) {
                return S(e, "parentNode", n)
            },
            next: function(e) {
                return I(e, "nextSibling")
            },
            prev: function(e) {
                return I(e, "previousSibling")
            },
            nextAll: function(e) {
                return S(e, "nextSibling")
            },
            prevAll: function(e) {
                return S(e, "previousSibling")
            },
            nextUntil: function(e, t, n) {
                return S(e, "nextSibling", n)
            },
            prevUntil: function(e, t, n) {
                return S(e, "previousSibling", n)
            },
            siblings: function(e) {
                return j((e.parentNode || {}).firstChild, e)
            },
            children: function(e) {
                return j(e.firstChild)
            },
            contents: function(e) {
                return null != e.contentDocument && a(e.contentDocument) ? e.contentDocument : (P(e, "template") && (e = e.content || e), E.merge([], e.childNodes))
            }
        }, (function(e, t) {
            E.fn[e] = function(n, r) {
                var o = E.map(this, t, n);
                return "Until" !== e.slice(-5) && (r = n), r && "string" == typeof r && (o = E.filter(r, o)), this.length > 1 && (N[e] || E.uniqueSort(o), A.test(e) && o.reverse()), this.pushStack(o)
            }
        }));
        var L = /[^\x20\t\r\n\f]+/g;

        function B(e) {
            return e
        }

        function $(e) {
            throw e
        }

        function V(e, t, n, r) {
            var o;
            try {
                e && v(o = e.promise) ? o.call(e).done(t).fail(n) : e && v(o = e.then) ? o.call(e, t, n) : t.apply(void 0, [e].slice(r))
            } catch (e) {
                n.apply(void 0, [e])
            }
        }
        E.Callbacks = function(e) {
            e = "string" == typeof e ? function(e) {
                var t = {};
                return E.each(e.match(L) || [], (function(e, n) {
                    t[n] = !0
                })), t
            }(e) : E.extend({}, e);
            var t, n, r, o, i = [],
                a = [],
                s = -1,
                u = function() {
                    for (o = o || e.once, r = t = !0; a.length; s = -1)
                        for (n = a.shift(); ++s < i.length;) !1 === i[s].apply(n[0], n[1]) && e.stopOnFalse && (s = i.length, n = !1);
                    e.memory || (n = !1), t = !1, o && (i = n ? [] : "")
                },
                c = {
                    add: function() {
                        return i && (n && !t && (s = i.length - 1, a.push(n)), function t(n) {
                            E.each(n, (function(n, r) {
                                v(r) ? e.unique && c.has(r) || i.push(r) : r && r.length && "string" !== x(r) && t(r)
                            }))
                        }(arguments), n && !t && u()), this
                    },
                    remove: function() {
                        return E.each(arguments, (function(e, t) {
                            for (var n;
                                (n = E.inArray(t, i, n)) > -1;) i.splice(n, 1), n <= s && s--
                        })), this
                    },
                    has: function(e) {
                        return e ? E.inArray(e, i) > -1 : i.length > 0
                    },
                    empty: function() {
                        return i && (i = []), this
                    },
                    disable: function() {
                        return o = a = [], i = n = "", this
                    },
                    disabled: function() {
                        return !i
                    },
                    lock: function() {
                        return o = a = [], n || t || (i = n = ""), this
                    },
                    locked: function() {
                        return !!o
                    },
                    fireWith: function(e, n) {
                        return o || (n = [e, (n = n || []).slice ? n.slice() : n], a.push(n), t || u()), this
                    },
                    fire: function() {
                        return c.fireWith(this, arguments), this
                    },
                    fired: function() {
                        return !!r
                    }
                };
            return c
        }, E.extend({
            Deferred: function(e) {
                var t = [
                        ["notify", "progress", E.Callbacks("memory"), E.Callbacks("memory"), 2],
                        ["resolve", "done", E.Callbacks("once memory"), E.Callbacks("once memory"), 0, "resolved"],
                        ["reject", "fail", E.Callbacks("once memory"), E.Callbacks("once memory"), 1, "rejected"]
                    ],
                    r = "pending",
                    o = {
                        state: function() {
                            return r
                        },
                        always: function() {
                            return i.done(arguments).fail(arguments), this
                        },
                        catch: function(e) {
                            return o.then(null, e)
                        },
                        pipe: function() {
                            var e = arguments;
                            return E.Deferred((function(n) {
                                E.each(t, (function(t, r) {
                                    var o = v(e[r[4]]) && e[r[4]];
                                    i[r[1]]((function() {
                                        var e = o && o.apply(this, arguments);
                                        e && v(e.promise) ? e.promise().progress(n.notify).done(n.resolve).fail(n.reject) : n[r[0] + "With"](this, o ? [e] : arguments)
                                    }))
                                })), e = null
                            })).promise()
                        },
                        then: function(e, r, o) {
                            var i = 0;

                            function a(e, t, r, o) {
                                return function() {
                                    var s = this,
                                        u = arguments,
                                        c = function() {
                                            var n, c;
                                            if (!(e < i)) {
                                                if ((n = r.apply(s, u)) === t.promise()) throw new TypeError("Thenable self-resolution");
                                                c = n && ("object" == typeof n || "function" == typeof n) && n.then, v(c) ? o ? c.call(n, a(i, t, B, o), a(i, t, $, o)) : (i++, c.call(n, a(i, t, B, o), a(i, t, $, o), a(i, t, B, t.notifyWith))) : (r !== B && (s = void 0, u = [n]), (o || t.resolveWith)(s, u))
                                            }
                                        },
                                        l = o ? c : function() {
                                            try {
                                                c()
                                            } catch (n) {
                                                E.Deferred.exceptionHook && E.Deferred.exceptionHook(n, l.stackTrace), e + 1 >= i && (r !== $ && (s = void 0, u = [n]), t.rejectWith(s, u))
                                            }
                                        };
                                    e ? l() : (E.Deferred.getStackHook && (l.stackTrace = E.Deferred.getStackHook()), n.setTimeout(l))
                                }
                            }
                            return E.Deferred((function(n) {
                                t[0][3].add(a(0, n, v(o) ? o : B, n.notifyWith)), t[1][3].add(a(0, n, v(e) ? e : B)), t[2][3].add(a(0, n, v(r) ? r : $))
                            })).promise()
                        },
                        promise: function(e) {
                            return null != e ? E.extend(e, o) : o
                        }
                    },
                    i = {};
                return E.each(t, (function(e, n) {
                    var a = n[2],
                        s = n[5];
                    o[n[1]] = a.add, s && a.add((function() {
                        r = s
                    }), t[3 - e][2].disable, t[3 - e][3].disable, t[0][2].lock, t[0][3].lock), a.add(n[3].fire), i[n[0]] = function() {
                        return i[n[0] + "With"](this === i ? void 0 : this, arguments), this
                    }, i[n[0] + "With"] = a.fireWith
                })), o.promise(i), e && e.call(i, i), i
            },
            when: function(e) {
                var t = arguments.length,
                    n = t,
                    r = Array(n),
                    o = s.call(arguments),
                    i = E.Deferred(),
                    a = function(e) {
                        return function(n) {
                            r[e] = this, o[e] = arguments.length > 1 ? s.call(arguments) : n, --t || i.resolveWith(r, o)
                        }
                    };
                if (t <= 1 && (V(e, i.done(a(n)).resolve, i.reject, !t), "pending" === i.state() || v(o[n] && o[n].then))) return i.then();
                for (; n--;) V(o[n], a(n), i.reject);
                return i.promise()
            }
        });
        var z = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
        E.Deferred.exceptionHook = function(e, t) {
            n.console && n.console.warn && e && z.test(e.name) && n.console.warn("jQuery.Deferred exception: " + e.message, e.stack, t)
        }, E.readyException = function(e) {
            n.setTimeout((function() {
                throw e
            }))
        };
        var F = E.Deferred();

        function q() {
            b.removeEventListener("DOMContentLoaded", q), n.removeEventListener("load", q), E.ready()
        }
        E.fn.ready = function(e) {
            return F.then(e).catch((function(e) {
                E.readyException(e)
            })), this
        }, E.extend({
            isReady: !1,
            readyWait: 1,
            ready: function(e) {
                (!0 === e ? --E.readyWait : E.isReady) || (E.isReady = !0, !0 !== e && --E.readyWait > 0 || F.resolveWith(b, [E]))
            }
        }), E.ready.then = F.then, "complete" === b.readyState || "loading" !== b.readyState && !b.documentElement.doScroll ? n.setTimeout(E.ready) : (b.addEventListener("DOMContentLoaded", q), n.addEventListener("load", q));
        var H = function(e, t, n, r, o, i, a) {
                var s = 0,
                    u = e.length,
                    c = null == n;
                if ("object" === x(n))
                    for (s in o = !0, n) H(e, t, s, n[s], !0, i, a);
                else if (void 0 !== r && (o = !0, v(r) || (a = !0), c && (a ? (t.call(e, r), t = null) : (c = t, t = function(e, t, n) {
                        return c.call(E(e), n)
                    })), t))
                    for (; s < u; s++) t(e[s], n, a ? r : r.call(e[s], s, t(e[s], n)));
                return o ? e : c ? t.call(e) : u ? t(e[0], n) : i
            },
            U = /^-ms-/,
            W = /-([a-z])/g;

        function G(e, t) {
            return t.toUpperCase()
        }

        function K(e) {
            return e.replace(U, "ms-").replace(W, G)
        }
        var X = function(e) {
            return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType
        };

        function Y() {
            this.expando = E.expando + Y.uid++
        }
        Y.uid = 1, Y.prototype = {
            cache: function(e) {
                var t = e[this.expando];
                return t || (t = {}, X(e) && (e.nodeType ? e[this.expando] = t : Object.defineProperty(e, this.expando, {
                    value: t,
                    configurable: !0
                }))), t
            },
            set: function(e, t, n) {
                var r, o = this.cache(e);
                if ("string" == typeof t) o[K(t)] = n;
                else
                    for (r in t) o[K(r)] = t[r];
                return o
            },
            get: function(e, t) {
                return void 0 === t ? this.cache(e) : e[this.expando] && e[this.expando][K(t)]
            },
            access: function(e, t, n) {
                return void 0 === t || t && "string" == typeof t && void 0 === n ? this.get(e, t) : (this.set(e, t, n), void 0 !== n ? n : t)
            },
            remove: function(e, t) {
                var n, r = e[this.expando];
                if (void 0 !== r) {
                    if (void 0 !== t) {
                        n = (t = Array.isArray(t) ? t.map(K) : (t = K(t)) in r ? [t] : t.match(L) || []).length;
                        for (; n--;) delete r[t[n]]
                    }(void 0 === t || E.isEmptyObject(r)) && (e.nodeType ? e[this.expando] = void 0 : delete e[this.expando])
                }
            },
            hasData: function(e) {
                var t = e[this.expando];
                return void 0 !== t && !E.isEmptyObject(t)
            }
        };
        var J = new Y,
            Z = new Y,
            Q = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
            ee = /[A-Z]/g;

        function te(e, t, n) {
            var r;
            if (void 0 === n && 1 === e.nodeType)
                if (r = "data-" + t.replace(ee, "-$&").toLowerCase(), "string" == typeof(n = e.getAttribute(r))) {
                    try {
                        n = function(e) {
                            return "true" === e || "false" !== e && ("null" === e ? null : e === +e + "" ? +e : Q.test(e) ? JSON.parse(e) : e)
                        }(n)
                    } catch (e) {}
                    Z.set(e, t, n)
                } else n = void 0;
            return n
        }
        E.extend({
            hasData: function(e) {
                return Z.hasData(e) || J.hasData(e)
            },
            data: function(e, t, n) {
                return Z.access(e, t, n)
            },
            removeData: function(e, t) {
                Z.remove(e, t)
            },
            _data: function(e, t, n) {
                return J.access(e, t, n)
            },
            _removeData: function(e, t) {
                J.remove(e, t)
            }
        }), E.fn.extend({
            data: function(e, t) {
                var n, r, o, i = this[0],
                    a = i && i.attributes;
                if (void 0 === e) {
                    if (this.length && (o = Z.get(i), 1 === i.nodeType && !J.get(i, "hasDataAttrs"))) {
                        for (n = a.length; n--;) a[n] && 0 === (r = a[n].name).indexOf("data-") && (r = K(r.slice(5)), te(i, r, o[r]));
                        J.set(i, "hasDataAttrs", !0)
                    }
                    return o
                }
                return "object" == typeof e ? this.each((function() {
                    Z.set(this, e)
                })) : H(this, (function(t) {
                    var n;
                    if (i && void 0 === t) return void 0 !== (n = Z.get(i, e)) || void 0 !== (n = te(i, e)) ? n : void 0;
                    this.each((function() {
                        Z.set(this, e, t)
                    }))
                }), null, t, arguments.length > 1, null, !0)
            },
            removeData: function(e) {
                return this.each((function() {
                    Z.remove(this, e)
                }))
            }
        }), E.extend({
            queue: function(e, t, n) {
                var r;
                if (e) return t = (t || "fx") + "queue", r = J.get(e, t), n && (!r || Array.isArray(n) ? r = J.access(e, t, E.makeArray(n)) : r.push(n)), r || []
            },
            dequeue: function(e, t) {
                t = t || "fx";
                var n = E.queue(e, t),
                    r = n.length,
                    o = n.shift(),
                    i = E._queueHooks(e, t);
                "inprogress" === o && (o = n.shift(), r--), o && ("fx" === t && n.unshift("inprogress"), delete i.stop, o.call(e, (function() {
                    E.dequeue(e, t)
                }), i)), !r && i && i.empty.fire()
            },
            _queueHooks: function(e, t) {
                var n = t + "queueHooks";
                return J.get(e, n) || J.access(e, n, {
                    empty: E.Callbacks("once memory").add((function() {
                        J.remove(e, [t + "queue", n])
                    }))
                })
            }
        }), E.fn.extend({
            queue: function(e, t) {
                var n = 2;
                return "string" != typeof e && (t = e, e = "fx", n--), arguments.length < n ? E.queue(this[0], e) : void 0 === t ? this : this.each((function() {
                    var n = E.queue(this, e, t);
                    E._queueHooks(this, e), "fx" === e && "inprogress" !== n[0] && E.dequeue(this, e)
                }))
            },
            dequeue: function(e) {
                return this.each((function() {
                    E.dequeue(this, e)
                }))
            },
            clearQueue: function(e) {
                return this.queue(e || "fx", [])
            },
            promise: function(e, t) {
                var n, r = 1,
                    o = E.Deferred(),
                    i = this,
                    a = this.length,
                    s = function() {
                        --r || o.resolveWith(i, [i])
                    };
                for ("string" != typeof e && (t = e, e = void 0), e = e || "fx"; a--;)(n = J.get(i[a], e + "queueHooks")) && n.empty && (r++, n.empty.add(s));
                return s(), o.promise(t)
            }
        });
        var ne = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
            re = new RegExp("^(?:([+-])=|)(" + ne + ")([a-z%]*)$", "i"),
            oe = ["Top", "Right", "Bottom", "Left"],
            ie = b.documentElement,
            ae = function(e) {
                return E.contains(e.ownerDocument, e)
            },
            se = {
                composed: !0
            };
        ie.getRootNode && (ae = function(e) {
            return E.contains(e.ownerDocument, e) || e.getRootNode(se) === e.ownerDocument
        });
        var ue = function(e, t) {
            return "none" === (e = t || e).style.display || "" === e.style.display && ae(e) && "none" === E.css(e, "display")
        };

        function ce(e, t, n, r) {
            var o, i, a = 20,
                s = r ? function() {
                    return r.cur()
                } : function() {
                    return E.css(e, t, "")
                },
                u = s(),
                c = n && n[3] || (E.cssNumber[t] ? "" : "px"),
                l = e.nodeType && (E.cssNumber[t] || "px" !== c && +u) && re.exec(E.css(e, t));
            if (l && l[3] !== c) {
                for (u /= 2, c = c || l[3], l = +u || 1; a--;) E.style(e, t, l + c), (1 - i) * (1 - (i = s() / u || .5)) <= 0 && (a = 0), l /= i;
                l *= 2, E.style(e, t, l + c), n = n || []
            }
            return n && (l = +l || +u || 0, o = n[1] ? l + (n[1] + 1) * n[2] : +n[2], r && (r.unit = c, r.start = l, r.end = o)), o
        }
        var le = {};

        function pe(e) {
            var t, n = e.ownerDocument,
                r = e.nodeName,
                o = le[r];
            return o || (t = n.body.appendChild(n.createElement(r)), o = E.css(t, "display"), t.parentNode.removeChild(t), "none" === o && (o = "block"), le[r] = o, o)
        }

        function fe(e, t) {
            for (var n, r, o = [], i = 0, a = e.length; i < a; i++)(r = e[i]).style && (n = r.style.display, t ? ("none" === n && (o[i] = J.get(r, "display") || null, o[i] || (r.style.display = "")), "" === r.style.display && ue(r) && (o[i] = pe(r))) : "none" !== n && (o[i] = "none", J.set(r, "display", n)));
            for (i = 0; i < a; i++) null != o[i] && (e[i].style.display = o[i]);
            return e
        }
        E.fn.extend({
            show: function() {
                return fe(this, !0)
            },
            hide: function() {
                return fe(this)
            },
            toggle: function(e) {
                return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each((function() {
                    ue(this) ? E(this).show() : E(this).hide()
                }))
            }
        });
        var de, he, ye = /^(?:checkbox|radio)$/i,
            me = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
            ve = /^$|^module$|\/(?:java|ecma)script/i;
        de = b.createDocumentFragment().appendChild(b.createElement("div")), (he = b.createElement("input")).setAttribute("type", "radio"), he.setAttribute("checked", "checked"), he.setAttribute("name", "t"), de.appendChild(he), m.checkClone = de.cloneNode(!0).cloneNode(!0).lastChild.checked, de.innerHTML = "<textarea>x</textarea>", m.noCloneChecked = !!de.cloneNode(!0).lastChild.defaultValue, de.innerHTML = "<option></option>", m.option = !!de.lastChild;
        var ge = {
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };

        function be(e, t) {
            var n;
            return n = void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t || "*") : void 0 !== e.querySelectorAll ? e.querySelectorAll(t || "*") : [], void 0 === t || t && P(e, t) ? E.merge([e], n) : n
        }

        function _e(e, t) {
            for (var n = 0, r = e.length; n < r; n++) J.set(e[n], "globalEval", !t || J.get(t[n], "globalEval"))
        }
        ge.tbody = ge.tfoot = ge.colgroup = ge.caption = ge.thead, ge.th = ge.td, m.option || (ge.optgroup = ge.option = [1, "<select multiple='multiple'>", "</select>"]);
        var we = /<|&#?\w+;/;

        function xe(e, t, n, r, o) {
            for (var i, a, s, u, c, l, p = t.createDocumentFragment(), f = [], d = 0, h = e.length; d < h; d++)
                if ((i = e[d]) || 0 === i)
                    if ("object" === x(i)) E.merge(f, i.nodeType ? [i] : i);
                    else if (we.test(i)) {
                for (a = a || p.appendChild(t.createElement("div")), s = (me.exec(i) || ["", ""])[1].toLowerCase(), u = ge[s] || ge._default, a.innerHTML = u[1] + E.htmlPrefilter(i) + u[2], l = u[0]; l--;) a = a.lastChild;
                E.merge(f, a.childNodes), (a = p.firstChild).textContent = ""
            } else f.push(t.createTextNode(i));
            for (p.textContent = "", d = 0; i = f[d++];)
                if (r && E.inArray(i, r) > -1) o && o.push(i);
                else if (c = ae(i), a = be(p.appendChild(i), "script"), c && _e(a), n)
                for (l = 0; i = a[l++];) ve.test(i.type || "") && n.push(i);
            return p
        }
        var Ee = /^key/,
            Ce = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
            Oe = /^([^.]*)(?:\.(.+)|)/;

        function Se() {
            return !0
        }

        function je() {
            return !1
        }

        function ke(e, t) {
            return e === function() {
                try {
                    return b.activeElement
                } catch (e) {}
            }() == ("focus" === t)
        }

        function Pe(e, t, n, r, o, i) {
            var a, s;
            if ("object" == typeof t) {
                for (s in "string" != typeof n && (r = r || n, n = void 0), t) Pe(e, s, n, r, t[s], i);
                return e
            }
            if (null == r && null == o ? (o = n, r = n = void 0) : null == o && ("string" == typeof n ? (o = r, r = void 0) : (o = r, r = n, n = void 0)), !1 === o) o = je;
            else if (!o) return e;
            return 1 === i && (a = o, (o = function(e) {
                return E().off(e), a.apply(this, arguments)
            }).guid = a.guid || (a.guid = E.guid++)), e.each((function() {
                E.event.add(this, t, o, r, n)
            }))
        }

        function Te(e, t, n) {
            n ? (J.set(e, t, !1), E.event.add(e, t, {
                namespace: !1,
                handler: function(e) {
                    var r, o, i = J.get(this, t);
                    if (1 & e.isTrigger && this[t]) {
                        if (i.length)(E.event.special[t] || {}).delegateType && e.stopPropagation();
                        else if (i = s.call(arguments), J.set(this, t, i), r = n(this, t), this[t](), i !== (o = J.get(this, t)) || r ? J.set(this, t, !1) : o = {}, i !== o) return e.stopImmediatePropagation(), e.preventDefault(), o.value
                    } else i.length && (J.set(this, t, {
                        value: E.event.trigger(E.extend(i[0], E.Event.prototype), i.slice(1), this)
                    }), e.stopImmediatePropagation())
                }
            })) : void 0 === J.get(e, t) && E.event.add(e, t, Se)
        }
        E.event = {
            global: {},
            add: function(e, t, n, r, o) {
                var i, a, s, u, c, l, p, f, d, h, y, m = J.get(e);
                if (X(e))
                    for (n.handler && (n = (i = n).handler, o = i.selector), o && E.find.matchesSelector(ie, o), n.guid || (n.guid = E.guid++), (u = m.events) || (u = m.events = Object.create(null)), (a = m.handle) || (a = m.handle = function(t) {
                            return void 0 !== E && E.event.triggered !== t.type ? E.event.dispatch.apply(e, arguments) : void 0
                        }), c = (t = (t || "").match(L) || [""]).length; c--;) d = y = (s = Oe.exec(t[c]) || [])[1], h = (s[2] || "").split(".").sort(), d && (p = E.event.special[d] || {}, d = (o ? p.delegateType : p.bindType) || d, p = E.event.special[d] || {}, l = E.extend({
                        type: d,
                        origType: y,
                        data: r,
                        handler: n,
                        guid: n.guid,
                        selector: o,
                        needsContext: o && E.expr.match.needsContext.test(o),
                        namespace: h.join(".")
                    }, i), (f = u[d]) || ((f = u[d] = []).delegateCount = 0, p.setup && !1 !== p.setup.call(e, r, h, a) || e.addEventListener && e.addEventListener(d, a)), p.add && (p.add.call(e, l), l.handler.guid || (l.handler.guid = n.guid)), o ? f.splice(f.delegateCount++, 0, l) : f.push(l), E.event.global[d] = !0)
            },
            remove: function(e, t, n, r, o) {
                var i, a, s, u, c, l, p, f, d, h, y, m = J.hasData(e) && J.get(e);
                if (m && (u = m.events)) {
                    for (c = (t = (t || "").match(L) || [""]).length; c--;)
                        if (d = y = (s = Oe.exec(t[c]) || [])[1], h = (s[2] || "").split(".").sort(), d) {
                            for (p = E.event.special[d] || {}, f = u[d = (r ? p.delegateType : p.bindType) || d] || [], s = s[2] && new RegExp("(^|\\.)" + h.join("\\.(?:.*\\.|)") + "(\\.|$)"), a = i = f.length; i--;) l = f[i], !o && y !== l.origType || n && n.guid !== l.guid || s && !s.test(l.namespace) || r && r !== l.selector && ("**" !== r || !l.selector) || (f.splice(i, 1), l.selector && f.delegateCount--, p.remove && p.remove.call(e, l));
                            a && !f.length && (p.teardown && !1 !== p.teardown.call(e, h, m.handle) || E.removeEvent(e, d, m.handle), delete u[d])
                        } else
                            for (d in u) E.event.remove(e, d + t[c], n, r, !0);
                    E.isEmptyObject(u) && J.remove(e, "handle events")
                }
            },
            dispatch: function(e) {
                var t, n, r, o, i, a, s = new Array(arguments.length),
                    u = E.event.fix(e),
                    c = (J.get(this, "events") || Object.create(null))[u.type] || [],
                    l = E.event.special[u.type] || {};
                for (s[0] = u, t = 1; t < arguments.length; t++) s[t] = arguments[t];
                if (u.delegateTarget = this, !l.preDispatch || !1 !== l.preDispatch.call(this, u)) {
                    for (a = E.event.handlers.call(this, u, c), t = 0;
                        (o = a[t++]) && !u.isPropagationStopped();)
                        for (u.currentTarget = o.elem, n = 0;
                            (i = o.handlers[n++]) && !u.isImmediatePropagationStopped();) u.rnamespace && !1 !== i.namespace && !u.rnamespace.test(i.namespace) || (u.handleObj = i, u.data = i.data, void 0 !== (r = ((E.event.special[i.origType] || {}).handle || i.handler).apply(o.elem, s)) && !1 === (u.result = r) && (u.preventDefault(), u.stopPropagation()));
                    return l.postDispatch && l.postDispatch.call(this, u), u.result
                }
            },
            handlers: function(e, t) {
                var n, r, o, i, a, s = [],
                    u = t.delegateCount,
                    c = e.target;
                if (u && c.nodeType && !("click" === e.type && e.button >= 1))
                    for (; c !== this; c = c.parentNode || this)
                        if (1 === c.nodeType && ("click" !== e.type || !0 !== c.disabled)) {
                            for (i = [], a = {}, n = 0; n < u; n++) void 0 === a[o = (r = t[n]).selector + " "] && (a[o] = r.needsContext ? E(o, this).index(c) > -1 : E.find(o, this, null, [c]).length), a[o] && i.push(r);
                            i.length && s.push({
                                elem: c,
                                handlers: i
                            })
                        }
                return c = this, u < t.length && s.push({
                    elem: c,
                    handlers: t.slice(u)
                }), s
            },
            addProp: function(e, t) {
                Object.defineProperty(E.Event.prototype, e, {
                    enumerable: !0,
                    configurable: !0,
                    get: v(t) ? function() {
                        if (this.originalEvent) return t(this.originalEvent)
                    } : function() {
                        if (this.originalEvent) return this.originalEvent[e]
                    },
                    set: function(t) {
                        Object.defineProperty(this, e, {
                            enumerable: !0,
                            configurable: !0,
                            writable: !0,
                            value: t
                        })
                    }
                })
            },
            fix: function(e) {
                return e[E.expando] ? e : new E.Event(e)
            },
            special: {
                load: {
                    noBubble: !0
                },
                click: {
                    setup: function(e) {
                        var t = this || e;
                        return ye.test(t.type) && t.click && P(t, "input") && Te(t, "click", Se), !1
                    },
                    trigger: function(e) {
                        var t = this || e;
                        return ye.test(t.type) && t.click && P(t, "input") && Te(t, "click"), !0
                    },
                    _default: function(e) {
                        var t = e.target;
                        return ye.test(t.type) && t.click && P(t, "input") && J.get(t, "click") || P(t, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function(e) {
                        void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result)
                    }
                }
            }
        }, E.removeEvent = function(e, t, n) {
            e.removeEventListener && e.removeEventListener(t, n)
        }, E.Event = function(e, t) {
            if (!(this instanceof E.Event)) return new E.Event(e, t);
            e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && !1 === e.returnValue ? Se : je, this.target = e.target && 3 === e.target.nodeType ? e.target.parentNode : e.target, this.currentTarget = e.currentTarget, this.relatedTarget = e.relatedTarget) : this.type = e, t && E.extend(this, t), this.timeStamp = e && e.timeStamp || Date.now(), this[E.expando] = !0
        }, E.Event.prototype = {
            constructor: E.Event,
            isDefaultPrevented: je,
            isPropagationStopped: je,
            isImmediatePropagationStopped: je,
            isSimulated: !1,
            preventDefault: function() {
                var e = this.originalEvent;
                this.isDefaultPrevented = Se, e && !this.isSimulated && e.preventDefault()
            },
            stopPropagation: function() {
                var e = this.originalEvent;
                this.isPropagationStopped = Se, e && !this.isSimulated && e.stopPropagation()
            },
            stopImmediatePropagation: function() {
                var e = this.originalEvent;
                this.isImmediatePropagationStopped = Se, e && !this.isSimulated && e.stopImmediatePropagation(), this.stopPropagation()
            }
        }, E.each({
            altKey: !0,
            bubbles: !0,
            cancelable: !0,
            changedTouches: !0,
            ctrlKey: !0,
            detail: !0,
            eventPhase: !0,
            metaKey: !0,
            pageX: !0,
            pageY: !0,
            shiftKey: !0,
            view: !0,
            char: !0,
            code: !0,
            charCode: !0,
            key: !0,
            keyCode: !0,
            button: !0,
            buttons: !0,
            clientX: !0,
            clientY: !0,
            offsetX: !0,
            offsetY: !0,
            pointerId: !0,
            pointerType: !0,
            screenX: !0,
            screenY: !0,
            targetTouches: !0,
            toElement: !0,
            touches: !0,
            which: function(e) {
                var t = e.button;
                return null == e.which && Ee.test(e.type) ? null != e.charCode ? e.charCode : e.keyCode : !e.which && void 0 !== t && Ce.test(e.type) ? 1 & t ? 1 : 2 & t ? 3 : 4 & t ? 2 : 0 : e.which
            }
        }, E.event.addProp), E.each({
            focus: "focusin",
            blur: "focusout"
        }, (function(e, t) {
            E.event.special[e] = {
                setup: function() {
                    return Te(this, e, ke), !1
                },
                trigger: function() {
                    return Te(this, e), !0
                },
                delegateType: t
            }
        })), E.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout"
        }, (function(e, t) {
            E.event.special[e] = {
                delegateType: t,
                bindType: t,
                handle: function(e) {
                    var n, r = this,
                        o = e.relatedTarget,
                        i = e.handleObj;
                    return o && (o === r || E.contains(r, o)) || (e.type = i.origType, n = i.handler.apply(this, arguments), e.type = t), n
                }
            }
        })), E.fn.extend({
            on: function(e, t, n, r) {
                return Pe(this, e, t, n, r)
            },
            one: function(e, t, n, r) {
                return Pe(this, e, t, n, r, 1)
            },
            off: function(e, t, n) {
                var r, o;
                if (e && e.preventDefault && e.handleObj) return r = e.handleObj, E(e.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler), this;
                if ("object" == typeof e) {
                    for (o in e) this.off(o, t, e[o]);
                    return this
                }
                return !1 !== t && "function" != typeof t || (n = t, t = void 0), !1 === n && (n = je), this.each((function() {
                    E.event.remove(this, e, n, t)
                }))
            }
        });
        var De = /<script|<style|<link/i,
            Re = /checked\s*(?:[^=]|=\s*.checked.)/i,
            Me = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

        function Ae(e, t) {
            return P(e, "table") && P(11 !== t.nodeType ? t : t.firstChild, "tr") && E(e).children("tbody")[0] || e
        }

        function Ne(e) {
            return e.type = (null !== e.getAttribute("type")) + "/" + e.type, e
        }

        function Ie(e) {
            return "true/" === (e.type || "").slice(0, 5) ? e.type = e.type.slice(5) : e.removeAttribute("type"), e
        }

        function Le(e, t) {
            var n, r, o, i, a, s;
            if (1 === t.nodeType) {
                if (J.hasData(e) && (s = J.get(e).events))
                    for (o in J.remove(t, "handle events"), s)
                        for (n = 0, r = s[o].length; n < r; n++) E.event.add(t, o, s[o][n]);
                Z.hasData(e) && (i = Z.access(e), a = E.extend({}, i), Z.set(t, a))
            }
        }

        function Be(e, t) {
            var n = t.nodeName.toLowerCase();
            "input" === n && ye.test(e.type) ? t.checked = e.checked : "input" !== n && "textarea" !== n || (t.defaultValue = e.defaultValue)
        }

        function $e(e, t, n, r) {
            t = u(t);
            var o, i, a, s, c, l, p = 0,
                f = e.length,
                d = f - 1,
                h = t[0],
                y = v(h);
            if (y || f > 1 && "string" == typeof h && !m.checkClone && Re.test(h)) return e.each((function(o) {
                var i = e.eq(o);
                y && (t[0] = h.call(this, o, i.html())), $e(i, t, n, r)
            }));
            if (f && (i = (o = xe(t, e[0].ownerDocument, !1, e, r)).firstChild, 1 === o.childNodes.length && (o = i), i || r)) {
                for (s = (a = E.map(be(o, "script"), Ne)).length; p < f; p++) c = o, p !== d && (c = E.clone(c, !0, !0), s && E.merge(a, be(c, "script"))), n.call(e[p], c, p);
                if (s)
                    for (l = a[a.length - 1].ownerDocument, E.map(a, Ie), p = 0; p < s; p++) c = a[p], ve.test(c.type || "") && !J.access(c, "globalEval") && E.contains(l, c) && (c.src && "module" !== (c.type || "").toLowerCase() ? E._evalUrl && !c.noModule && E._evalUrl(c.src, {
                        nonce: c.nonce || c.getAttribute("nonce")
                    }, l) : w(c.textContent.replace(Me, ""), c, l))
            }
            return e
        }

        function Ve(e, t, n) {
            for (var r, o = t ? E.filter(t, e) : e, i = 0; null != (r = o[i]); i++) n || 1 !== r.nodeType || E.cleanData(be(r)), r.parentNode && (n && ae(r) && _e(be(r, "script")), r.parentNode.removeChild(r));
            return e
        }
        E.extend({
            htmlPrefilter: function(e) {
                return e
            },
            clone: function(e, t, n) {
                var r, o, i, a, s = e.cloneNode(!0),
                    u = ae(e);
                if (!(m.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || E.isXMLDoc(e)))
                    for (a = be(s), r = 0, o = (i = be(e)).length; r < o; r++) Be(i[r], a[r]);
                if (t)
                    if (n)
                        for (i = i || be(e), a = a || be(s), r = 0, o = i.length; r < o; r++) Le(i[r], a[r]);
                    else Le(e, s);
                return (a = be(s, "script")).length > 0 && _e(a, !u && be(e, "script")), s
            },
            cleanData: function(e) {
                for (var t, n, r, o = E.event.special, i = 0; void 0 !== (n = e[i]); i++)
                    if (X(n)) {
                        if (t = n[J.expando]) {
                            if (t.events)
                                for (r in t.events) o[r] ? E.event.remove(n, r) : E.removeEvent(n, r, t.handle);
                            n[J.expando] = void 0
                        }
                        n[Z.expando] && (n[Z.expando] = void 0)
                    }
            }
        }), E.fn.extend({
            detach: function(e) {
                return Ve(this, e, !0)
            },
            remove: function(e) {
                return Ve(this, e)
            },
            text: function(e) {
                return H(this, (function(e) {
                    return void 0 === e ? E.text(this) : this.empty().each((function() {
                        1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = e)
                    }))
                }), null, e, arguments.length)
            },
            append: function() {
                return $e(this, arguments, (function(e) {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || Ae(this, e).appendChild(e)
                }))
            },
            prepend: function() {
                return $e(this, arguments, (function(e) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var t = Ae(this, e);
                        t.insertBefore(e, t.firstChild)
                    }
                }))
            },
            before: function() {
                return $e(this, arguments, (function(e) {
                    this.parentNode && this.parentNode.insertBefore(e, this)
                }))
            },
            after: function() {
                return $e(this, arguments, (function(e) {
                    this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
                }))
            },
            empty: function() {
                for (var e, t = 0; null != (e = this[t]); t++) 1 === e.nodeType && (E.cleanData(be(e, !1)), e.textContent = "");
                return this
            },
            clone: function(e, t) {
                return e = null != e && e, t = null == t ? e : t, this.map((function() {
                    return E.clone(this, e, t)
                }))
            },
            html: function(e) {
                return H(this, (function(e) {
                    var t = this[0] || {},
                        n = 0,
                        r = this.length;
                    if (void 0 === e && 1 === t.nodeType) return t.innerHTML;
                    if ("string" == typeof e && !De.test(e) && !ge[(me.exec(e) || ["", ""])[1].toLowerCase()]) {
                        e = E.htmlPrefilter(e);
                        try {
                            for (; n < r; n++) 1 === (t = this[n] || {}).nodeType && (E.cleanData(be(t, !1)), t.innerHTML = e);
                            t = 0
                        } catch (e) {}
                    }
                    t && this.empty().append(e)
                }), null, e, arguments.length)
            },
            replaceWith: function() {
                var e = [];
                return $e(this, arguments, (function(t) {
                    var n = this.parentNode;
                    E.inArray(this, e) < 0 && (E.cleanData(be(this)), n && n.replaceChild(t, this))
                }), e)
            }
        }), E.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, (function(e, t) {
            E.fn[e] = function(e) {
                for (var n, r = [], o = E(e), i = o.length - 1, a = 0; a <= i; a++) n = a === i ? this : this.clone(!0), E(o[a])[t](n), c.apply(r, n.get());
                return this.pushStack(r)
            }
        }));
        var ze = new RegExp("^(" + ne + ")(?!px)[a-z%]+$", "i"),
            Fe = function(e) {
                var t = e.ownerDocument.defaultView;
                return t && t.opener || (t = n), t.getComputedStyle(e)
            },
            qe = function(e, t, n) {
                var r, o, i = {};
                for (o in t) i[o] = e.style[o], e.style[o] = t[o];
                for (o in r = n.call(e), t) e.style[o] = i[o];
                return r
            },
            He = new RegExp(oe.join("|"), "i");

        function Ue(e, t, n) {
            var r, o, i, a, s = e.style;
            return (n = n || Fe(e)) && ("" !== (a = n.getPropertyValue(t) || n[t]) || ae(e) || (a = E.style(e, t)), !m.pixelBoxStyles() && ze.test(a) && He.test(t) && (r = s.width, o = s.minWidth, i = s.maxWidth, s.minWidth = s.maxWidth = s.width = a, a = n.width, s.width = r, s.minWidth = o, s.maxWidth = i)), void 0 !== a ? a + "" : a
        }

        function We(e, t) {
            return {
                get: function() {
                    if (!e()) return (this.get = t).apply(this, arguments);
                    delete this.get
                }
            }
        }! function() {
            function e() {
                if (l) {
                    c.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", l.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", ie.appendChild(c).appendChild(l);
                    var e = n.getComputedStyle(l);
                    r = "1%" !== e.top, u = 12 === t(e.marginLeft), l.style.right = "60%", a = 36 === t(e.right), o = 36 === t(e.width), l.style.position = "absolute", i = 12 === t(l.offsetWidth / 3), ie.removeChild(c), l = null
                }
            }

            function t(e) {
                return Math.round(parseFloat(e))
            }
            var r, o, i, a, s, u, c = b.createElement("div"),
                l = b.createElement("div");
            l.style && (l.style.backgroundClip = "content-box", l.cloneNode(!0).style.backgroundClip = "", m.clearCloneStyle = "content-box" === l.style.backgroundClip, E.extend(m, {
                boxSizingReliable: function() {
                    return e(), o
                },
                pixelBoxStyles: function() {
                    return e(), a
                },
                pixelPosition: function() {
                    return e(), r
                },
                reliableMarginLeft: function() {
                    return e(), u
                },
                scrollboxSize: function() {
                    return e(), i
                },
                reliableTrDimensions: function() {
                    var e, t, r, o;
                    return null == s && (e = b.createElement("table"), t = b.createElement("tr"), r = b.createElement("div"), e.style.cssText = "position:absolute;left:-11111px", t.style.height = "1px", r.style.height = "9px", ie.appendChild(e).appendChild(t).appendChild(r), o = n.getComputedStyle(t), s = parseInt(o.height) > 3, ie.removeChild(e)), s
                }
            }))
        }();
        var Ge = ["Webkit", "Moz", "ms"],
            Ke = b.createElement("div").style,
            Xe = {};

        function Ye(e) {
            var t = E.cssProps[e] || Xe[e];
            return t || (e in Ke ? e : Xe[e] = function(e) {
                for (var t = e[0].toUpperCase() + e.slice(1), n = Ge.length; n--;)
                    if ((e = Ge[n] + t) in Ke) return e
            }(e) || e)
        }
        var Je = /^(none|table(?!-c[ea]).+)/,
            Ze = /^--/,
            Qe = {
                position: "absolute",
                visibility: "hidden",
                display: "block"
            },
            et = {
                letterSpacing: "0",
                fontWeight: "400"
            };

        function tt(e, t, n) {
            var r = re.exec(t);
            return r ? Math.max(0, r[2] - (n || 0)) + (r[3] || "px") : t
        }

        function nt(e, t, n, r, o, i) {
            var a = "width" === t ? 1 : 0,
                s = 0,
                u = 0;
            if (n === (r ? "border" : "content")) return 0;
            for (; a < 4; a += 2) "margin" === n && (u += E.css(e, n + oe[a], !0, o)), r ? ("content" === n && (u -= E.css(e, "padding" + oe[a], !0, o)), "margin" !== n && (u -= E.css(e, "border" + oe[a] + "Width", !0, o))) : (u += E.css(e, "padding" + oe[a], !0, o), "padding" !== n ? u += E.css(e, "border" + oe[a] + "Width", !0, o) : s += E.css(e, "border" + oe[a] + "Width", !0, o));
            return !r && i >= 0 && (u += Math.max(0, Math.ceil(e["offset" + t[0].toUpperCase() + t.slice(1)] - i - u - s - .5)) || 0), u
        }

        function rt(e, t, n) {
            var r = Fe(e),
                o = (!m.boxSizingReliable() || n) && "border-box" === E.css(e, "boxSizing", !1, r),
                i = o,
                a = Ue(e, t, r),
                s = "offset" + t[0].toUpperCase() + t.slice(1);
            if (ze.test(a)) {
                if (!n) return a;
                a = "auto"
            }
            return (!m.boxSizingReliable() && o || !m.reliableTrDimensions() && P(e, "tr") || "auto" === a || !parseFloat(a) && "inline" === E.css(e, "display", !1, r)) && e.getClientRects().length && (o = "border-box" === E.css(e, "boxSizing", !1, r), (i = s in e) && (a = e[s])), (a = parseFloat(a) || 0) + nt(e, t, n || (o ? "border" : "content"), i, r, a) + "px"
        }

        function ot(e, t, n, r, o) {
            return new ot.prototype.init(e, t, n, r, o)
        }
        E.extend({
            cssHooks: {
                opacity: {
                    get: function(e, t) {
                        if (t) {
                            var n = Ue(e, "opacity");
                            return "" === n ? "1" : n
                        }
                    }
                }
            },
            cssNumber: {
                animationIterationCount: !0,
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                gridArea: !0,
                gridColumn: !0,
                gridColumnEnd: !0,
                gridColumnStart: !0,
                gridRow: !0,
                gridRowEnd: !0,
                gridRowStart: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {},
            style: function(e, t, n, r) {
                if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                    var o, i, a, s = K(t),
                        u = Ze.test(t),
                        c = e.style;
                    if (u || (t = Ye(s)), a = E.cssHooks[t] || E.cssHooks[s], void 0 === n) return a && "get" in a && void 0 !== (o = a.get(e, !1, r)) ? o : c[t];
                    "string" === (i = typeof n) && (o = re.exec(n)) && o[1] && (n = ce(e, t, o), i = "number"), null != n && n == n && ("number" !== i || u || (n += o && o[3] || (E.cssNumber[s] ? "" : "px")), m.clearCloneStyle || "" !== n || 0 !== t.indexOf("background") || (c[t] = "inherit"), a && "set" in a && void 0 === (n = a.set(e, n, r)) || (u ? c.setProperty(t, n) : c[t] = n))
                }
            },
            css: function(e, t, n, r) {
                var o, i, a, s = K(t);
                return Ze.test(t) || (t = Ye(s)), (a = E.cssHooks[t] || E.cssHooks[s]) && "get" in a && (o = a.get(e, !0, n)), void 0 === o && (o = Ue(e, t, r)), "normal" === o && t in et && (o = et[t]), "" === n || n ? (i = parseFloat(o), !0 === n || isFinite(i) ? i || 0 : o) : o
            }
        }), E.each(["height", "width"], (function(e, t) {
            E.cssHooks[t] = {
                get: function(e, n, r) {
                    if (n) return !Je.test(E.css(e, "display")) || e.getClientRects().length && e.getBoundingClientRect().width ? rt(e, t, r) : qe(e, Qe, (function() {
                        return rt(e, t, r)
                    }))
                },
                set: function(e, n, r) {
                    var o, i = Fe(e),
                        a = !m.scrollboxSize() && "absolute" === i.position,
                        s = (a || r) && "border-box" === E.css(e, "boxSizing", !1, i),
                        u = r ? nt(e, t, r, s, i) : 0;
                    return s && a && (u -= Math.ceil(e["offset" + t[0].toUpperCase() + t.slice(1)] - parseFloat(i[t]) - nt(e, t, "border", !1, i) - .5)), u && (o = re.exec(n)) && "px" !== (o[3] || "px") && (e.style[t] = n, n = E.css(e, t)), tt(0, n, u)
                }
            }
        })), E.cssHooks.marginLeft = We(m.reliableMarginLeft, (function(e, t) {
            if (t) return (parseFloat(Ue(e, "marginLeft")) || e.getBoundingClientRect().left - qe(e, {
                marginLeft: 0
            }, (function() {
                return e.getBoundingClientRect().left
            }))) + "px"
        })), E.each({
            margin: "",
            padding: "",
            border: "Width"
        }, (function(e, t) {
            E.cssHooks[e + t] = {
                expand: function(n) {
                    for (var r = 0, o = {}, i = "string" == typeof n ? n.split(" ") : [n]; r < 4; r++) o[e + oe[r] + t] = i[r] || i[r - 2] || i[0];
                    return o
                }
            }, "margin" !== e && (E.cssHooks[e + t].set = tt)
        })), E.fn.extend({
            css: function(e, t) {
                return H(this, (function(e, t, n) {
                    var r, o, i = {},
                        a = 0;
                    if (Array.isArray(t)) {
                        for (r = Fe(e), o = t.length; a < o; a++) i[t[a]] = E.css(e, t[a], !1, r);
                        return i
                    }
                    return void 0 !== n ? E.style(e, t, n) : E.css(e, t)
                }), e, t, arguments.length > 1)
            }
        }), E.Tween = ot, ot.prototype = {
            constructor: ot,
            init: function(e, t, n, r, o, i) {
                this.elem = e, this.prop = n, this.easing = o || E.easing._default, this.options = t, this.start = this.now = this.cur(), this.end = r, this.unit = i || (E.cssNumber[n] ? "" : "px")
            },
            cur: function() {
                var e = ot.propHooks[this.prop];
                return e && e.get ? e.get(this) : ot.propHooks._default.get(this)
            },
            run: function(e) {
                var t, n = ot.propHooks[this.prop];
                return this.options.duration ? this.pos = t = E.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e, this.now = (this.end - this.start) * t + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : ot.propHooks._default.set(this), this
            }
        }, ot.prototype.init.prototype = ot.prototype, ot.propHooks = {
            _default: {
                get: function(e) {
                    var t;
                    return 1 !== e.elem.nodeType || null != e.elem[e.prop] && null == e.elem.style[e.prop] ? e.elem[e.prop] : (t = E.css(e.elem, e.prop, "")) && "auto" !== t ? t : 0
                },
                set: function(e) {
                    E.fx.step[e.prop] ? E.fx.step[e.prop](e) : 1 !== e.elem.nodeType || !E.cssHooks[e.prop] && null == e.elem.style[Ye(e.prop)] ? e.elem[e.prop] = e.now : E.style(e.elem, e.prop, e.now + e.unit)
                }
            }
        }, ot.propHooks.scrollTop = ot.propHooks.scrollLeft = {
            set: function(e) {
                e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
            }
        }, E.easing = {
            linear: function(e) {
                return e
            },
            swing: function(e) {
                return .5 - Math.cos(e * Math.PI) / 2
            },
            _default: "swing"
        }, E.fx = ot.prototype.init, E.fx.step = {};
        var it, at, st = /^(?:toggle|show|hide)$/,
            ut = /queueHooks$/;

        function ct() {
            at && (!1 === b.hidden && n.requestAnimationFrame ? n.requestAnimationFrame(ct) : n.setTimeout(ct, E.fx.interval), E.fx.tick())
        }

        function lt() {
            return n.setTimeout((function() {
                it = void 0
            })), it = Date.now()
        }

        function pt(e, t) {
            var n, r = 0,
                o = {
                    height: e
                };
            for (t = t ? 1 : 0; r < 4; r += 2 - t) o["margin" + (n = oe[r])] = o["padding" + n] = e;
            return t && (o.opacity = o.width = e), o
        }

        function ft(e, t, n) {
            for (var r, o = (dt.tweeners[t] || []).concat(dt.tweeners["*"]), i = 0, a = o.length; i < a; i++)
                if (r = o[i].call(n, t, e)) return r
        }

        function dt(e, t, n) {
            var r, o, i = 0,
                a = dt.prefilters.length,
                s = E.Deferred().always((function() {
                    delete u.elem
                })),
                u = function() {
                    if (o) return !1;
                    for (var t = it || lt(), n = Math.max(0, c.startTime + c.duration - t), r = 1 - (n / c.duration || 0), i = 0, a = c.tweens.length; i < a; i++) c.tweens[i].run(r);
                    return s.notifyWith(e, [c, r, n]), r < 1 && a ? n : (a || s.notifyWith(e, [c, 1, 0]), s.resolveWith(e, [c]), !1)
                },
                c = s.promise({
                    elem: e,
                    props: E.extend({}, t),
                    opts: E.extend(!0, {
                        specialEasing: {},
                        easing: E.easing._default
                    }, n),
                    originalProperties: t,
                    originalOptions: n,
                    startTime: it || lt(),
                    duration: n.duration,
                    tweens: [],
                    createTween: function(t, n) {
                        var r = E.Tween(e, c.opts, t, n, c.opts.specialEasing[t] || c.opts.easing);
                        return c.tweens.push(r), r
                    },
                    stop: function(t) {
                        var n = 0,
                            r = t ? c.tweens.length : 0;
                        if (o) return this;
                        for (o = !0; n < r; n++) c.tweens[n].run(1);
                        return t ? (s.notifyWith(e, [c, 1, 0]), s.resolveWith(e, [c, t])) : s.rejectWith(e, [c, t]), this
                    }
                }),
                l = c.props;
            for (! function(e, t) {
                    var n, r, o, i, a;
                    for (n in e)
                        if (o = t[r = K(n)], i = e[n], Array.isArray(i) && (o = i[1], i = e[n] = i[0]), n !== r && (e[r] = i, delete e[n]), (a = E.cssHooks[r]) && "expand" in a)
                            for (n in i = a.expand(i), delete e[r], i) n in e || (e[n] = i[n], t[n] = o);
                        else t[r] = o
                }(l, c.opts.specialEasing); i < a; i++)
                if (r = dt.prefilters[i].call(c, e, l, c.opts)) return v(r.stop) && (E._queueHooks(c.elem, c.opts.queue).stop = r.stop.bind(r)), r;
            return E.map(l, ft, c), v(c.opts.start) && c.opts.start.call(e, c), c.progress(c.opts.progress).done(c.opts.done, c.opts.complete).fail(c.opts.fail).always(c.opts.always), E.fx.timer(E.extend(u, {
                elem: e,
                anim: c,
                queue: c.opts.queue
            })), c
        }
        E.Animation = E.extend(dt, {
                tweeners: {
                    "*": [function(e, t) {
                        var n = this.createTween(e, t);
                        return ce(n.elem, e, re.exec(t), n), n
                    }]
                },
                tweener: function(e, t) {
                    v(e) ? (t = e, e = ["*"]) : e = e.match(L);
                    for (var n, r = 0, o = e.length; r < o; r++) n = e[r], dt.tweeners[n] = dt.tweeners[n] || [], dt.tweeners[n].unshift(t)
                },
                prefilters: [function(e, t, n) {
                    var r, o, i, a, s, u, c, l, p = "width" in t || "height" in t,
                        f = this,
                        d = {},
                        h = e.style,
                        y = e.nodeType && ue(e),
                        m = J.get(e, "fxshow");
                    for (r in n.queue || (null == (a = E._queueHooks(e, "fx")).unqueued && (a.unqueued = 0, s = a.empty.fire, a.empty.fire = function() {
                            a.unqueued || s()
                        }), a.unqueued++, f.always((function() {
                            f.always((function() {
                                a.unqueued--, E.queue(e, "fx").length || a.empty.fire()
                            }))
                        }))), t)
                        if (o = t[r], st.test(o)) {
                            if (delete t[r], i = i || "toggle" === o, o === (y ? "hide" : "show")) {
                                if ("show" !== o || !m || void 0 === m[r]) continue;
                                y = !0
                            }
                            d[r] = m && m[r] || E.style(e, r)
                        }
                    if ((u = !E.isEmptyObject(t)) || !E.isEmptyObject(d))
                        for (r in p && 1 === e.nodeType && (n.overflow = [h.overflow, h.overflowX, h.overflowY], null == (c = m && m.display) && (c = J.get(e, "display")), "none" === (l = E.css(e, "display")) && (c ? l = c : (fe([e], !0), c = e.style.display || c, l = E.css(e, "display"), fe([e]))), ("inline" === l || "inline-block" === l && null != c) && "none" === E.css(e, "float") && (u || (f.done((function() {
                                h.display = c
                            })), null == c && (l = h.display, c = "none" === l ? "" : l)), h.display = "inline-block")), n.overflow && (h.overflow = "hidden", f.always((function() {
                                h.overflow = n.overflow[0], h.overflowX = n.overflow[1], h.overflowY = n.overflow[2]
                            }))), u = !1, d) u || (m ? "hidden" in m && (y = m.hidden) : m = J.access(e, "fxshow", {
                            display: c
                        }), i && (m.hidden = !y), y && fe([e], !0), f.done((function() {
                            for (r in y || fe([e]), J.remove(e, "fxshow"), d) E.style(e, r, d[r])
                        }))), u = ft(y ? m[r] : 0, r, f), r in m || (m[r] = u.start, y && (u.end = u.start, u.start = 0))
                }],
                prefilter: function(e, t) {
                    t ? dt.prefilters.unshift(e) : dt.prefilters.push(e)
                }
            }), E.speed = function(e, t, n) {
                var r = e && "object" == typeof e ? E.extend({}, e) : {
                    complete: n || !n && t || v(e) && e,
                    duration: e,
                    easing: n && t || t && !v(t) && t
                };
                return E.fx.off ? r.duration = 0 : "number" != typeof r.duration && (r.duration in E.fx.speeds ? r.duration = E.fx.speeds[r.duration] : r.duration = E.fx.speeds._default), null != r.queue && !0 !== r.queue || (r.queue = "fx"), r.old = r.complete, r.complete = function() {
                    v(r.old) && r.old.call(this), r.queue && E.dequeue(this, r.queue)
                }, r
            }, E.fn.extend({
                fadeTo: function(e, t, n, r) {
                    return this.filter(ue).css("opacity", 0).show().end().animate({
                        opacity: t
                    }, e, n, r)
                },
                animate: function(e, t, n, r) {
                    var o = E.isEmptyObject(e),
                        i = E.speed(t, n, r),
                        a = function() {
                            var t = dt(this, E.extend({}, e), i);
                            (o || J.get(this, "finish")) && t.stop(!0)
                        };
                    return a.finish = a, o || !1 === i.queue ? this.each(a) : this.queue(i.queue, a)
                },
                stop: function(e, t, n) {
                    var r = function(e) {
                        var t = e.stop;
                        delete e.stop, t(n)
                    };
                    return "string" != typeof e && (n = t, t = e, e = void 0), t && this.queue(e || "fx", []), this.each((function() {
                        var t = !0,
                            o = null != e && e + "queueHooks",
                            i = E.timers,
                            a = J.get(this);
                        if (o) a[o] && a[o].stop && r(a[o]);
                        else
                            for (o in a) a[o] && a[o].stop && ut.test(o) && r(a[o]);
                        for (o = i.length; o--;) i[o].elem !== this || null != e && i[o].queue !== e || (i[o].anim.stop(n), t = !1, i.splice(o, 1));
                        !t && n || E.dequeue(this, e)
                    }))
                },
                finish: function(e) {
                    return !1 !== e && (e = e || "fx"), this.each((function() {
                        var t, n = J.get(this),
                            r = n[e + "queue"],
                            o = n[e + "queueHooks"],
                            i = E.timers,
                            a = r ? r.length : 0;
                        for (n.finish = !0, E.queue(this, e, []), o && o.stop && o.stop.call(this, !0), t = i.length; t--;) i[t].elem === this && i[t].queue === e && (i[t].anim.stop(!0), i.splice(t, 1));
                        for (t = 0; t < a; t++) r[t] && r[t].finish && r[t].finish.call(this);
                        delete n.finish
                    }))
                }
            }), E.each(["toggle", "show", "hide"], (function(e, t) {
                var n = E.fn[t];
                E.fn[t] = function(e, r, o) {
                    return null == e || "boolean" == typeof e ? n.apply(this, arguments) : this.animate(pt(t, !0), e, r, o)
                }
            })), E.each({
                slideDown: pt("show"),
                slideUp: pt("hide"),
                slideToggle: pt("toggle"),
                fadeIn: {
                    opacity: "show"
                },
                fadeOut: {
                    opacity: "hide"
                },
                fadeToggle: {
                    opacity: "toggle"
                }
            }, (function(e, t) {
                E.fn[e] = function(e, n, r) {
                    return this.animate(t, e, n, r)
                }
            })), E.timers = [], E.fx.tick = function() {
                var e, t = 0,
                    n = E.timers;
                for (it = Date.now(); t < n.length; t++)(e = n[t])() || n[t] !== e || n.splice(t--, 1);
                n.length || E.fx.stop(), it = void 0
            }, E.fx.timer = function(e) {
                E.timers.push(e), E.fx.start()
            }, E.fx.interval = 13, E.fx.start = function() {
                at || (at = !0, ct())
            }, E.fx.stop = function() {
                at = null
            }, E.fx.speeds = {
                slow: 600,
                fast: 200,
                _default: 400
            }, E.fn.delay = function(e, t) {
                return e = E.fx && E.fx.speeds[e] || e, t = t || "fx", this.queue(t, (function(t, r) {
                    var o = n.setTimeout(t, e);
                    r.stop = function() {
                        n.clearTimeout(o)
                    }
                }))
            },
            function() {
                var e = b.createElement("input"),
                    t = b.createElement("select").appendChild(b.createElement("option"));
                e.type = "checkbox", m.checkOn = "" !== e.value, m.optSelected = t.selected, (e = b.createElement("input")).value = "t", e.type = "radio", m.radioValue = "t" === e.value
            }();
        var ht, yt = E.expr.attrHandle;
        E.fn.extend({
            attr: function(e, t) {
                return H(this, E.attr, e, t, arguments.length > 1)
            },
            removeAttr: function(e) {
                return this.each((function() {
                    E.removeAttr(this, e)
                }))
            }
        }), E.extend({
            attr: function(e, t, n) {
                var r, o, i = e.nodeType;
                if (3 !== i && 8 !== i && 2 !== i) return void 0 === e.getAttribute ? E.prop(e, t, n) : (1 === i && E.isXMLDoc(e) || (o = E.attrHooks[t.toLowerCase()] || (E.expr.match.bool.test(t) ? ht : void 0)), void 0 !== n ? null === n ? void E.removeAttr(e, t) : o && "set" in o && void 0 !== (r = o.set(e, n, t)) ? r : (e.setAttribute(t, n + ""), n) : o && "get" in o && null !== (r = o.get(e, t)) ? r : null == (r = E.find.attr(e, t)) ? void 0 : r)
            },
            attrHooks: {
                type: {
                    set: function(e, t) {
                        if (!m.radioValue && "radio" === t && P(e, "input")) {
                            var n = e.value;
                            return e.setAttribute("type", t), n && (e.value = n), t
                        }
                    }
                }
            },
            removeAttr: function(e, t) {
                var n, r = 0,
                    o = t && t.match(L);
                if (o && 1 === e.nodeType)
                    for (; n = o[r++];) e.removeAttribute(n)
            }
        }), ht = {
            set: function(e, t, n) {
                return !1 === t ? E.removeAttr(e, n) : e.setAttribute(n, n), n
            }
        }, E.each(E.expr.match.bool.source.match(/\w+/g), (function(e, t) {
            var n = yt[t] || E.find.attr;
            yt[t] = function(e, t, r) {
                var o, i, a = t.toLowerCase();
                return r || (i = yt[a], yt[a] = o, o = null != n(e, t, r) ? a : null, yt[a] = i), o
            }
        }));
        var mt = /^(?:input|select|textarea|button)$/i,
            vt = /^(?:a|area)$/i;

        function gt(e) {
            return (e.match(L) || []).join(" ")
        }

        function bt(e) {
            return e.getAttribute && e.getAttribute("class") || ""
        }

        function _t(e) {
            return Array.isArray(e) ? e : "string" == typeof e && e.match(L) || []
        }
        E.fn.extend({
            prop: function(e, t) {
                return H(this, E.prop, e, t, arguments.length > 1)
            },
            removeProp: function(e) {
                return this.each((function() {
                    delete this[E.propFix[e] || e]
                }))
            }
        }), E.extend({
            prop: function(e, t, n) {
                var r, o, i = e.nodeType;
                if (3 !== i && 8 !== i && 2 !== i) return 1 === i && E.isXMLDoc(e) || (t = E.propFix[t] || t, o = E.propHooks[t]), void 0 !== n ? o && "set" in o && void 0 !== (r = o.set(e, n, t)) ? r : e[t] = n : o && "get" in o && null !== (r = o.get(e, t)) ? r : e[t]
            },
            propHooks: {
                tabIndex: {
                    get: function(e) {
                        var t = E.find.attr(e, "tabindex");
                        return t ? parseInt(t, 10) : mt.test(e.nodeName) || vt.test(e.nodeName) && e.href ? 0 : -1
                    }
                }
            },
            propFix: {
                for: "htmlFor",
                class: "className"
            }
        }), m.optSelected || (E.propHooks.selected = {
            get: function(e) {
                var t = e.parentNode;
                return t && t.parentNode && t.parentNode.selectedIndex, null
            },
            set: function(e) {
                var t = e.parentNode;
                t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex)
            }
        }), E.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], (function() {
            E.propFix[this.toLowerCase()] = this
        })), E.fn.extend({
            addClass: function(e) {
                var t, n, r, o, i, a, s, u = 0;
                if (v(e)) return this.each((function(t) {
                    E(this).addClass(e.call(this, t, bt(this)))
                }));
                if ((t = _t(e)).length)
                    for (; n = this[u++];)
                        if (o = bt(n), r = 1 === n.nodeType && " " + gt(o) + " ") {
                            for (a = 0; i = t[a++];) r.indexOf(" " + i + " ") < 0 && (r += i + " ");
                            o !== (s = gt(r)) && n.setAttribute("class", s)
                        }
                return this
            },
            removeClass: function(e) {
                var t, n, r, o, i, a, s, u = 0;
                if (v(e)) return this.each((function(t) {
                    E(this).removeClass(e.call(this, t, bt(this)))
                }));
                if (!arguments.length) return this.attr("class", "");
                if ((t = _t(e)).length)
                    for (; n = this[u++];)
                        if (o = bt(n), r = 1 === n.nodeType && " " + gt(o) + " ") {
                            for (a = 0; i = t[a++];)
                                for (; r.indexOf(" " + i + " ") > -1;) r = r.replace(" " + i + " ", " ");
                            o !== (s = gt(r)) && n.setAttribute("class", s)
                        }
                return this
            },
            toggleClass: function(e, t) {
                var n = typeof e,
                    r = "string" === n || Array.isArray(e);
                return "boolean" == typeof t && r ? t ? this.addClass(e) : this.removeClass(e) : v(e) ? this.each((function(n) {
                    E(this).toggleClass(e.call(this, n, bt(this), t), t)
                })) : this.each((function() {
                    var t, o, i, a;
                    if (r)
                        for (o = 0, i = E(this), a = _t(e); t = a[o++];) i.hasClass(t) ? i.removeClass(t) : i.addClass(t);
                    else void 0 !== e && "boolean" !== n || ((t = bt(this)) && J.set(this, "__className__", t), this.setAttribute && this.setAttribute("class", t || !1 === e ? "" : J.get(this, "__className__") || ""))
                }))
            },
            hasClass: function(e) {
                var t, n, r = 0;
                for (t = " " + e + " "; n = this[r++];)
                    if (1 === n.nodeType && (" " + gt(bt(n)) + " ").indexOf(t) > -1) return !0;
                return !1
            }
        });
        var wt = /\r/g;
        E.fn.extend({
            val: function(e) {
                var t, n, r, o = this[0];
                return arguments.length ? (r = v(e), this.each((function(n) {
                    var o;
                    1 === this.nodeType && (null == (o = r ? e.call(this, n, E(this).val()) : e) ? o = "" : "number" == typeof o ? o += "" : Array.isArray(o) && (o = E.map(o, (function(e) {
                        return null == e ? "" : e + ""
                    }))), (t = E.valHooks[this.type] || E.valHooks[this.nodeName.toLowerCase()]) && "set" in t && void 0 !== t.set(this, o, "value") || (this.value = o))
                }))) : o ? (t = E.valHooks[o.type] || E.valHooks[o.nodeName.toLowerCase()]) && "get" in t && void 0 !== (n = t.get(o, "value")) ? n : "string" == typeof(n = o.value) ? n.replace(wt, "") : null == n ? "" : n : void 0
            }
        }), E.extend({
            valHooks: {
                option: {
                    get: function(e) {
                        var t = E.find.attr(e, "value");
                        return null != t ? t : gt(E.text(e))
                    }
                },
                select: {
                    get: function(e) {
                        var t, n, r, o = e.options,
                            i = e.selectedIndex,
                            a = "select-one" === e.type,
                            s = a ? null : [],
                            u = a ? i + 1 : o.length;
                        for (r = i < 0 ? u : a ? i : 0; r < u; r++)
                            if (((n = o[r]).selected || r === i) && !n.disabled && (!n.parentNode.disabled || !P(n.parentNode, "optgroup"))) {
                                if (t = E(n).val(), a) return t;
                                s.push(t)
                            }
                        return s
                    },
                    set: function(e, t) {
                        for (var n, r, o = e.options, i = E.makeArray(t), a = o.length; a--;)((r = o[a]).selected = E.inArray(E.valHooks.option.get(r), i) > -1) && (n = !0);
                        return n || (e.selectedIndex = -1), i
                    }
                }
            }
        }), E.each(["radio", "checkbox"], (function() {
            E.valHooks[this] = {
                set: function(e, t) {
                    if (Array.isArray(t)) return e.checked = E.inArray(E(e).val(), t) > -1
                }
            }, m.checkOn || (E.valHooks[this].get = function(e) {
                return null === e.getAttribute("value") ? "on" : e.value
            })
        })), m.focusin = "onfocusin" in n;
        var xt = /^(?:focusinfocus|focusoutblur)$/,
            Et = function(e) {
                e.stopPropagation()
            };
        E.extend(E.event, {
            trigger: function(e, t, r, o) {
                var i, a, s, u, c, l, p, f, h = [r || b],
                    y = d.call(e, "type") ? e.type : e,
                    m = d.call(e, "namespace") ? e.namespace.split(".") : [];
                if (a = f = s = r = r || b, 3 !== r.nodeType && 8 !== r.nodeType && !xt.test(y + E.event.triggered) && (y.indexOf(".") > -1 && (m = y.split("."), y = m.shift(), m.sort()), c = y.indexOf(":") < 0 && "on" + y, (e = e[E.expando] ? e : new E.Event(y, "object" == typeof e && e)).isTrigger = o ? 2 : 3, e.namespace = m.join("."), e.rnamespace = e.namespace ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, e.result = void 0, e.target || (e.target = r), t = null == t ? [e] : E.makeArray(t, [e]), p = E.event.special[y] || {}, o || !p.trigger || !1 !== p.trigger.apply(r, t))) {
                    if (!o && !p.noBubble && !g(r)) {
                        for (u = p.delegateType || y, xt.test(u + y) || (a = a.parentNode); a; a = a.parentNode) h.push(a), s = a;
                        s === (r.ownerDocument || b) && h.push(s.defaultView || s.parentWindow || n)
                    }
                    for (i = 0;
                        (a = h[i++]) && !e.isPropagationStopped();) f = a, e.type = i > 1 ? u : p.bindType || y, (l = (J.get(a, "events") || Object.create(null))[e.type] && J.get(a, "handle")) && l.apply(a, t), (l = c && a[c]) && l.apply && X(a) && (e.result = l.apply(a, t), !1 === e.result && e.preventDefault());
                    return e.type = y, o || e.isDefaultPrevented() || p._default && !1 !== p._default.apply(h.pop(), t) || !X(r) || c && v(r[y]) && !g(r) && ((s = r[c]) && (r[c] = null), E.event.triggered = y, e.isPropagationStopped() && f.addEventListener(y, Et), r[y](), e.isPropagationStopped() && f.removeEventListener(y, Et), E.event.triggered = void 0, s && (r[c] = s)), e.result
                }
            },
            simulate: function(e, t, n) {
                var r = E.extend(new E.Event, n, {
                    type: e,
                    isSimulated: !0
                });
                E.event.trigger(r, null, t)
            }
        }), E.fn.extend({
            trigger: function(e, t) {
                return this.each((function() {
                    E.event.trigger(e, t, this)
                }))
            },
            triggerHandler: function(e, t) {
                var n = this[0];
                if (n) return E.event.trigger(e, t, n, !0)
            }
        }), m.focusin || E.each({
            focus: "focusin",
            blur: "focusout"
        }, (function(e, t) {
            var n = function(e) {
                E.event.simulate(t, e.target, E.event.fix(e))
            };
            E.event.special[t] = {
                setup: function() {
                    var r = this.ownerDocument || this.document || this,
                        o = J.access(r, t);
                    o || r.addEventListener(e, n, !0), J.access(r, t, (o || 0) + 1)
                },
                teardown: function() {
                    var r = this.ownerDocument || this.document || this,
                        o = J.access(r, t) - 1;
                    o ? J.access(r, t, o) : (r.removeEventListener(e, n, !0), J.remove(r, t))
                }
            }
        }));
        var Ct = n.location,
            Ot = {
                guid: Date.now()
            },
            St = /\?/;
        E.parseXML = function(e) {
            var t;
            if (!e || "string" != typeof e) return null;
            try {
                t = (new n.DOMParser).parseFromString(e, "text/xml")
            } catch (e) {
                t = void 0
            }
            return t && !t.getElementsByTagName("parsererror").length || E.error("Invalid XML: " + e), t
        };
        var jt = /\[\]$/,
            kt = /\r?\n/g,
            Pt = /^(?:submit|button|image|reset|file)$/i,
            Tt = /^(?:input|select|textarea|keygen)/i;

        function Dt(e, t, n, r) {
            var o;
            if (Array.isArray(t)) E.each(t, (function(t, o) {
                n || jt.test(e) ? r(e, o) : Dt(e + "[" + ("object" == typeof o && null != o ? t : "") + "]", o, n, r)
            }));
            else if (n || "object" !== x(t)) r(e, t);
            else
                for (o in t) Dt(e + "[" + o + "]", t[o], n, r)
        }
        E.param = function(e, t) {
            var n, r = [],
                o = function(e, t) {
                    var n = v(t) ? t() : t;
                    r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(null == n ? "" : n)
                };
            if (null == e) return "";
            if (Array.isArray(e) || e.jquery && !E.isPlainObject(e)) E.each(e, (function() {
                o(this.name, this.value)
            }));
            else
                for (n in e) Dt(n, e[n], t, o);
            return r.join("&")
        }, E.fn.extend({
            serialize: function() {
                return E.param(this.serializeArray())
            },
            serializeArray: function() {
                return this.map((function() {
                    var e = E.prop(this, "elements");
                    return e ? E.makeArray(e) : this
                })).filter((function() {
                    var e = this.type;
                    return this.name && !E(this).is(":disabled") && Tt.test(this.nodeName) && !Pt.test(e) && (this.checked || !ye.test(e))
                })).map((function(e, t) {
                    var n = E(this).val();
                    return null == n ? null : Array.isArray(n) ? E.map(n, (function(e) {
                        return {
                            name: t.name,
                            value: e.replace(kt, "\r\n")
                        }
                    })) : {
                        name: t.name,
                        value: n.replace(kt, "\r\n")
                    }
                })).get()
            }
        });
        var Rt = /%20/g,
            Mt = /#.*$/,
            At = /([?&])_=[^&]*/,
            Nt = /^(.*?):[ \t]*([^\r\n]*)$/gm,
            It = /^(?:GET|HEAD)$/,
            Lt = /^\/\//,
            Bt = {},
            $t = {},
            Vt = "*/".concat("*"),
            zt = b.createElement("a");

        function Ft(e) {
            return function(t, n) {
                "string" != typeof t && (n = t, t = "*");
                var r, o = 0,
                    i = t.toLowerCase().match(L) || [];
                if (v(n))
                    for (; r = i[o++];) "+" === r[0] ? (r = r.slice(1) || "*", (e[r] = e[r] || []).unshift(n)) : (e[r] = e[r] || []).push(n)
            }
        }

        function qt(e, t, n, r) {
            var o = {},
                i = e === $t;

            function a(s) {
                var u;
                return o[s] = !0, E.each(e[s] || [], (function(e, s) {
                    var c = s(t, n, r);
                    return "string" != typeof c || i || o[c] ? i ? !(u = c) : void 0 : (t.dataTypes.unshift(c), a(c), !1)
                })), u
            }
            return a(t.dataTypes[0]) || !o["*"] && a("*")
        }

        function Ht(e, t) {
            var n, r, o = E.ajaxSettings.flatOptions || {};
            for (n in t) void 0 !== t[n] && ((o[n] ? e : r || (r = {}))[n] = t[n]);
            return r && E.extend(!0, e, r), e
        }
        zt.href = Ct.href, E.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: Ct.href,
                type: "GET",
                isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": Vt,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /\bxml\b/,
                    html: /\bhtml/,
                    json: /\bjson\b/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": JSON.parse,
                    "text xml": E.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(e, t) {
                return t ? Ht(Ht(e, E.ajaxSettings), t) : Ht(E.ajaxSettings, e)
            },
            ajaxPrefilter: Ft(Bt),
            ajaxTransport: Ft($t),
            ajax: function(e, t) {
                "object" == typeof e && (t = e, e = void 0), t = t || {};
                var r, o, i, a, s, u, c, l, p, f, d = E.ajaxSetup({}, t),
                    h = d.context || d,
                    y = d.context && (h.nodeType || h.jquery) ? E(h) : E.event,
                    m = E.Deferred(),
                    v = E.Callbacks("once memory"),
                    g = d.statusCode || {},
                    _ = {},
                    w = {},
                    x = "canceled",
                    C = {
                        readyState: 0,
                        getResponseHeader: function(e) {
                            var t;
                            if (c) {
                                if (!a)
                                    for (a = {}; t = Nt.exec(i);) a[t[1].toLowerCase() + " "] = (a[t[1].toLowerCase() + " "] || []).concat(t[2]);
                                t = a[e.toLowerCase() + " "]
                            }
                            return null == t ? null : t.join(", ")
                        },
                        getAllResponseHeaders: function() {
                            return c ? i : null
                        },
                        setRequestHeader: function(e, t) {
                            return null == c && (e = w[e.toLowerCase()] = w[e.toLowerCase()] || e, _[e] = t), this
                        },
                        overrideMimeType: function(e) {
                            return null == c && (d.mimeType = e), this
                        },
                        statusCode: function(e) {
                            var t;
                            if (e)
                                if (c) C.always(e[C.status]);
                                else
                                    for (t in e) g[t] = [g[t], e[t]];
                            return this
                        },
                        abort: function(e) {
                            var t = e || x;
                            return r && r.abort(t), O(0, t), this
                        }
                    };
                if (m.promise(C), d.url = ((e || d.url || Ct.href) + "").replace(Lt, Ct.protocol + "//"), d.type = t.method || t.type || d.method || d.type, d.dataTypes = (d.dataType || "*").toLowerCase().match(L) || [""], null == d.crossDomain) {
                    u = b.createElement("a");
                    try {
                        u.href = d.url, u.href = u.href, d.crossDomain = zt.protocol + "//" + zt.host != u.protocol + "//" + u.host
                    } catch (e) {
                        d.crossDomain = !0
                    }
                }
                if (d.data && d.processData && "string" != typeof d.data && (d.data = E.param(d.data, d.traditional)), qt(Bt, d, t, C), c) return C;
                for (p in (l = E.event && d.global) && 0 == E.active++ && E.event.trigger("ajaxStart"), d.type = d.type.toUpperCase(), d.hasContent = !It.test(d.type), o = d.url.replace(Mt, ""), d.hasContent ? d.data && d.processData && 0 === (d.contentType || "").indexOf("application/x-www-form-urlencoded") && (d.data = d.data.replace(Rt, "+")) : (f = d.url.slice(o.length), d.data && (d.processData || "string" == typeof d.data) && (o += (St.test(o) ? "&" : "?") + d.data, delete d.data), !1 === d.cache && (o = o.replace(At, "$1"), f = (St.test(o) ? "&" : "?") + "_=" + Ot.guid++ + f), d.url = o + f), d.ifModified && (E.lastModified[o] && C.setRequestHeader("If-Modified-Since", E.lastModified[o]), E.etag[o] && C.setRequestHeader("If-None-Match", E.etag[o])), (d.data && d.hasContent && !1 !== d.contentType || t.contentType) && C.setRequestHeader("Content-Type", d.contentType), C.setRequestHeader("Accept", d.dataTypes[0] && d.accepts[d.dataTypes[0]] ? d.accepts[d.dataTypes[0]] + ("*" !== d.dataTypes[0] ? ", " + Vt + "; q=0.01" : "") : d.accepts["*"]), d.headers) C.setRequestHeader(p, d.headers[p]);
                if (d.beforeSend && (!1 === d.beforeSend.call(h, C, d) || c)) return C.abort();
                if (x = "abort", v.add(d.complete), C.done(d.success), C.fail(d.error), r = qt($t, d, t, C)) {
                    if (C.readyState = 1, l && y.trigger("ajaxSend", [C, d]), c) return C;
                    d.async && d.timeout > 0 && (s = n.setTimeout((function() {
                        C.abort("timeout")
                    }), d.timeout));
                    try {
                        c = !1, r.send(_, O)
                    } catch (e) {
                        if (c) throw e;
                        O(-1, e)
                    }
                } else O(-1, "No Transport");

                function O(e, t, a, u) {
                    var p, f, b, _, w, x = t;
                    c || (c = !0, s && n.clearTimeout(s), r = void 0, i = u || "", C.readyState = e > 0 ? 4 : 0, p = e >= 200 && e < 300 || 304 === e, a && (_ = function(e, t, n) {
                        for (var r, o, i, a, s = e.contents, u = e.dataTypes;
                            "*" === u[0];) u.shift(), void 0 === r && (r = e.mimeType || t.getResponseHeader("Content-Type"));
                        if (r)
                            for (o in s)
                                if (s[o] && s[o].test(r)) {
                                    u.unshift(o);
                                    break
                                }
                        if (u[0] in n) i = u[0];
                        else {
                            for (o in n) {
                                if (!u[0] || e.converters[o + " " + u[0]]) {
                                    i = o;
                                    break
                                }
                                a || (a = o)
                            }
                            i = i || a
                        }
                        if (i) return i !== u[0] && u.unshift(i), n[i]
                    }(d, C, a)), !p && E.inArray("script", d.dataTypes) > -1 && (d.converters["text script"] = function() {}), _ = function(e, t, n, r) {
                        var o, i, a, s, u, c = {},
                            l = e.dataTypes.slice();
                        if (l[1])
                            for (a in e.converters) c[a.toLowerCase()] = e.converters[a];
                        for (i = l.shift(); i;)
                            if (e.responseFields[i] && (n[e.responseFields[i]] = t), !u && r && e.dataFilter && (t = e.dataFilter(t, e.dataType)), u = i, i = l.shift())
                                if ("*" === i) i = u;
                                else if ("*" !== u && u !== i) {
                            if (!(a = c[u + " " + i] || c["* " + i]))
                                for (o in c)
                                    if ((s = o.split(" "))[1] === i && (a = c[u + " " + s[0]] || c["* " + s[0]])) {
                                        !0 === a ? a = c[o] : !0 !== c[o] && (i = s[0], l.unshift(s[1]));
                                        break
                                    }
                            if (!0 !== a)
                                if (a && e.throws) t = a(t);
                                else try {
                                    t = a(t)
                                } catch (e) {
                                    return {
                                        state: "parsererror",
                                        error: a ? e : "No conversion from " + u + " to " + i
                                    }
                                }
                        }
                        return {
                            state: "success",
                            data: t
                        }
                    }(d, _, C, p), p ? (d.ifModified && ((w = C.getResponseHeader("Last-Modified")) && (E.lastModified[o] = w), (w = C.getResponseHeader("etag")) && (E.etag[o] = w)), 204 === e || "HEAD" === d.type ? x = "nocontent" : 304 === e ? x = "notmodified" : (x = _.state, f = _.data, p = !(b = _.error))) : (b = x, !e && x || (x = "error", e < 0 && (e = 0))), C.status = e, C.statusText = (t || x) + "", p ? m.resolveWith(h, [f, x, C]) : m.rejectWith(h, [C, x, b]), C.statusCode(g), g = void 0, l && y.trigger(p ? "ajaxSuccess" : "ajaxError", [C, d, p ? f : b]), v.fireWith(h, [C, x]), l && (y.trigger("ajaxComplete", [C, d]), --E.active || E.event.trigger("ajaxStop")))
                }
                return C
            },
            getJSON: function(e, t, n) {
                return E.get(e, t, n, "json")
            },
            getScript: function(e, t) {
                return E.get(e, void 0, t, "script")
            }
        }), E.each(["get", "post"], (function(e, t) {
            E[t] = function(e, n, r, o) {
                return v(n) && (o = o || r, r = n, n = void 0), E.ajax(E.extend({
                    url: e,
                    type: t,
                    dataType: o,
                    data: n,
                    success: r
                }, E.isPlainObject(e) && e))
            }
        })), E.ajaxPrefilter((function(e) {
            var t;
            for (t in e.headers) "content-type" === t.toLowerCase() && (e.contentType = e.headers[t] || "")
        })), E._evalUrl = function(e, t, n) {
            return E.ajax({
                url: e,
                type: "GET",
                dataType: "script",
                cache: !0,
                async: !1,
                global: !1,
                converters: {
                    "text script": function() {}
                },
                dataFilter: function(e) {
                    E.globalEval(e, t, n)
                }
            })
        }, E.fn.extend({
            wrapAll: function(e) {
                var t;
                return this[0] && (v(e) && (e = e.call(this[0])), t = E(e, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && t.insertBefore(this[0]), t.map((function() {
                    for (var e = this; e.firstElementChild;) e = e.firstElementChild;
                    return e
                })).append(this)), this
            },
            wrapInner: function(e) {
                return v(e) ? this.each((function(t) {
                    E(this).wrapInner(e.call(this, t))
                })) : this.each((function() {
                    var t = E(this),
                        n = t.contents();
                    n.length ? n.wrapAll(e) : t.append(e)
                }))
            },
            wrap: function(e) {
                var t = v(e);
                return this.each((function(n) {
                    E(this).wrapAll(t ? e.call(this, n) : e)
                }))
            },
            unwrap: function(e) {
                return this.parent(e).not("body").each((function() {
                    E(this).replaceWith(this.childNodes)
                })), this
            }
        }), E.expr.pseudos.hidden = function(e) {
            return !E.expr.pseudos.visible(e)
        }, E.expr.pseudos.visible = function(e) {
            return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length)
        }, E.ajaxSettings.xhr = function() {
            try {
                return new n.XMLHttpRequest
            } catch (e) {}
        };
        var Ut = {
                0: 200,
                1223: 204
            },
            Wt = E.ajaxSettings.xhr();
        m.cors = !!Wt && "withCredentials" in Wt, m.ajax = Wt = !!Wt, E.ajaxTransport((function(e) {
            var t, r;
            if (m.cors || Wt && !e.crossDomain) return {
                send: function(o, i) {
                    var a, s = e.xhr();
                    if (s.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields)
                        for (a in e.xhrFields) s[a] = e.xhrFields[a];
                    for (a in e.mimeType && s.overrideMimeType && s.overrideMimeType(e.mimeType), e.crossDomain || o["X-Requested-With"] || (o["X-Requested-With"] = "XMLHttpRequest"), o) s.setRequestHeader(a, o[a]);
                    t = function(e) {
                        return function() {
                            t && (t = r = s.onload = s.onerror = s.onabort = s.ontimeout = s.onreadystatechange = null, "abort" === e ? s.abort() : "error" === e ? "number" != typeof s.status ? i(0, "error") : i(s.status, s.statusText) : i(Ut[s.status] || s.status, s.statusText, "text" !== (s.responseType || "text") || "string" != typeof s.responseText ? {
                                binary: s.response
                            } : {
                                text: s.responseText
                            }, s.getAllResponseHeaders()))
                        }
                    }, s.onload = t(), r = s.onerror = s.ontimeout = t("error"), void 0 !== s.onabort ? s.onabort = r : s.onreadystatechange = function() {
                        4 === s.readyState && n.setTimeout((function() {
                            t && r()
                        }))
                    }, t = t("abort");
                    try {
                        s.send(e.hasContent && e.data || null)
                    } catch (e) {
                        if (t) throw e
                    }
                },
                abort: function() {
                    t && t()
                }
            }
        })), E.ajaxPrefilter((function(e) {
            e.crossDomain && (e.contents.script = !1)
        })), E.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /\b(?:java|ecma)script\b/
            },
            converters: {
                "text script": function(e) {
                    return E.globalEval(e), e
                }
            }
        }), E.ajaxPrefilter("script", (function(e) {
            void 0 === e.cache && (e.cache = !1), e.crossDomain && (e.type = "GET")
        })), E.ajaxTransport("script", (function(e) {
            var t, n;
            if (e.crossDomain || e.scriptAttrs) return {
                send: function(r, o) {
                    t = E("<script>").attr(e.scriptAttrs || {}).prop({
                        charset: e.scriptCharset,
                        src: e.url
                    }).on("load error", n = function(e) {
                        t.remove(), n = null, e && o("error" === e.type ? 404 : 200, e.type)
                    }), b.head.appendChild(t[0])
                },
                abort: function() {
                    n && n()
                }
            }
        }));
        var Gt, Kt = [],
            Xt = /(=)\?(?=&|$)|\?\?/;
        E.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var e = Kt.pop() || E.expando + "_" + Ot.guid++;
                return this[e] = !0, e
            }
        }), E.ajaxPrefilter("json jsonp", (function(e, t, r) {
            var o, i, a, s = !1 !== e.jsonp && (Xt.test(e.url) ? "url" : "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && Xt.test(e.data) && "data");
            if (s || "jsonp" === e.dataTypes[0]) return o = e.jsonpCallback = v(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback, s ? e[s] = e[s].replace(Xt, "$1" + o) : !1 !== e.jsonp && (e.url += (St.test(e.url) ? "&" : "?") + e.jsonp + "=" + o), e.converters["script json"] = function() {
                return a || E.error(o + " was not called"), a[0]
            }, e.dataTypes[0] = "json", i = n[o], n[o] = function() {
                a = arguments
            }, r.always((function() {
                void 0 === i ? E(n).removeProp(o) : n[o] = i, e[o] && (e.jsonpCallback = t.jsonpCallback, Kt.push(o)), a && v(i) && i(a[0]), a = i = void 0
            })), "script"
        })), m.createHTMLDocument = ((Gt = b.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>", 2 === Gt.childNodes.length), E.parseHTML = function(e, t, n) {
            return "string" != typeof e ? [] : ("boolean" == typeof t && (n = t, t = !1), t || (m.createHTMLDocument ? ((r = (t = b.implementation.createHTMLDocument("")).createElement("base")).href = b.location.href, t.head.appendChild(r)) : t = b), i = !n && [], (o = T.exec(e)) ? [t.createElement(o[1])] : (o = xe([e], t, i), i && i.length && E(i).remove(), E.merge([], o.childNodes)));
            var r, o, i
        }, E.fn.load = function(e, t, n) {
            var r, o, i, a = this,
                s = e.indexOf(" ");
            return s > -1 && (r = gt(e.slice(s)), e = e.slice(0, s)), v(t) ? (n = t, t = void 0) : t && "object" == typeof t && (o = "POST"), a.length > 0 && E.ajax({
                url: e,
                type: o || "GET",
                dataType: "html",
                data: t
            }).done((function(e) {
                i = arguments, a.html(r ? E("<div>").append(E.parseHTML(e)).find(r) : e)
            })).always(n && function(e, t) {
                a.each((function() {
                    n.apply(this, i || [e.responseText, t, e])
                }))
            }), this
        }, E.expr.pseudos.animated = function(e) {
            return E.grep(E.timers, (function(t) {
                return e === t.elem
            })).length
        }, E.offset = {
            setOffset: function(e, t, n) {
                var r, o, i, a, s, u, c = E.css(e, "position"),
                    l = E(e),
                    p = {};
                "static" === c && (e.style.position = "relative"), s = l.offset(), i = E.css(e, "top"), u = E.css(e, "left"), ("absolute" === c || "fixed" === c) && (i + u).indexOf("auto") > -1 ? (a = (r = l.position()).top, o = r.left) : (a = parseFloat(i) || 0, o = parseFloat(u) || 0), v(t) && (t = t.call(e, n, E.extend({}, s))), null != t.top && (p.top = t.top - s.top + a), null != t.left && (p.left = t.left - s.left + o), "using" in t ? t.using.call(e, p) : ("number" == typeof p.top && (p.top += "px"), "number" == typeof p.left && (p.left += "px"), l.css(p))
            }
        }, E.fn.extend({
            offset: function(e) {
                if (arguments.length) return void 0 === e ? this : this.each((function(t) {
                    E.offset.setOffset(this, e, t)
                }));
                var t, n, r = this[0];
                return r ? r.getClientRects().length ? (t = r.getBoundingClientRect(), n = r.ownerDocument.defaultView, {
                    top: t.top + n.pageYOffset,
                    left: t.left + n.pageXOffset
                }) : {
                    top: 0,
                    left: 0
                } : void 0
            },
            position: function() {
                if (this[0]) {
                    var e, t, n, r = this[0],
                        o = {
                            top: 0,
                            left: 0
                        };
                    if ("fixed" === E.css(r, "position")) t = r.getBoundingClientRect();
                    else {
                        for (t = this.offset(), n = r.ownerDocument, e = r.offsetParent || n.documentElement; e && (e === n.body || e === n.documentElement) && "static" === E.css(e, "position");) e = e.parentNode;
                        e && e !== r && 1 === e.nodeType && ((o = E(e).offset()).top += E.css(e, "borderTopWidth", !0), o.left += E.css(e, "borderLeftWidth", !0))
                    }
                    return {
                        top: t.top - o.top - E.css(r, "marginTop", !0),
                        left: t.left - o.left - E.css(r, "marginLeft", !0)
                    }
                }
            },
            offsetParent: function() {
                return this.map((function() {
                    for (var e = this.offsetParent; e && "static" === E.css(e, "position");) e = e.offsetParent;
                    return e || ie
                }))
            }
        }), E.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, (function(e, t) {
            var n = "pageYOffset" === t;
            E.fn[e] = function(r) {
                return H(this, (function(e, r, o) {
                    var i;
                    if (g(e) ? i = e : 9 === e.nodeType && (i = e.defaultView), void 0 === o) return i ? i[t] : e[r];
                    i ? i.scrollTo(n ? i.pageXOffset : o, n ? o : i.pageYOffset) : e[r] = o
                }), e, r, arguments.length)
            }
        })), E.each(["top", "left"], (function(e, t) {
            E.cssHooks[t] = We(m.pixelPosition, (function(e, n) {
                if (n) return n = Ue(e, t), ze.test(n) ? E(e).position()[t] + "px" : n
            }))
        })), E.each({
            Height: "height",
            Width: "width"
        }, (function(e, t) {
            E.each({
                padding: "inner" + e,
                content: t,
                "": "outer" + e
            }, (function(n, r) {
                E.fn[r] = function(o, i) {
                    var a = arguments.length && (n || "boolean" != typeof o),
                        s = n || (!0 === o || !0 === i ? "margin" : "border");
                    return H(this, (function(t, n, o) {
                        var i;
                        return g(t) ? 0 === r.indexOf("outer") ? t["inner" + e] : t.document.documentElement["client" + e] : 9 === t.nodeType ? (i = t.documentElement, Math.max(t.body["scroll" + e], i["scroll" + e], t.body["offset" + e], i["offset" + e], i["client" + e])) : void 0 === o ? E.css(t, n, s) : E.style(t, n, o, s)
                    }), t, a ? o : void 0, a)
                }
            }))
        })), E.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], (function(e, t) {
            E.fn[t] = function(e) {
                return this.on(t, e)
            }
        })), E.fn.extend({
            bind: function(e, t, n) {
                return this.on(e, null, t, n)
            },
            unbind: function(e, t) {
                return this.off(e, null, t)
            },
            delegate: function(e, t, n, r) {
                return this.on(t, e, n, r)
            },
            undelegate: function(e, t, n) {
                return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n)
            },
            hover: function(e, t) {
                return this.mouseenter(e).mouseleave(t || e)
            }
        }), E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), (function(e, t) {
            E.fn[t] = function(e, n) {
                return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
            }
        }));
        var Yt = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
        E.proxy = function(e, t) {
            var n, r, o;
            if ("string" == typeof t && (n = e[t], t = e, e = n), v(e)) return r = s.call(arguments, 2), (o = function() {
                return e.apply(t || this, r.concat(s.call(arguments)))
            }).guid = e.guid = e.guid || E.guid++, o
        }, E.holdReady = function(e) {
            e ? E.readyWait++ : E.ready(!0)
        }, E.isArray = Array.isArray, E.parseJSON = JSON.parse, E.nodeName = P, E.isFunction = v, E.isWindow = g, E.camelCase = K, E.type = x, E.now = Date.now, E.isNumeric = function(e) {
            var t = E.type(e);
            return ("number" === t || "string" === t) && !isNaN(e - parseFloat(e))
        }, E.trim = function(e) {
            return null == e ? "" : (e + "").replace(Yt, "")
        }, void 0 === (r = function() {
            return E
        }.apply(t, [])) || (e.exports = r);
        var Jt = n.jQuery,
            Zt = n.$;
        return E.noConflict = function(e) {
            return n.$ === E && (n.$ = Zt), e && n.jQuery === E && (n.jQuery = Jt), E
        }, void 0 === o && (n.jQuery = n.$ = E), E
    }))
}, function(e, t, n) {
    "use strict";
    var r = /,?([a-z]),?/gi,
        o = parseFloat,
        i = Math,
        a = i.PI,
        s = i.min,
        u = i.max,
        c = i.pow,
        l = i.abs,
        p = /([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,
        f = /(-?\d*\.?\d*(?:e[-+]?\\d+)?)[\s]*,?[\s]*/gi,
        d = Array.isArray || function(e) {
            return e instanceof Array
        };

    function h(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }

    function y(e) {
        if ("function" == typeof e || Object(e) !== e) return e;
        var t = new e.constructor;
        for (var n in e) h(e, n) && (t[n] = y(e[n]));
        return t
    }

    function m(e, t) {
        for (var n = 0, r = e.length; n < r; n++)
            if (e[n] === t) return e.push(e.splice(n, 1)[0])
    }

    function v(e) {
        var t = v.ps = v.ps || {};
        return t[e] ? t[e].sleep = 100 : t[e] = {
            sleep: 100
        }, setTimeout((function() {
            for (var n in t) h(t, n) && n != e && (t[n].sleep--, !t[n].sleep && delete t[n])
        })), t[e]
    }

    function g(e, t, n, r) {
        return 1 === arguments.length && (t = e.y, n = e.width, r = e.height, e = e.x), {
            x: e,
            y: t,
            width: n,
            height: r,
            x2: e + n,
            y2: t + r
        }
    }

    function b() {
        return this.join(",").replace(r, "$1")
    }

    function _(e) {
        var t = y(e);
        return t.toString = b, t
    }

    function w(e, t, n, r, o, i, a, s, u) {
        var l = 1 - u,
            p = c(l, 3),
            f = c(l, 2),
            d = u * u * u,
            h = p * t + 3 * f * u * r + 3 * l * u * u * i + d * s;
        return {
            x: j(p * e + 3 * f * u * n + 3 * l * u * u * o + d * a),
            y: j(h)
        }
    }

    function x(e) {
        var t = A.apply(null, e);
        return g(t.x0, t.y0, t.x1 - t.x0, t.y1 - t.y0)
    }

    function E(e, t, n) {
        return t >= e.x && t <= e.x + e.width && n >= e.y && n <= e.y + e.height
    }

    function C(e, t, n, r, o) {
        return e * (e * (-3 * t + 9 * n - 9 * r + 3 * o) + 6 * t - 12 * n + 6 * r) - 3 * t + 3 * n
    }

    function O(e, t, n, r, o, a, s, u, c) {
        null == c && (c = 1);
        for (var l = (c = c > 1 ? 1 : c < 0 ? 0 : c) / 2, p = [-.1252, .1252, -.3678, .3678, -.5873, .5873, -.7699, .7699, -.9041, .9041, -.9816, .9816], f = [.2491, .2491, .2335, .2335, .2032, .2032, .1601, .1601, .1069, .1069, .0472, .0472], d = 0, h = 0; h < 12; h++) {
            var y = l * p[h] + l,
                m = C(y, e, n, o, s),
                v = C(y, t, r, a, u),
                g = m * m + v * v;
            d += f[h] * i.sqrt(g)
        }
        return l * d
    }

    function S(e, t, n, r, o, i, a, c) {
        if (!(u(e, n) < s(o, a) || s(e, n) > u(o, a) || u(t, r) < s(i, c) || s(t, r) > u(i, c))) {
            var l = (e * r - t * n) * (i - c) - (t - r) * (o * c - i * a),
                p = (e - n) * (i - c) - (t - r) * (o - a);
            if (p) {
                var f = j(((e * r - t * n) * (o - a) - (e - n) * (o * c - i * a)) / p),
                    d = j(l / p),
                    h = +f.toFixed(2),
                    y = +d.toFixed(2);
                if (!(h < +s(e, n).toFixed(2) || h > +u(e, n).toFixed(2) || h < +s(o, a).toFixed(2) || h > +u(o, a).toFixed(2) || y < +s(t, r).toFixed(2) || y > +u(t, r).toFixed(2) || y < +s(i, c).toFixed(2) || y > +u(i, c).toFixed(2))) return {
                    x: f,
                    y: d
                }
            }
        }
    }

    function j(e) {
        return Math.round(1e11 * e) / 1e11
    }

    function k(e, t, n) {
        if (! function(e, t) {
                return e = g(e), E(t = g(t), e.x, e.y) || E(t, e.x2, e.y) || E(t, e.x, e.y2) || E(t, e.x2, e.y2) || E(e, t.x, t.y) || E(e, t.x2, t.y) || E(e, t.x, t.y2) || E(e, t.x2, t.y2) || (e.x < t.x2 && e.x > t.x || t.x < e.x2 && t.x > e.x) && (e.y < t.y2 && e.y > t.y || t.y < e.y2 && t.y > e.y)
            }(x(e), x(t))) return n ? 0 : [];
        for (var r = O.apply(0, e), o = O.apply(0, t), i = T(e) ? 1 : ~~(r / 5) || 1, a = T(t) ? 1 : ~~(o / 5) || 1, s = [], u = [], c = {}, p = n ? 0 : [], f = 0; f < i + 1; f++) {
            var d = w.apply(0, e.concat(f / i));
            s.push({
                x: d.x,
                y: d.y,
                t: f / i
            })
        }
        for (f = 0; f < a + 1; f++) d = w.apply(0, t.concat(f / a)), u.push({
            x: d.x,
            y: d.y,
            t: f / a
        });
        for (f = 0; f < i; f++)
            for (var h = 0; h < a; h++) {
                var y, m = s[f],
                    v = s[f + 1],
                    b = u[h],
                    _ = u[h + 1],
                    C = l(v.x - m.x) < .01 ? "y" : "x",
                    j = l(_.x - b.x) < .01 ? "y" : "x",
                    k = S(m.x, m.y, v.x, v.y, b.x, b.y, _.x, _.y);
                if (k) {
                    if (c[y = k.x.toFixed(9) + "#" + k.y.toFixed(9)]) continue;
                    c[y] = !0;
                    var P = m.t + l((k[C] - m[C]) / (v[C] - m[C])) * (v.t - m.t),
                        D = b.t + l((k[j] - b[j]) / (_[j] - b[j])) * (_.t - b.t);
                    P >= 0 && P <= 1 && D >= 0 && D <= 1 && (n ? p++ : p.push({
                        x: k.x,
                        y: k.y,
                        t1: P,
                        t2: D
                    }))
                }
            }
        return p
    }

    function P(e) {
        var t = v(e);
        if (t.abs) return _(t.abs);
        if (d(e) && d(e && e[0]) || (e = function(e) {
                if (!e) return null;
                var t = v(e);
                if (t.arr) return y(t.arr);
                var n = {
                        a: 7,
                        c: 6,
                        h: 1,
                        l: 2,
                        m: 2,
                        q: 4,
                        s: 4,
                        t: 2,
                        v: 1,
                        z: 0
                    },
                    r = [];
                return d(e) && d(e[0]) && (r = y(e)), r.length || String(e).replace(p, (function(e, t, o) {
                    var i = [],
                        a = t.toLowerCase();
                    for (o.replace(f, (function(e, t) {
                            t && i.push(+t)
                        })), "m" == a && i.length > 2 && (r.push([t].concat(i.splice(0, 2))), a = "l", t = "m" == t ? "l" : "L"); i.length >= n[a] && (r.push([t].concat(i.splice(0, n[a]))), n[a]););
                })), r.toString = v.toString, t.arr = y(r), r
            }(e)), !e || !e.length) return [
            ["M", 0, 0]
        ];
        var n, r = [],
            o = 0,
            i = 0,
            a = 0,
            s = 0,
            u = 0;
        "M" == e[0][0] && (a = o = +e[0][1], s = i = +e[0][2], u++, r[0] = ["M", o, i]);
        for (var c, l, h = u, m = e.length; h < m; h++) {
            if (r.push(c = []), (n = (l = e[h])[0]) != n.toUpperCase()) switch (c[0] = n.toUpperCase(), c[0]) {
                case "A":
                    c[1] = l[1], c[2] = l[2], c[3] = l[3], c[4] = l[4], c[5] = l[5], c[6] = +l[6] + o, c[7] = +l[7] + i;
                    break;
                case "V":
                    c[1] = +l[1] + i;
                    break;
                case "H":
                    c[1] = +l[1] + o;
                    break;
                case "M":
                    a = +l[1] + o, s = +l[2] + i;
                default:
                    for (var g = 1, w = l.length; g < w; g++) c[g] = +l[g] + (g % 2 ? o : i)
            } else
                for (var x = 0, E = l.length; x < E; x++) c[x] = l[x];
            switch (n = n.toUpperCase(), c[0]) {
                case "Z":
                    o = +a, i = +s;
                    break;
                case "H":
                    o = c[1];
                    break;
                case "V":
                    i = c[1];
                    break;
                case "M":
                    a = c[c.length - 2], s = c[c.length - 1];
                default:
                    o = c[c.length - 2], i = c[c.length - 1]
            }
        }
        return r.toString = b, t.abs = _(r), r
    }

    function T(e) {
        return e[0] === e[2] && e[1] === e[3] && e[4] === e[6] && e[5] === e[7]
    }

    function D(e, t, n, r) {
        return [e, t, n, r, n, r]
    }

    function R(e, t, n, r, o, i) {
        return [1 / 3 * e + 2 / 3 * n, 1 / 3 * t + 2 / 3 * r, 1 / 3 * o + 2 / 3 * n, 1 / 3 * i + 2 / 3 * r, o, i]
    }

    function M(e, t, n, r, o, s, u, c, p, f) {
        var d, y, v = 120 * a / 180,
            g = a / 180 * (+o || 0),
            b = [],
            _ = (y = function(e, t, n) {
                return {
                    x: e * i.cos(n) - t * i.sin(n),
                    y: e * i.sin(n) + t * i.cos(n)
                }
            }, function e() {
                var t = Array.prototype.slice.call(arguments, 0),
                    n = t.join("␀"),
                    r = e.cache = e.cache || {},
                    o = e.count = e.count || [];
                return h(r, n) ? (m(o, n), r[n]) : (o.length >= 1e3 && delete r[o.shift()], o.push(n), r[n] = y.apply(0, t), r[n])
            });
        if (f) P = f[0], T = f[1], j = f[2], k = f[3];
        else {
            e = (d = _(e, t, -g)).x, t = d.y;
            var w = (e - (c = (d = _(c, p, -g)).x)) / 2,
                x = (t - (p = d.y)) / 2,
                E = w * w / (n * n) + x * x / (r * r);
            E > 1 && (n *= E = i.sqrt(E), r *= E);
            var C = n * n,
                O = r * r,
                S = (s == u ? -1 : 1) * i.sqrt(l((C * O - C * x * x - O * w * w) / (C * x * x + O * w * w))),
                j = S * n * x / r + (e + c) / 2,
                k = S * -r * w / n + (t + p) / 2,
                P = i.asin(((t - k) / r).toFixed(9)),
                T = i.asin(((p - k) / r).toFixed(9));
            (P = e < j ? a - P : P) < 0 && (P = 2 * a + P), (T = c < j ? a - T : T) < 0 && (T = 2 * a + T), u && P > T && (P -= 2 * a), !u && T > P && (T -= 2 * a)
        }
        var D = T - P;
        if (l(D) > v) {
            var R = T,
                A = c,
                N = p;
            T = P + v * (u && T > P ? 1 : -1), b = M(c = j + n * i.cos(T), p = k + r * i.sin(T), n, r, o, 0, u, A, N, [T, R, j, k])
        }
        D = T - P;
        var I = i.cos(P),
            L = i.sin(P),
            B = i.cos(T),
            $ = i.sin(T),
            V = i.tan(D / 4),
            z = 4 / 3 * n * V,
            F = 4 / 3 * r * V,
            q = [e, t],
            H = [e + z * L, t - F * I],
            U = [c + z * $, p - F * B],
            W = [c, p];
        if (H[0] = 2 * q[0] - H[0], H[1] = 2 * q[1] - H[1], f) return [H, U, W].concat(b);
        for (var G = [], K = 0, X = (b = [H, U, W].concat(b).join().split(",")).length; K < X; K++) G[K] = K % 2 ? _(b[K - 1], b[K], g).y : _(b[K], b[K + 1], g).x;
        return G
    }

    function A(e, t, n, r, o, a, c, p) {
        for (var f, d, h, y, m, v, g, b, _ = [], w = [
                [],
                []
            ], x = 0; x < 2; ++x)
            if (0 == x ? (d = 6 * e - 12 * n + 6 * o, f = -3 * e + 9 * n - 9 * o + 3 * c, h = 3 * n - 3 * e) : (d = 6 * t - 12 * r + 6 * a, f = -3 * t + 9 * r - 9 * a + 3 * p, h = 3 * r - 3 * t), l(f) < 1e-12) {
                if (l(d) < 1e-12) continue;
                0 < (y = -h / d) && y < 1 && _.push(y)
            } else g = d * d - 4 * h * f, b = i.sqrt(g), g < 0 || (0 < (m = (-d + b) / (2 * f)) && m < 1 && _.push(m), 0 < (v = (-d - b) / (2 * f)) && v < 1 && _.push(v));
        for (var E, C = _.length, O = C; C--;) E = 1 - (y = _[C]), w[0][C] = E * E * E * e + 3 * E * E * y * n + 3 * E * y * y * o + y * y * y * c, w[1][C] = E * E * E * t + 3 * E * E * y * r + 3 * E * y * y * a + y * y * y * p;
        return w[0][O] = e, w[1][O] = t, w[0][O + 1] = c, w[1][O + 1] = p, w[0].length = w[1].length = O + 2, {
            x0: s.apply(0, w[0]),
            y0: s.apply(0, w[1]),
            x1: u.apply(0, w[0]),
            y1: u.apply(0, w[1])
        }
    }

    function N(e) {
        var t = v(e);
        if (t.curve) return _(t.curve);
        for (var n = P(e), r = {
                x: 0,
                y: 0,
                bx: 0,
                by: 0,
                X: 0,
                Y: 0,
                qx: null,
                qy: null
            }, i = function(e, t, n) {
                var r, o;
                if (!e) return ["C", t.x, t.y, t.x, t.y, t.x, t.y];
                switch (!(e[0] in {
                    T: 1,
                    Q: 1
                }) && (t.qx = t.qy = null), e[0]) {
                    case "M":
                        t.X = e[1], t.Y = e[2];
                        break;
                    case "A":
                        e = ["C"].concat(M.apply(0, [t.x, t.y].concat(e.slice(1))));
                        break;
                    case "S":
                        "C" == n || "S" == n ? (r = 2 * t.x - t.bx, o = 2 * t.y - t.by) : (r = t.x, o = t.y), e = ["C", r, o].concat(e.slice(1));
                        break;
                    case "T":
                        "Q" == n || "T" == n ? (t.qx = 2 * t.x - t.qx, t.qy = 2 * t.y - t.qy) : (t.qx = t.x, t.qy = t.y), e = ["C"].concat(R(t.x, t.y, t.qx, t.qy, e[1], e[2]));
                        break;
                    case "Q":
                        t.qx = e[1], t.qy = e[2], e = ["C"].concat(R(t.x, t.y, e[1], e[2], e[3], e[4]));
                        break;
                    case "L":
                        e = ["C"].concat(D(t.x, t.y, e[1], e[2]));
                        break;
                    case "H":
                        e = ["C"].concat(D(t.x, t.y, e[1], t.y));
                        break;
                    case "V":
                        e = ["C"].concat(D(t.x, t.y, t.x, e[1]));
                        break;
                    case "Z":
                        e = ["C"].concat(D(t.x, t.y, t.X, t.Y))
                }
                return e
            }, a = function(e, t) {
                if (e[t].length > 7) {
                    e[t].shift();
                    for (var r = e[t]; r.length;) s[t] = "A", e.splice(t++, 0, ["C"].concat(r.splice(0, 6)));
                    e.splice(t, 1), p = n.length
                }
            }, s = [], u = "", c = "", l = 0, p = n.length; l < p; l++) {
            n[l] && (u = n[l][0]), "C" != u && (s[l] = u, l && (c = s[l - 1])), n[l] = i(n[l], r, c), "A" != s[l] && "C" == u && (s[l] = "C"), a(n, l);
            var f = n[l],
                d = f.length;
            r.x = f[d - 2], r.y = f[d - 1], r.bx = o(f[d - 4]) || r.x, r.by = o(f[d - 3]) || r.y
        }
        return t.curve = _(n), n
    }
    e.exports = function(e, t, n) {
        e = N(e), t = N(t);
        for (var r, o, i, a, s, u, c, l, p, f, d = n ? 0 : [], h = 0, y = e.length; h < y; h++) {
            var m = e[h];
            if ("M" == m[0]) r = s = m[1], o = u = m[2];
            else {
                "C" == m[0] ? (p = [r, o].concat(m.slice(1)), r = p[6], o = p[7]) : (p = [r, o, r, o, s, u, s, u], r = s, o = u);
                for (var v = 0, g = t.length; v < g; v++) {
                    var b = t[v];
                    if ("M" == b[0]) i = c = b[1], a = l = b[2];
                    else {
                        "C" == b[0] ? (f = [i, a].concat(b.slice(1)), i = f[6], a = f[7]) : (f = [i, a, i, a, c, l, c, l], i = c, a = l);
                        var _ = k(p, f, n);
                        if (n) d += _;
                        else {
                            for (var w = 0, x = _.length; w < x; w++) _[w].segment1 = h, _[w].segment2 = v, _[w].bez1 = p, _[w].bez2 = f;
                            d = d.concat(_)
                        }
                    }
                }
            }
        }
        return d
    }
}, function(e, t, n) {
    "use strict";
    e.exports.extend = function(e, t, n, r) {
        var o = n.inverse;
        return Object.defineProperty(e, "remove", {
            value: function(e) {
                var n = this.indexOf(e);
                return -1 !== n && (this.splice(n, 1), t.unset(e, o, r)), e
            }
        }), Object.defineProperty(e, "contains", {
            value: function(e) {
                return -1 !== this.indexOf(e)
            }
        }), Object.defineProperty(e, "add", {
            value: function(e, n) {
                var i = this.indexOf(e);
                if (void 0 === n) {
                    if (-1 !== i) return;
                    n = this.length
                } - 1 !== i && this.splice(i, 1), this.splice(n, 0, e), -1 === i && t.set(e, o, r)
            }
        }), Object.defineProperty(e, "__refs_collection", {
            value: !0
        }), e
    }, e.exports.isExtended = function(e) {
        return !0 === e.__refs_collection
    }
}, function(e, t, n) {
    "use strict";
    (function(e) {
        n.d(t, "a", (function() {
            return s
        }));
        n(17);
        var r = n(14),
            o = n(13),
            i = n.n(o);
        n(21), n(22);

        function a(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }
        var s = function() {
            function t() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t)
            }
            var n, o, s;
            return n = t, (o = [{
                key: "initialize",
                value: function() {
                    this.dirty = !1, this.container = e("#js-drop-zone"), this.canvas = e("#js-table"), this.renderer = new r.a({
                        container: this.canvas,
                        keyboard: {
                            bindTo: window.document
                        },
                        table: {
                            minColWidth: 200,
                            tableName: "DMN Table"
                        }
                    }), this.initListener(), this.init()
                }
            }, {
                key: "initListener",
                value: function() {
                    var t = this;
                    this.renderer.on("views.changed", (function() {
                        t.exportArtifacts()
                    })), this.renderer.on("import.done", (function() {
                        e(inputsContainer).empty(), e(outputsContainer).empty(), t.exportArtifacts()
                    })), e("#downloadButton").on("click", (function() {
                        t.renderer.saveXML({
                            format: !0
                        }, (function(t, n) {
                            var r = encodeURIComponent(n);
                            n && (e("#downloadButton").attr("href", "data:application/xml;charset=UTF-8,".concat(r)), e("#downloadButton").attr("download", "simulation.dmn"))
                        }))
                    })), e("#uploadButton").on("click", (function() {
                        e("#myModal #myModalLabel").text("Upload your DMN File for Simulation"), e("#myModal #myModalBody").html('<p><strong>Q: How can I simulate an existing DMN Decision Table?</strong></p><p>A: Simply drag your DMN file on the decision table area in this website.</p><p><img style="max-width:100%" src="./dmn-simulator-drag.gif" class="img-responsive"></p>'), e("#myModal").modal({
                            showClose: !1
                        })
                    }))
                }
            }, {
                key: "showDRD",
                value: function() {
                    var e = this.renderer.getViews()[0];
                    this.renderer.open(e)
                }
            }, {
                key: "createDemoTable",
                value: function() {
                    this.openTable(i.a)
                }
            }, {
                key: "openTable",
                value: function(e) {
                    var t = this;
                    this.renderer.importXML(e, (function(e) {
                        e ? (t.container.removeClass("with-table").addClass("with-error"), t.container.find(".error pre").text(e.message), console.error(e)) : t.container.removeClass("with-error").addClass("with-table")
                    }))
                }
            }, {
                key: "saveTable",
                value: function(e) {
                    this.renderer.saveXML({
                        format: !0
                    }, (function(t, n) {
                        e(t, n)
                    }))
                }
            }, {
                key: "registerFileDrop",
                value: function(e, t) {
                    var n = this;

                    function r(e) {
                        if (e.stopPropagation(), e.preventDefault(), !this.dirty || window.confirm("You made changes to the previous table, do you really want to load the new table and overwrite the changes?")) {
                            var n = e.dataTransfer.files[0],
                                r = new FileReader,
                                o = this;
                            r.onload = function(e) {
                                var n = e.target.result;
                                t.call(o, n)
                            }, r.readAsText(n)
                        }
                    }

                    function o(e) {
                        e.stopPropagation(), e.preventDefault(), e.dataTransfer.dropEffect = "copy"
                    }
                    this.container.get(0).addEventListener("dragover", (function(e) {
                        o.call(n, e)
                    }), !1), this.container.get(0).addEventListener("drop", (function(e) {
                        r.call(n, e)
                    }), !1)
                }
            }, {
                key: "init",
                value: function() {
                    var t = this;
                    window.FileList && window.FileReader ? this.registerFileDrop(this.container, this.openTable) : window.alert("Looks like you use an older browser that does not support drag and drop. Try using Chrome, Firefox or the Internet Explorer > 10."), e(".buttons a").click((function(t) {
                        e(this).is(".active") || (t.preventDefault(), t.stopPropagation())
                    })), window.onbeforeunload = function() {
                        if (dirty) return "The changes you performed on the table will be lost upon navigation."
                    };
                    var n = window.document.getElementById("inputsContainer"),
                        r = window.document.getElementById("outputsContainer");
                    n.innerHTML = "", r.innerHTML = "", e("#decisionTableName").on("change", (function() {
                        var n = [];
                        if (t.renderer.chosenTable = e("#decisionTableName").val(), t.currentView = t.renderer._views.filter((function(e) {
                                if (e.element.id === t.renderer.chosenTable) return !0
                            })), t.currentView.length > 0) {
                            t.renderer.open(t.currentView[0]);
                            var r = t.currentView[0].element,
                                o = t.renderer;
                            n.push(r.id), n = t.collectInputVariables(r, n, o)
                        }
                        e("#inputsContainer tr").hide(), e("#outputsContainer tr").hide(), n.forEach((function(t) {
                            e("." + t).show()
                        })), "" === t.renderer.chosenTable && (e("#inputsContainer tr").show(), e("#outputsContainer tr").show())
                    })), this.createDemoTable(), window.document.getElementById("simulateButton").addEventListener("click", (function(n) {
                        e(".dmn-js-parent tr").removeClass("fired"), t.renderer.saveXML({
                            format: !1
                        }, (function(n, r) {
                            var o = {
                                    xml: r,
                                    inputs: t.renderer.inputs.map((function(e) {
                                        var n = e.inputExpression.typeRef;
                                        return {
                                            type: n,
                                            varname: e.inputExpression.text,
                                            value: t.parseValue(e.html.value, n)
                                        }
                                    }))
                                },
                                i = e("#decisionTableName");
                            if (i.length > 0) {
                                var a = i.val();
                                null != a && "" != a && (o.decisionTable = a)
                            }
                            var s = new XMLHttpRequest;
                            s.addEventListener("load", (function() {
                                t.renderer.lastResponse = s.response, t.handleResults(s.response)
                            })), s.open("POST", "https://consulting.camunda.com/dmn-simulator/evaluateDecision", !0), s.setRequestHeader("Content-Type", "application/json;charset=UTF-8"), s.send(JSON.stringify(o))
                        }))
                    }))
                }
            }, {
                key: "collectInputVariables",
                value: function(e, t, n) {
                    var r = this;
                    return null != e.informationRequirement && e.informationRequirement.forEach((function(e) {
                        null != e.requiredDecision && n._definitions.drgElement.filter((function(t) {
                            var n = e.requiredDecision.href.replace("#", "");
                            if ("dmn:Decision" === t.$type && t.id === n) return !0
                        })).forEach((function(e) {
                            t.push(e.id), r.collectInputVariables(e, t, n)
                        }))
                    })), t
                }
            }, {
                key: "handleResults",
                value: function(t) {
                    var n = this;
                    e("#outputsContainer input").val("");
                    var r = t,
                        o = t.indexOf('{"');
                    if (-1 !== o) {
                        r = t.substr(o);
                        var i = JSON.parse(r);
                        if (i.error) return this.renderer.lastResponse = null, e("#myModal #myModalLabel").text("Error in Execution"), e("#myModal #myModalBody").html("<h4>" + i.error + "</h4>"), void e("#myModal").modal({
                            showClose: !1
                        });
                        0 == i.rules.length && (null == i.tableResults || i.tableResults && i.tableResults.length < 1) && (this.renderer.lastResponse = null, e("#myModal #myModalLabel").text("No Rule applied"), e("#myModal #myModalBody").html("<p>No rule applied for the input data you have provided.</p>"), e("#myModal").modal({
                            showClose: !1
                        }));
                        for (var a = {}, s = 0; s < i.rules.length; s++) {
                            var u = i.rules[s],
                                c = window.document.querySelector('[data-row-id="' + u.ruleId + '"]');
                            c && e(c).parent().addClass("fired");
                            for (var l = 0; l < u.outputs.length; l++) {
                                var p = u.outputs[l];
                                if (null != p && Object.keys(p).length > 0) {
                                    var f = Object.keys(p)[0];
                                    null != a[f] ? a[f] = a[f] + ", " + p[f] : a[f] = p[f]
                                }
                            }
                        }
                        this.renderer.outputs.forEach((function(e) {
                            e.value = ""
                        })), Object.keys(a).forEach((function(e) {
                            n.renderer.outputs.forEach((function(t) {
                                e === t.id && (t.value = a[e])
                            }))
                        }));
                        var d = {};
                        i.tableResults.forEach((function(e) {
                            var t = Object.keys(e);
                            if (t.length > 0) {
                                var n = t[0];
                                null == d[n] ? d[n] = e[t] : d[n] = d[n] + ", " + e[t]
                            }
                        })), this.renderer.outputs.forEach((function(e) {
                            null != d[e.name] && (e.value = d[e.name]), i.inputs.forEach((function(t) {
                                null != t && null != t[e.name] && "" == e.value && (e.value = t[e.name])
                            }))
                        })), this.updateOutputs(this.renderer.outputs)
                    } else {
                        this.renderer.lastResponse = null, e("#myModal #myModalBody").html(t), e("#myModal").modal({
                            showClose: !1
                        });
                        var h = window.document.querySelector("#myModalBody style");
                        h.parentNode.removeChild(h)
                    }
                }
            }, {
                key: "exportArtifacts",
                value: function() {
                    var t = [],
                        n = this.renderer._definitions.drgElement.filter((function(e) {
                            if ("dmn:Decision" === e.$type) return "dmn:LiteralExpression" === e.decisionLogic.$type ? t.push(e.variable.name) : e.decisionLogic.output.forEach((function(e) {
                                t.push(e.name)
                            })), !0
                        })),
                        r = [],
                        o = [];
                    null != this.renderer.lastResponse && this.handleResults(this.renderer.lastResponse), e("#decisionTableName").empty(), e("#decisionTableName").append('<option value="">All tables</option>'), n.forEach((function(n) {
                        e("#decisionTableName").append("<option value=" + n.id + ">" + n.name + "</option>"), "dmn:LiteralExpression" === n.decisionLogic.$type ? o = o.concat(n) : n.decisionLogic && (n.decisionLogic.input.forEach((function(e) {
                            t.includes(e.inputExpression.text) || r.push(e)
                        })), o = o.concat(n.decisionLogic.output))
                    })), null != this.renderer.chosenTable && e("#decisionTableName").val(this.renderer.chosenTable);
                    var i = [],
                        a = o.map((function(e) {
                            return null != e.name && "" !== e.name || (e.name = e.label), e.variable ? e.variable.name : e.name
                        }));
                    r.forEach((function(e) {
                        null != e && null != e.inputExpression && (null != e.inputExpression.text && "" != e.inputExpression.text || (e.inputExpression.text = e.label.replace(" ", "")), a.indexOf(e.inputExpression.text) < 0 && i.push(e))
                    })), this.updateInputs(i), this.updateOutputs(o), this.renderer.inputs = i, this.renderer.outputs = o
                }
            }, {
                key: "updateInputs",
                value: function(t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        if (!r.html) {
                            var o = r.inputExpression.typeRef;
                            if ("boolean" === o) r.html = window.document.createElement("select"), e(r.html).append('<option value="true">True</option><option value="false">False</option>'), e(r.html).val("true"), e(r.html).on("change", (function() {
                                var t = e(this).val(),
                                    n = this,
                                    r = e(this).attr("data-id");
                                e('[data-id="' + r + '"]').each((function(r, o) {
                                    o !== n && e(o).val(t)
                                }))
                            }));
                            else if (-1 !== ["integer", "long", "double"].indexOf(o)) r.html = window.document.createElement("input"), e(r.html).attr("type", "number"), e(r.html).attr("placeholder", "Enter Number"), e(r.html).val(0), e(r.html).on("change", (function() {
                                var t = e(this).val(),
                                    n = this,
                                    r = e(this).attr("data-id");
                                e('[data-id="' + r + '"]').each((function(r, o) {
                                    o !== n && e(o).val(t)
                                }))
                            }));
                            else if ("date" == o) {
                                r.html = window.document.createElement("input");
                                var i = new Date,
                                    a = i.getDate(),
                                    s = i.getMonth() + 1,
                                    u = i.getFullYear();
                                e(r.html).attr("placeholder", "yyyy-MM-dd HH:mm:ss"), e(r.html).val(u + "-" + s + "-" + a + " 00:00:00"), e(r.html).on("change", (function() {
                                    var t = e(this).val(),
                                        n = this,
                                        r = e(this).attr("data-id");
                                    e('[data-id="' + r + '"]').each((function(r, o) {
                                        o !== n && e(o).val(t)
                                    }))
                                }))
                            } else r.html = window.document.createElement("input"), e(r.html).attr("placeholder", "Enter String"), e(r.html).on("change", (function() {
                                var t = e(this).val(),
                                    n = this,
                                    r = e(this).attr("data-id");
                                e('[data-id="' + r + '"]').each((function(r, o) {
                                    o !== n && e(o).val(t)
                                }))
                            }));
                            r.labelspan = window.document.createElement("span"), r.typeref = window.document.createElement("span"), r.row = window.document.createElement("tr"), e(r.row).attr("id", "inputFor_" + r.id), e(r.html).attr("data-id", "inputFor_" + r.inputExpression.text), r.$parent && r.$parent.$parent && (r.referenceTable = r.$parent.$parent.id, r.referenceTableName = r.$parent.$parent.name, e(r.row).addClass(r.$parent.$parent.id));
                            var c = window.document.createElement("td");
                            c.appendChild(r.labelspan), r.row.appendChild(c);
                            var l = window.document.createElement("td");
                            e(l).addClass("inputElement"), l.appendChild(r.html), r.row.appendChild(l);
                            var p = window.document.createElement("td");
                            p.appendChild(r.typeref), e(p).addClass("inputTypeRef"), r.row.appendChild(p);
                            var f = e(".table-" + r.referenceTable, inputsContainer);
                            f.length < 1 && (e(inputsContainer).append(e('<table class="table-' + r.referenceTable + '"><tr class="' + r.referenceTable + '"><th colspan="3">' + r.referenceTableName + "</th></tr></table>")), f = e(".table-" + r.referenceTable, inputsContainer)), f.append(r.row)
                        }
                        r.labelspan.innerHTML = r.label + ":", r.typeref.innerHTML = r.inputExpression.typeRef, r.inputExpression.text && e(r.html).attr("data-id", "inputFor_" + r.inputExpression.text)
                    }
                }
            }, {
                key: "updateOutputs",
                value: function(t) {
                    for (var n = 0; n < t.length; n++) {
                        var r = t[n];
                        if (!r.html) {
                            r.html = window.document.createElement("input"), r.labelspan = window.document.createElement("span"), r.row = window.document.createElement("tr"), r.decisionLogic && "dmn:LiteralExpression" === r.decisionLogic.$type ? (e(r.row).attr("id", "outputFor_" + r.variable.name), e(r.row).addClass(r.id)) : (e(r.row).attr("id", "outputFor_" + r.id), r.$parent && r.$parent.$parent && e(r.row).addClass(r.$parent.$parent.id));
                            var o = window.document.createElement("td");
                            o.appendChild(r.labelspan), r.row.appendChild(o);
                            var i = window.document.createElement("td");
                            i.appendChild(r.html), r.row.appendChild(i), r.html.setAttribute("readonly", "true"), outputsContainer.appendChild(r.row)
                        }
                        r.decisionLogic && "dmn:LiteralExpression" === r.decisionLogic.$type ? (e(r.row).attr("id", "outputFor_" + r.variable.name), r.labelspan.innerHTML = r.variable.name + ":") : r.labelspan.innerHTML = r.label + ":", r.html.value = r.value || ""
                    }
                }
            }, {
                key: "parseValue",
                value: function(e, t) {
                    return -1 !== ["integer", "long", "double"].indexOf(t) ? parseFloat(e) : e
                }
            }]) && a(n.prototype, o), s && a(n, s), t
        }()
    }).call(this, n(5))
}, function(e) {
    e.exports = JSON.parse('{"name":"Purple Utilities","uri":"http://camunda.org/schema/1.0/dmn","prefix":"camunda","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"Decision","isAbstract":true,"extends":["dmn:Decision"],"properties":[{"name":"versionTag","isAttr":true,"type":"String"},{"name":"historyTimeToLive","isAttr":true,"type":"String"}]},{"name":"InputClause","extends":["dmn:InputClause"],"properties":[{"name":"inputVariable","isAttr":true,"type":"String"}]}],"emumerations":[]}')
}, function(e, t, n) {
    "use strict";
    var r = n(18);

    function o(e) {
        if (!(this instanceof o)) return new o(e);
        e = e || [128, 36, 1], this._seed = e.length ? r.rack(e[0], e[1], e[2]) : e
    }
    e.exports = o, o.prototype.next = function(e) {
        return this._seed(e || !0)
    }, o.prototype.nextPrefixed = function(e, t) {
        var n;
        do {
            n = e + this.next(!0)
        } while (this.assigned(n));
        return this.claim(n, t), n
    }, o.prototype.claim = function(e, t) {
        this._seed.set(e, t || !0)
    }, o.prototype.assigned = function(e) {
        return this._seed.get(e) || !1
    }, o.prototype.unclaim = function(e) {
        delete this._seed.hats[e]
    }, o.prototype.clear = function() {
        var e, t = this._seed.hats;
        for (e in t) this.unclaim(e)
    }
}, function(e, t, n) {
    "use strict";
    /*!
     * escape-html
     * Copyright(c) 2012-2013 TJ Holowaychuk
     * Copyright(c) 2015 Andreas Lubbe
     * Copyright(c) 2015 Tiancheng "Timothy" Gu
     * MIT Licensed
     */
    var r = /["'&<>]/;
    e.exports = function(e) {
        var t, n = "" + e,
            o = r.exec(n);
        if (!o) return n;
        var i = "",
            a = 0,
            s = 0;
        for (a = o.index; a < n.length; a++) {
            switch (n.charCodeAt(a)) {
                case 34:
                    t = "&quot;";
                    break;
                case 38:
                    t = "&amp;";
                    break;
                case 39:
                    t = "&#39;";
                    break;
                case 60:
                    t = "&lt;";
                    break;
                case 62:
                    t = "&gt;";
                    break;
                default:
                    continue
            }
            s !== a && (i += n.substring(s, a)), s = a + 1, i += t
        }
        return s !== a ? i + n.substring(s, a) : i
    }
}, function(e, t, n) {
    "use strict";

    function r(e, t) {
        return {
            start: e,
            end: void 0 === t ? e : t
        }
    }
    e.exports = function(e, t, n) {
        var o = e.start,
            i = o,
            a = n.length - t.length,
            s = (n.length, t.length, t.substring(o));
        return n.lastIndexOf(s) === n.length - s.length && (t = t.substring(0, t.length - s.length), n = n.substring(0, n.length - s.length)), (a = function(e, t) {
            var n, r, o, i, a, s = 0,
                u = 0;
            t.length > e.length ? (r = t, i = e) : (r = e, i = t);
            for (; s < r.length;) o = r.charAt(s), a = i.charAt(u), o !== a ? (n || (n = {
                l_start: s,
                s_start: u
            }), s++) : (n && !n.complete && (n.l_end = s, n.s_end = u, n.complete = !0), u++, s++);
            n && !n.complete && (n.complete = !0, n.s_end = i.length, n.l_end = r.length);
            if (!n) return;
            return t.length > e.length ? {
                newStart: n.l_start,
                newEnd: n.l_end,
                type: "add"
            } : {
                newStart: n.s_start,
                newEnd: n.s_end,
                type: t.length < e.length ? "remove" : "replace"
            }
        }(t, n)) && (i = "remove" === a.type ? a.newStart : a.newEnd), r(i)
    }, e.exports.range = r
}, function(e, t) {
    e.exports = '<?xml version="1.0" encoding="UTF-8"?>\n<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/" xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/" xmlns:dc="http://www.omg.org/spec/DMN/20180521/DC/" xmlns:di="http://www.omg.org/spec/DMN/20180521/DI/" xmlns:camunda="http://camunda.org/schema/1.0/dmn" id="dinnerDecisions" name="Dinner Decisions" namespace="http://camunda.org/schema/1.0/dmn" exporter="Camunda Modeler" exporterVersion="4.0.0">\n  <decision id="beverages" name="Beverages">\n    <informationRequirement id="InformationRequirement_1xvojck">\n      <requiredInput href="#InputData_0pgvdj9" />\n    </informationRequirement>\n    <informationRequirement id="InformationRequirement_083jsex">\n      <requiredDecision href="#dish" />\n    </informationRequirement>\n    <decisionTable id="DecisionTable_07q05jb" hitPolicy="COLLECT">\n      <input id="InputClause_1acmlkd" label="Dish" camunda:inputVariable="">\n        <inputExpression id="LiteralExpression_0bqgrlg" typeRef="string">\n          <text>desiredDish</text>\n        </inputExpression>\n      </input>\n      <input id="InputClause_0bo3uen" label="Guests with children" camunda:inputVariable="">\n        <inputExpression id="LiteralExpression_0d6l79o" typeRef="boolean">\n          <text>guestsWithChildren</text>\n        </inputExpression>\n      </input>\n      <output id="OuputClause_99999" label="Beverages" name="beverages" typeRef="string" />\n      <rule id="row-506282952-7">\n        <description>Tough Stuff</description>\n        <inputEntry id="UnaryTests_03g3ci0">\n          <text>"Spareribs"</text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_0jb8hau">\n          <text>true</text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_1kr45vj">\n          <text>"Aecht Schlenkerla Rauchbier"</text>\n        </outputEntry>\n      </rule>\n      <rule id="row-506282952-8">\n        <inputEntry id="UnaryTests_1ckv0bb">\n          <text>"Stew"</text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_1joyits">\n          <text>true</text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_139n7gl">\n          <text>"Guiness"</text>\n        </outputEntry>\n      </rule>\n      <rule id="row-506282952-9">\n        <inputEntry id="UnaryTests_05rspiy">\n          <text>"Roastbeef"</text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_15yl6ki">\n          <text>true</text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_0bzfo47">\n          <text>"Bordeaux"</text>\n        </outputEntry>\n      </rule>\n      <rule id="row-506282952-10">\n        <inputEntry id="UnaryTests_0mk75lc">\n          <text>"Steak","Dry Aged Gourmet Steak","Light Salad and a nice Steak"</text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_18uxmko">\n          <text>true</text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_00nwn3e">\n          <text>"Pinot Noir"</text>\n        </outputEntry>\n      </rule>\n      <rule id="row-506282952-11">\n        <inputEntry id="UnaryTests_11o8pqj">\n          <text></text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_1298ow3">\n          <text>true</text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_0z18erz">\n          <text>"Apple Juice"</text>\n        </outputEntry>\n      </rule>\n      <rule id="row-506282952-12">\n        <inputEntry id="UnaryTests_0shocr0">\n          <text></text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_0nblyrk">\n          <text>false</text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_0s2fq8r">\n          <text>"Water"</text>\n        </outputEntry>\n      </rule>\n    </decisionTable>\n  </decision>\n  <decision id="dish" name="Dish">\n    <informationRequirement id="InformationRequirement_0xbr982">\n      <requiredInput href="#InputData_0rin549" />\n    </informationRequirement>\n    <informationRequirement id="InformationRequirement_0s36klr">\n      <requiredInput href="#InputData_1axnom3" />\n    </informationRequirement>\n    <authorityRequirement id="AuthorityRequirement_0h647jo">\n      <requiredAuthority href="#KnowledgeSource_0b8hnqo" />\n    </authorityRequirement>\n    <decisionTable id="DecisionTable_040j91i">\n      <input id="InputClause_0bbq1z8" label="Season" camunda:inputVariable="">\n        <inputExpression id="LiteralExpression_1iwaqcz" typeRef="string">\n          <text>season</text>\n        </inputExpression>\n      </input>\n      <input id="InputClause_0pcbpc9" label="How many guests" camunda:inputVariable="">\n        <inputExpression id="LiteralExpression_1uu3xe6" typeRef="integer">\n          <text>guestCount</text>\n        </inputExpression>\n      </input>\n      <output id="OutputClause_0lfar1z" label="Dish" name="desiredDish" typeRef="string" />\n      <rule id="row-884555325-1">\n        <description>Default value</description>\n        <inputEntry id="UnaryTests_0cy7usy">\n          <text>not("Fall", "Winter", "Spring", "Summer")</text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_0ww352f">\n          <text>&gt;= 0</text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_07xyqqp">\n          <text>"Instant Soup"</text>\n        </outputEntry>\n      </rule>\n      <rule id="row-506282952-1">\n        <inputEntry id="UnaryTests_06z2ju4">\n          <text>"Fall"</text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_0ph5qbt">\n          <text>&lt;= 8</text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_0sntjhd">\n          <text>"Spareribs"</text>\n        </outputEntry>\n      </rule>\n      <rule id="row-506282952-2">\n        <inputEntry id="UnaryTests_0o5o0mm">\n          <text>"Winter"</text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_0rtyr8x">\n          <text>&lt;= 8</text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_15nybba">\n          <text>"Roastbeef"</text>\n        </outputEntry>\n      </rule>\n      <rule id="row-506282952-3">\n        <inputEntry id="UnaryTests_1f00omt">\n          <text>"Spring"</text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_03yxt5d">\n          <text>&lt;= 4</text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_1ki86jo">\n          <text>"Dry Aged Gourmet Steak"</text>\n        </outputEntry>\n      </rule>\n      <rule id="row-506282952-4">\n        <description>Save money</description>\n        <inputEntry id="UnaryTests_18csep1">\n          <text>"Spring"</text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_1lt4o3q">\n          <text>[5..8]</text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_1h969t1">\n          <text>"Steak"</text>\n        </outputEntry>\n      </rule>\n      <rule id="row-506282952-5">\n        <description>Less effort</description>\n        <inputEntry id="UnaryTests_0cp9scy">\n          <text>"Fall","Winter","Spring"</text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_1to1xxg">\n          <text>&gt; 8</text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_0fjt4uo">\n          <text>"Stew"</text>\n        </outputEntry>\n      </rule>\n      <rule id="row-506282952-6">\n        <description>Hey, why not?</description>\n        <inputEntry id="UnaryTests_0s5azk4">\n          <text>"Summer"</text>\n        </inputEntry>\n        <inputEntry id="UnaryTests_1nuzyri">\n          <text></text>\n        </inputEntry>\n        <outputEntry id="LiteralExpression_0nspzk1">\n          <text>"Light Salad and a nice Steak"</text>\n        </outputEntry>\n      </rule>\n    </decisionTable>\n  </decision>\n  <inputData id="InputData_0rin549" name="Season" />\n  <inputData id="InputData_1axnom3" name="Number of Guests" />\n  <inputData id="InputData_0pgvdj9" name="Guests with children?" />\n  <knowledgeSource id="KnowledgeSource_0b8hnqo" name="Men&#39;s Cookbook" />\n  <dmndi:DMNDI>\n    <dmndi:DMNDiagram id="DMNDiagram_0i21c0s">\n      <dmndi:DMNShape id="DMNShape_0a1lk6d" dmnElementRef="beverages">\n        <dc:Bounds height="80" width="180" x="540" y="86" />\n      </dmndi:DMNShape>\n      <dmndi:DMNEdge id="DMNEdge_1czaglz" dmnElementRef="InformationRequirement_1xvojck">\n        <di:waypoint x="713" y="239" />\n        <di:waypoint x="660" y="186" />\n        <di:waypoint x="660" y="166" />\n      </dmndi:DMNEdge>\n      <dmndi:DMNEdge id="DMNEdge_03cgt9t" dmnElementRef="InformationRequirement_083jsex">\n        <di:waypoint x="473" y="240" />\n        <di:waypoint x="600" y="186" />\n        <di:waypoint x="600" y="166" />\n      </dmndi:DMNEdge>\n      <dmndi:DMNShape id="DMNShape_0rz3blq" dmnElementRef="dish">\n        <dc:Bounds height="80" width="180" x="383" y="240" />\n      </dmndi:DMNShape>\n      <dmndi:DMNEdge id="DMNEdge_0f7wakd" dmnElementRef="AuthorityRequirement_0h647jo">\n        <di:waypoint x="261" y="285" />\n        <di:waypoint x="383" y="278" />\n      </dmndi:DMNEdge>\n      <dmndi:DMNEdge id="DMNEdge_0c10itu" dmnElementRef="InformationRequirement_0xbr982">\n        <di:waypoint x="377" y="399" />\n        <di:waypoint x="437" y="320" />\n      </dmndi:DMNEdge>\n      <dmndi:DMNEdge id="DMNEdge_1uk8cqg" dmnElementRef="InformationRequirement_0s36klr">\n        <di:waypoint x="566" y="401" />\n        <di:waypoint x="508" y="320" />\n      </dmndi:DMNEdge>\n      <dmndi:DMNShape id="DMNShape_00sc46j" dmnElementRef="InputData_0rin549">\n        <dc:Bounds height="45" width="125" x="296" y="399" />\n      </dmndi:DMNShape>\n      <dmndi:DMNShape id="DMNShape_095ntfb" dmnElementRef="InputData_1axnom3">\n        <dc:Bounds height="45" width="125" x="519" y="401" />\n      </dmndi:DMNShape>\n      <dmndi:DMNShape id="DMNShape_0aea4xy" dmnElementRef="InputData_0pgvdj9">\n        <dc:Bounds height="45" width="125" x="650" y="239" />\n      </dmndi:DMNShape>\n      <dmndi:DMNShape id="DMNShape_0bugmbv" dmnElementRef="KnowledgeSource_0b8hnqo">\n        <dc:Bounds height="63" width="100" x="161" y="253" />\n      </dmndi:DMNShape>\n    </dmndi:DMNDiagram>\n  </dmndi:DMNDI>\n</definitions>\n'
}, function(e, t, n) {
    "use strict";

    function r(e) {
        return Array.prototype.concat.apply([], e)
    }
    n.d(t, "a", (function() {
        return ek
    }));
    var o = Object.prototype.toString,
        i = Object.prototype.hasOwnProperty;

    function a(e) {
        return void 0 === e
    }

    function s(e) {
        return void 0 !== e
    }

    function u(e) {
        return null == e
    }

    function c(e) {
        return "[object Array]" === o.call(e)
    }

    function l(e) {
        return "[object Object]" === o.call(e)
    }

    function p(e) {
        return "[object Number]" === o.call(e)
    }

    function f(e) {
        var t = o.call(e);
        return "[object Function]" === t || "[object AsyncFunction]" === t || "[object GeneratorFunction]" === t || "[object AsyncGeneratorFunction]" === t || "[object Proxy]" === t
    }

    function d(e) {
        return "[object String]" === o.call(e)
    }

    function h(e, t) {
        return i.call(e, t)
    }

    function y(e, t) {
        var n;
        return t = T(t), v(e, (function(e, r) {
            if (t(e, r)) return n = e, !1
        })), n
    }

    function m(e, t) {
        var n = [];
        return v(e, (function(e, r) {
            t(e, r) && n.push(e)
        })), n
    }

    function v(e, t) {
        var n;
        if (!a(e)) {
            var r = c(e) ? R : D;
            for (var o in e)
                if (h(e, o) && !1 === t(n = e[o], r(o))) return n
        }
    }

    function g(e, t, n) {
        return v(e, (function(e, r) {
            n = t(n, e, r)
        })), n
    }

    function b(e, t) {
        return !!g(e, (function(e, n, r) {
            return e && t(n, r)
        }), !0)
    }

    function _(e, t) {
        return !!y(e, t)
    }

    function w(e, t) {
        var n = [];
        return v(e, (function(e, r) {
            n.push(t(e, r))
        })), n
    }

    function x(e) {
        return e && Object.keys(e) || []
    }

    function E(e) {
        return x(e).length
    }

    function C(e) {
        return w(e, (function(e) {
            return e
        }))
    }

    function O(e, t) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
        return t = P(t), v(e, (function(e) {
            var r = t(e) || "_",
                o = n[r];
            o || (o = n[r] = []), o.push(e)
        })), n
    }

    function S(e) {
        e = P(e);
        for (var t = {}, n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++) r[o - 1] = arguments[o];
        v(r, (function(n) {
            return O(n, e, t)
        }));
        var i = w(t, (function(e, t) {
            return e[0]
        }));
        return i
    }

    function j(e, t) {
        t = P(t);
        var n = [];
        return v(e, (function(e, r) {
            for (var o = t(e, r), i = {
                    d: o,
                    v: e
                }, a = 0; a < n.length; a++) {
                if (o < n[a].d) return void n.splice(a, 0, i)
            }
            n.push(i)
        })), w(n, (function(e) {
            return e.v
        }))
    }

    function k(e) {
        return function(t) {
            return b(e, (function(e, n) {
                return t[n] === e
            }))
        }
    }

    function P(e) {
        return f(e) ? e : function(t) {
            return t[e]
        }
    }

    function T(e) {
        return f(e) ? e : function(t) {
            return t === e
        }
    }

    function D(e) {
        return e
    }

    function R(e) {
        return Number(e)
    }

    function M(e, t) {
        var n, r, o, i;

        function a() {
            var a = Date.now(),
                u = i + t - a;
            if (u > 0) return s(u);
            e.apply(o, r), n = i = r = o = void 0
        }

        function s(e) {
            n = setTimeout(a, e)
        }
        return function() {
            i = Date.now();
            for (var e = arguments.length, a = new Array(e), u = 0; u < e; u++) a[u] = arguments[u];
            r = a, o = this, n || s(t)
        }
    }

    function A(e, t) {
        return e.bind(t)
    }

    function N() {
        return (N = Object.assign || function(e) {
            for (var t = 1; t < arguments.length; t++) {
                var n = arguments[t];
                for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
            }
            return e
        }).apply(this, arguments)
    }

    function I(e) {
        for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
        return N.apply(void 0, [e].concat(n))
    }

    function L(e, t) {
        var n = {},
            r = Object(e);
        return v(t, (function(t) {
            t in r && (n[t] = e[t])
        })), n
    }

    function B(e, t) {
        var n = {};
        return v(Object(e), (function(e, r) {
            -1 === t.indexOf(r) && (n[r] = e)
        })), n
    }
    var $ = Array.prototype.slice;

    function V() {
        this._listeners = {}, this.on("diagram.destroy", 1, this._destroy, this)
    }

    function z() {}

    function F() {}

    function q(e, t) {
        this.model = e, this.properties = t
    }
    V.prototype.on = function(e, t, n, r) {
        if (e = c(e) ? e : [e], f(t) && (r = n, n = t, t = 1e3), !p(t)) throw new Error("priority must be a number");
        var o = n;
        r && ((o = A(n, r)).__fn = n.__fn || n);
        var i = this;
        e.forEach((function(e) {
            i._addListener(e, {
                priority: t,
                callback: o,
                next: null
            })
        }))
    }, V.prototype.once = function(e, t, n, r) {
        var o = this;
        if (f(t) && (r = n, n = t, t = 1e3), !p(t)) throw new Error("priority must be a number");

        function i() {
            var t = n.apply(r, arguments);
            return o.off(e, i), t
        }
        i.__fn = n, this.on(e, t, i)
    }, V.prototype.off = function(e, t) {
        e = c(e) ? e : [e];
        var n = this;
        e.forEach((function(e) {
            n._removeListener(e, t)
        }))
    }, V.prototype.createEvent = function(e) {
        var t = new z;
        return t.init(e), t
    }, V.prototype.fire = function(e, t) {
        var n, r, o, i;
        if (i = $.call(arguments), "object" == typeof e && (e = (t = e).type), !e) throw new Error("no event type specified");
        if (r = this._listeners[e]) {
            n = t instanceof z ? t : this.createEvent(t), i[0] = n;
            var a = n.type;
            e !== a && (n.type = e);
            try {
                o = this._invokeListeners(n, i, r)
            } finally {
                e !== a && (n.type = a)
            }
            return void 0 === o && n.defaultPrevented && (o = !1), o
        }
    }, V.prototype.handleError = function(e) {
        return !1 === this.fire("error", {
            error: e
        })
    }, V.prototype._destroy = function() {
        this._listeners = {}
    }, V.prototype._invokeListeners = function(e, t, n) {
        for (var r; n && !e.cancelBubble;) r = this._invokeListener(e, t, n), n = n.next;
        return r
    }, V.prototype._invokeListener = function(e, t, n) {
        var r;
        try {
            void 0 !== (r = function(e, t) {
                return e.apply(null, t)
            }(n.callback, t)) && (e.returnValue = r, e.stopPropagation()), !1 === r && e.preventDefault()
        } catch (e) {
            if (!this.handleError(e)) throw console.error("unhandled error in event listener"), console.error(e.stack), e
        }
        return r
    }, V.prototype._addListener = function(e, t) {
        var n, r = this._getListeners(e);
        if (r) {
            for (; r;) {
                if (r.priority < t.priority) return t.next = r, void(n ? n.next = t : this._setListeners(e, t));
                n = r, r = r.next
            }
            n.next = t
        } else this._setListeners(e, t)
    }, V.prototype._getListeners = function(e) {
        return this._listeners[e]
    }, V.prototype._setListeners = function(e, t) {
        this._listeners[e] = t
    }, V.prototype._removeListener = function(e, t) {
        var n, r, o, i = this._getListeners(e);
        if (t)
            for (; i;) n = i.next, (o = i.callback) !== t && o.__fn !== t || (r ? r.next = n : this._setListeners(e, n)), r = i, i = n;
        else this._setListeners(e, null)
    }, z.prototype.stopPropagation = function() {
        this.cancelBubble = !0
    }, z.prototype.preventDefault = function() {
        this.defaultPrevented = !0
    }, z.prototype.init = function(e) {
        I(this, e || {})
    }, F.prototype.get = function(e) {
        return this.$model.properties.get(this, e)
    }, F.prototype.set = function(e, t) {
        this.$model.properties.set(this, e, t)
    }, q.prototype.createType = function(e) {
        var t = this.model,
            n = this.properties,
            r = Object.create(F.prototype);
        v(e.properties, (function(e) {
            e.isMany || void 0 === e.default || (r[e.name] = e.default)
        })), n.defineModel(r, t), n.defineDescriptor(r, e);
        var o = e.ns.name;

        function i(e) {
            n.define(this, "$type", {
                value: o,
                enumerable: !0
            }), n.define(this, "$attrs", {
                value: {}
            }), n.define(this, "$parent", {
                writable: !0
            }), v(e, A((function(e, t) {
                this.set(t, e)
            }), this))
        }
        return i.prototype = r, i.hasType = r.$instanceOf = this.model.hasType, n.defineModel(i, t), n.defineDescriptor(i, e), i
    };
    var H = {
            String: !0,
            Boolean: !0,
            Integer: !0,
            Real: !0,
            Element: !0
        },
        U = {
            String: function(e) {
                return e
            },
            Boolean: function(e) {
                return "true" === e
            },
            Integer: function(e) {
                return parseInt(e, 10)
            },
            Real: function(e) {
                return parseFloat(e, 10)
            }
        };

    function W(e, t) {
        var n = U[e];
        return n ? n(t) : t
    }

    function G(e) {
        return !!H[e]
    }

    function K(e) {
        return !!U[e]
    }

    function X(e, t) {
        var n, r, o = e.split(/:/);
        if (1 === o.length) n = e, r = t;
        else {
            if (2 !== o.length) throw new Error("expected <prefix:localName> or <localName>, got " + e);
            n = o[1], r = o[0]
        }
        return {
            name: e = (r ? r + ":" : "") + n,
            prefix: r,
            localName: n
        }
    }

    function Y(e) {
        this.ns = e, this.name = e.name, this.allTypes = [], this.allTypesByName = {}, this.properties = [], this.propertiesByName = {}
    }

    function J(e, t) {
        this.packageMap = {}, this.typeMap = {}, this.packages = [], this.properties = t, v(e, A(this.registerPackage, this))
    }

    function Z(e, t, n) {
        var r = t[n];
        if (r in e) throw new Error("package with " + n + " <" + r + "> already defined")
    }

    function Q(e) {
        this.model = e
    }

    function ee(e, t, n) {
        Object.defineProperty(e, t.name, {
            enumerable: !t.isReference,
            writable: !0,
            value: n,
            configurable: !0
        })
    }

    function te(e) {
        this.properties = new Q(this), this.factory = new q(this, this.properties), this.registry = new J(e, this.properties), this.typeCache = {}
    }
    Y.prototype.build = function() {
        return L(this, ["ns", "name", "allTypes", "allTypesByName", "properties", "propertiesByName", "bodyProperty", "idProperty"])
    }, Y.prototype.addProperty = function(e, t, n) {
        "boolean" == typeof t && (n = t, t = void 0), this.addNamedProperty(e, !1 !== n);
        var r = this.properties;
        void 0 !== t ? r.splice(t, 0, e) : r.push(e)
    }, Y.prototype.replaceProperty = function(e, t, n) {
        var r = e.ns,
            o = this.properties,
            i = this.propertiesByName,
            a = e.name !== t.name;
        if (e.isId) {
            if (!t.isId) throw new Error("property <" + t.ns.name + "> must be id property to refine <" + e.ns.name + ">");
            this.setIdProperty(t, !1)
        }
        if (e.isBody) {
            if (!t.isBody) throw new Error("property <" + t.ns.name + "> must be body property to refine <" + e.ns.name + ">");
            this.setBodyProperty(t, !1)
        }
        var s = o.indexOf(e);
        if (-1 === s) throw new Error("property <" + r.name + "> not found in property list");
        o.splice(s, 1), this.addProperty(t, n ? void 0 : s, a), i[r.name] = i[r.localName] = t
    }, Y.prototype.redefineProperty = function(e, t, n) {
        var r = e.ns.prefix,
            o = t.split("#"),
            i = X(o[0], r),
            a = X(o[1], i.prefix).name,
            s = this.propertiesByName[a];
        if (!s) throw new Error("refined property <" + a + "> not found");
        this.replaceProperty(s, e, n), delete e.redefines
    }, Y.prototype.addNamedProperty = function(e, t) {
        var n = e.ns,
            r = this.propertiesByName;
        t && (this.assertNotDefined(e, n.name), this.assertNotDefined(e, n.localName)), r[n.name] = r[n.localName] = e
    }, Y.prototype.removeNamedProperty = function(e) {
        var t = e.ns,
            n = this.propertiesByName;
        delete n[t.name], delete n[t.localName]
    }, Y.prototype.setBodyProperty = function(e, t) {
        if (t && this.bodyProperty) throw new Error("body property defined multiple times (<" + this.bodyProperty.ns.name + ">, <" + e.ns.name + ">)");
        this.bodyProperty = e
    }, Y.prototype.setIdProperty = function(e, t) {
        if (t && this.idProperty) throw new Error("id property defined multiple times (<" + this.idProperty.ns.name + ">, <" + e.ns.name + ">)");
        this.idProperty = e
    }, Y.prototype.assertNotDefined = function(e, t) {
        var n = e.name,
            r = this.propertiesByName[n];
        if (r) throw new Error("property <" + n + "> already defined; override of <" + r.definedBy.ns.name + "#" + r.ns.name + "> by <" + e.definedBy.ns.name + "#" + e.ns.name + "> not allowed without redefines")
    }, Y.prototype.hasProperty = function(e) {
        return this.propertiesByName[e]
    }, Y.prototype.addTrait = function(e, t) {
        var n = this.allTypesByName,
            r = this.allTypes,
            o = e.name;
        o in n || (v(e.properties, A((function(n) {
            n = I({}, n, {
                name: n.ns.localName,
                inherited: t
            }), Object.defineProperty(n, "definedBy", {
                value: e
            });
            var r = n.replaces,
                o = n.redefines;
            r || o ? this.redefineProperty(n, r || o, r) : (n.isBody && this.setBodyProperty(n), n.isId && this.setIdProperty(n), this.addProperty(n))
        }), this)), r.push(e), n[o] = e)
    }, J.prototype.getPackage = function(e) {
        return this.packageMap[e]
    }, J.prototype.getPackages = function() {
        return this.packages
    }, J.prototype.registerPackage = function(e) {
        e = I({}, e);
        var t = this.packageMap;
        Z(t, e, "prefix"), Z(t, e, "uri"), v(e.types, A((function(t) {
            this.registerType(t, e)
        }), this)), t[e.uri] = t[e.prefix] = e, this.packages.push(e)
    }, J.prototype.registerType = function(e, t) {
        var n = X((e = I({}, e, {
                superClass: (e.superClass || []).slice(),
                extends: (e.extends || []).slice(),
                properties: (e.properties || []).slice(),
                meta: I(e.meta || {})
            })).name, t.prefix),
            r = n.name,
            o = {};
        v(e.properties, A((function(e) {
            var t = X(e.name, n.prefix),
                r = t.name;
            G(e.type) || (e.type = X(e.type, t.prefix).name), I(e, {
                ns: t,
                name: r
            }), o[r] = e
        }), this)), I(e, {
            ns: n,
            name: r,
            propertiesByName: o
        }), v(e.extends, A((function(e) {
            var t = this.typeMap[e];
            t.traits = t.traits || [], t.traits.push(r)
        }), this)), this.definePackage(e, t), this.typeMap[r] = e
    }, J.prototype.mapTypes = function(e, t, n) {
        var r = G(e.name) ? {
                name: e.name
            } : this.typeMap[e.name],
            o = this;

        function i(e) {
            return a(e, !0)
        }

        function a(n, r) {
            var i = X(n, G(n) ? "" : e.prefix);
            o.mapTypes(i, t, r)
        }
        if (!r) throw new Error("unknown type <" + e.name + ">");
        v(r.superClass, n ? i : a), t(r, !n), v(r.traits, i)
    }, J.prototype.getEffectiveDescriptor = function(e) {
        var t = X(e),
            n = new Y(t);
        this.mapTypes(t, (function(e, t) {
            n.addTrait(e, t)
        }));
        var r = n.build();
        return this.definePackage(r, r.allTypes[r.allTypes.length - 1].$pkg), r
    }, J.prototype.definePackage = function(e, t) {
        this.properties.define(e, "$pkg", {
            value: t
        })
    }, Q.prototype.set = function(e, t, n) {
        var r = this.model.getPropertyDescriptor(e, t),
            o = r && r.name;
        void 0 === n ? r ? delete e[o] : delete e.$attrs[t] : r ? o in e ? e[o] = n : ee(e, r, n) : e.$attrs[t] = n
    }, Q.prototype.get = function(e, t) {
        var n = this.model.getPropertyDescriptor(e, t);
        if (!n) return e.$attrs[t];
        var r = n.name;
        return !e[r] && n.isMany && ee(e, n, []), e[r]
    }, Q.prototype.define = function(e, t, n) {
        Object.defineProperty(e, t, n)
    }, Q.prototype.defineDescriptor = function(e, t) {
        this.define(e, "$descriptor", {
            value: t
        })
    }, Q.prototype.defineModel = function(e, t) {
        this.define(e, "$model", {
            value: t
        })
    }, te.prototype.create = function(e, t) {
        var n = this.getType(e);
        if (!n) throw new Error("unknown type <" + e + ">");
        return new n(t)
    }, te.prototype.getType = function(e) {
        var t = this.typeCache,
            n = d(e) ? e : e.ns.name,
            r = t[n];
        return r || (e = this.registry.getEffectiveDescriptor(n), r = t[n] = this.factory.createType(e)), r
    }, te.prototype.createAny = function(e, t, n) {
        var r = X(e),
            o = {
                $type: e,
                $instanceOf: function(e) {
                    return e === this.$type
                }
            },
            i = {
                name: e,
                isGeneric: !0,
                ns: {
                    prefix: r.prefix,
                    localName: r.localName,
                    uri: t
                }
            };
        return this.properties.defineDescriptor(o, i), this.properties.defineModel(o, this), this.properties.define(o, "$parent", {
            enumerable: !1,
            writable: !0
        }), v(n, (function(e, t) {
            l(e) && void 0 !== e.value ? o[e.name] = e.value : o[t] = e
        })), o
    }, te.prototype.getPackage = function(e) {
        return this.registry.getPackage(e)
    }, te.prototype.getPackages = function() {
        return this.registry.getPackages()
    }, te.prototype.getElementDescriptor = function(e) {
        return e.$descriptor
    }, te.prototype.hasType = function(e, t) {
        return void 0 === t && (t = e, e = this), t in e.$model.getElementDescriptor(e).allTypesByName
    }, te.prototype.getPropertyDescriptor = function(e, t) {
        return this.getElementDescriptor(e).propertiesByName[t]
    }, te.prototype.getTypeDescriptor = function(e) {
        return this.registry.typeMap[e]
    };
    var ne = String.fromCharCode,
        re = Object.prototype.hasOwnProperty,
        oe = /&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,
        ie = {
            amp: "&",
            apos: "'",
            gt: ">",
            lt: "<",
            quot: '"'
        };

    function ae(e, t, n, r) {
        return r ? re.call(ie, r) ? ie[r] : "&" + r + ";" : ne(t || parseInt(n, 16))
    }

    function se(e) {
        return e.length > 3 && -1 !== e.indexOf("&") ? e.replace(oe, ae) : e
    }
    Object.keys(ie).forEach((function(e) {
        ie[e.toUpperCase()] = ie[e]
    }));

    function ue(e) {
        return new Error(e)
    }

    function ce(e) {
        return "missing namespace for prefix <" + e + ">"
    }

    function le(e) {
        return {
            get: e,
            enumerable: !0
        }
    }

    function pe(e) {
        var t, n = {};
        for (t in e) n[t] = e[t];
        return n
    }

    function fe(e) {
        return e + "$uri"
    }

    function de() {
        return {
            line: 0,
            column: 0
        }
    }

    function he(e) {
        throw e
    }

    function ye(e) {
        if (!this) return new ye(e);
        var t, n, r, o, i, a, s, u, c, l = e && e.proxy,
            p = he,
            f = de,
            d = !1,
            h = !1,
            y = null,
            m = !1;

        function v(e) {
            e instanceof Error || (e = ue(e)), y = e, p(e, f)
        }

        function g(e) {
            i && (e instanceof Error || (e = ue(e)), i(e, f))
        }
        this.on = function(e, c) {
            if ("function" != typeof c) throw ue("required args <name, cb>");
            switch (e) {
                case "openTag":
                    n = c;
                    break;
                case "text":
                    t = c;
                    break;
                case "closeTag":
                    r = c;
                    break;
                case "error":
                    p = c;
                    break;
                case "warn":
                    i = c;
                    break;
                case "cdata":
                    o = c;
                    break;
                case "attention":
                    u = c;
                    break;
                case "question":
                    s = c;
                    break;
                case "comment":
                    a = c;
                    break;
                default:
                    throw ue("unsupported event: " + e)
            }
            return this
        }, this.ns = function(e) {
            if (void 0 === e && (e = {}), "object" != typeof e) throw ue("required args <nsMap={}>");
            var t, n = {};
            for (t in e) n[t] = e[t];
            return n["http://www.w3.org/2001/XMLSchema-instance"] = "xsi", h = !0, c = n, this
        }, this.parse = function(e) {
            if ("string" != typeof e) throw ue("required args <xml=string>");
            return y = null,
                function(e) {
                    var i, p, y, b, _, w, x, E, C, O, S, j = h ? [] : null,
                        k = h ? function(e) {
                            var t, n, r = {};
                            for (t in e) r[n = e[t]] = n, r[fe(n)] = t;
                            return r
                        }(c) : null,
                        P = [],
                        T = 0,
                        D = !1,
                        R = !1,
                        M = 0,
                        A = 0,
                        N = "",
                        I = 0;

                    function L() {
                        if (null !== S) return S;
                        var e, t, n, r, o, i, a, s, u, l, p, f = h && k.xmlns,
                            y = h && d ? [] : null,
                            m = I,
                            v = N,
                            b = v.length,
                            _ = {},
                            w = {};
                        e: for (; m < b; m++)
                            if (u = !1, !(32 === (l = v.charCodeAt(m)) || l < 14 && l > 8)) {
                                for ((l < 65 || l > 122 || l > 90 && l < 97) && 95 !== l && 58 !== l && (g("illegal first char attribute name"), u = !0), p = m + 1; p < b; p++)
                                    if (!((l = v.charCodeAt(p)) > 96 && l < 123 || l > 64 && l < 91 || l > 47 && l < 59 || 46 === l || 45 === l || 95 === l)) {
                                        if (32 === l || l < 14 && l > 8) {
                                            g("missing attribute value"), m = p;
                                            continue e
                                        }
                                        if (61 === l) break;
                                        g("illegal attribute name char"), u = !0
                                    }
                                if ("xmlns:xmlns" === (s = v.substring(m, p)) && (g("illegal declaration of xmlns"), u = !0), 34 === (l = v.charCodeAt(p + 1))) - 1 === (p = v.indexOf('"', m = p + 2)) && -1 !== (p = v.indexOf("'", m)) && (g("attribute value quote missmatch"), u = !0);
                                else if (39 === l) - 1 === (p = v.indexOf("'", m = p + 2)) && -1 !== (p = v.indexOf('"', m)) && (g("attribute value quote missmatch"), u = !0);
                                else
                                    for (g("missing attribute value quotes"), u = !0, p += 1; p < b && !(32 === (l = v.charCodeAt(p + 1)) || l < 14 && l > 8); p++);
                                for (-1 === p && (g("missing closing quotes"), p = b, u = !0), u || (i = v.substring(m, p)), m = p; p + 1 < b && !(32 === (l = v.charCodeAt(p + 1)) || l < 14 && l > 8); p++) m === p && (g("illegal character after attribute end"), u = !0);
                                if (m = p + 1, !u)
                                    if (s in w) g("attribute <" + s + "> already defined");
                                    else if (w[s] = !0, h)
                                    if (d) {
                                        if (null !== (o = "xmlns" === s ? "xmlns" : 120 === s.charCodeAt(0) && "xmlns:" === s.substr(0, 6) ? s.substr(6) : null)) {
                                            if (e = se(i), t = fe(o), !(a = c[e])) {
                                                if ("xmlns" === o || t in k && k[t] !== e)
                                                    do {
                                                        a = "ns" + T++
                                                    } while (void 0 !== k[a]);
                                                else a = o;
                                                c[e] = a
                                            }
                                            k[o] !== a && (r || (k = pe(k), r = !0), k[o] = a, "xmlns" === o && (k[fe(a)] = e, f = a), k[t] = e), _[s] = i;
                                            continue
                                        }
                                        y.push(s, i)
                                    } else -1 !== (l = s.indexOf(":")) ? (n = k[s.substring(0, l)]) ? ("xsi:type" === (s = f === n ? s.substr(l + 1) : n + s.substr(l)) && (-1 !== (l = i.indexOf(":")) ? (n = i.substring(0, l), i = (n = k[n] || n) + i.substring(l)) : i = f + ":" + i), _[s] = i) : g(ce(s.substring(0, l))) : _[s] = i;
                                else _[s] = i
                            }
                        if (d)
                            for (m = 0, b = y.length; m < b; m++) {
                                if (s = y[m++], i = y[m], -1 !== (l = s.indexOf(":"))) {
                                    if (!(n = k[s.substring(0, l)])) {
                                        g(ce(s.substring(0, l)));
                                        continue
                                    }
                                    "xsi:type" === (s = f === n ? s.substr(l + 1) : n + s.substr(l)) && (-1 !== (l = i.indexOf(":")) ? (n = i.substring(0, l), i = (n = k[n] || n) + i.substring(l)) : i = f + ":" + i)
                                }
                                _[s] = i
                            }
                        return S = _
                    }

                    function B() {
                        for (var t, n, r = /(\r\n|\r|\n)/g, o = 0, i = 0, a = 0, s = A; M >= a && (t = r.exec(e)) && !((s = t[0].length + t.index) > M);) o += 1, a = s;
                        return -1 == M ? (i = s, n = e.substring(A)) : 0 === A ? n = e.substring(A, M) : (i = M - a, n = -1 == A ? e.substring(M) : e.substring(M, A + 1)), {
                            data: n,
                            line: o,
                            column: i
                        }
                    }
                    f = B, l && (O = Object.create({}, {
                        name: le((function() {
                            return E
                        })),
                        originalName: le((function() {
                            return C
                        })),
                        attrs: le(L),
                        ns: le((function() {
                            return k
                        }))
                    }));
                    for (; - 1 !== A;) {
                        if (-1 === (M = 60 === e.charCodeAt(A) ? A : e.indexOf("<", A))) return P.length ? v("unexpected end of file") : 0 === A ? v("missing start tag") : void(A < e.length && e.substring(A).trim() && g("non-whitespace outside of root node"));
                        if (A !== M)
                            if (P.length) {
                                if (t && (t(e.substring(A, M), se, f), m)) return
                            } else if (e.substring(A, M).trim() && (g("non-whitespace outside of root node"), m)) return;
                        if (33 === (_ = e.charCodeAt(M + 1))) {
                            if (91 === (b = e.charCodeAt(M + 2)) && "CDATA[" === e.substr(M + 3, 6)) {
                                if (-1 === (A = e.indexOf("]]>", M))) return v("unclosed cdata");
                                if (o && (o(e.substring(M + 9, A), f), m)) return;
                                A += 3;
                                continue
                            }
                            if (45 === b && 45 === e.charCodeAt(M + 3)) {
                                if (-1 === (A = e.indexOf("--\x3e", M))) return v("unclosed comment");
                                if (a && (a(e.substring(M + 4, A), se, f), m)) return;
                                A += 3;
                                continue
                            }
                        }
                        if (63 !== _) {
                            for (p = M + 1;; p++) {
                                if (w = e.charCodeAt(p), isNaN(w)) return A = -1, v("unclosed tag");
                                if (34 === w) b = e.indexOf('"', p + 1), p = -1 !== b ? b : p;
                                else if (39 === w) b = e.indexOf("'", p + 1), p = -1 !== b ? b : p;
                                else if (62 === w) {
                                    A = p;
                                    break
                                }
                            }
                            if (33 !== _) {
                                if (S = {}, 47 === _) {
                                    if (D = !1, R = !0, !P.length) return v("missing open tag");
                                    if (p = E = P.pop(), b = M + 2 + p.length, e.substring(M + 2, b) !== p) return v("closing tag mismatch");
                                    for (; b < A; b++)
                                        if (!(32 === (_ = e.charCodeAt(b)) || _ > 8 && _ < 14)) return v("close tag")
                                } else {
                                    if (47 === e.charCodeAt(A - 1) ? (p = E = e.substring(M + 1, A - 1), D = !0, R = !0) : (p = E = e.substring(M + 1, A), D = !0, R = !1), !(_ > 96 && _ < 123 || _ > 64 && _ < 91 || 95 === _ || 58 === _)) return v("illegal first char nodeName");
                                    for (b = 1, y = p.length; b < y; b++)
                                        if (!((_ = p.charCodeAt(b)) > 96 && _ < 123 || _ > 64 && _ < 91 || _ > 47 && _ < 59 || 45 === _ || 95 === _ || 46 == _)) {
                                            if (32 === _ || _ < 14 && _ > 8) {
                                                E = p.substring(0, b), S = null;
                                                break
                                            }
                                            return v("invalid nodeName")
                                        }
                                    R || P.push(E)
                                }
                                if (h) {
                                    if (i = k, D && (R || j.push(i), null === S && (d = -1 !== p.indexOf("xmlns", b)) && (I = b, N = p, L(), d = !1)), C = E, -1 !== (_ = E.indexOf(":"))) {
                                        if (!(x = k[E.substring(0, _)])) return v("missing namespace on <" + C + ">");
                                        E = E.substr(_ + 1)
                                    } else x = k.xmlns;
                                    x && (E = x + ":" + E)
                                }
                                if (D && (I = b, N = p, n && (l ? n(O, se, R, f) : n(E, L, se, R, f), m))) return;
                                if (R) {
                                    if (r && (r(l ? O : E, se, D, f), m)) return;
                                    h && (k = D ? i : j.pop())
                                }
                                A += 1
                            } else {
                                if (u && (u(e.substring(M, A + 1), se, f), m)) return;
                                A += 1
                            }
                        } else {
                            if (-1 === (A = e.indexOf("?>", M))) return v("unclosed question");
                            if (s && (s(e.substring(M, A + 2), f), m)) return;
                            A += 2
                        }
                    }
                }(e), f = de, m = !1, y
        }, this.stop = function() {
            m = !0
        }
    }

    function me(e) {
        return e.xml && "lowerCase" === e.xml.tagAlias
    }
    var ve = {
        xsi: "http://www.w3.org/2001/XMLSchema-instance",
        xml: "http://www.w3.org/XML/1998/namespace"
    };

    function ge(e) {
        return e.xml && e.xml.serialize
    }

    function be(e) {
        return "xsi:type" === ge(e)
    }

    function _e(e, t) {
        return me(t) ? e.prefix + ":" + ((n = e.localName).charAt(0).toUpperCase() + n.slice(1)) : e.name;
        var n
    }

    function we(e) {
        return new Error(e)
    }

    function xe(e) {
        return e.$descriptor
    }

    function Ee(e) {
        I(this, e), this.elementsById = {}, this.references = [], this.warnings = [], this.addReference = function(e) {
            this.references.push(e)
        }, this.addElement = function(e) {
            if (!e) throw we("expected element");
            var t, n = this.elementsById,
                r = xe(e).idProperty;
            if (r && (t = e.get(r.name))) {
                if (!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t)) throw new Error("illegal ID <" + t + ">");
                if (n[t]) throw we("duplicate ID <" + t + ">");
                n[t] = e
            }
        }, this.addWarning = function(e) {
            this.warnings.push(e)
        }
    }

    function Ce() {}

    function Oe() {}

    function Se() {}

    function je(e, t) {
        this.property = e, this.context = t
    }

    function ke(e, t) {
        this.element = t, this.propertyDesc = e
    }

    function Pe() {}

    function Te(e, t, n) {
        this.model = e, this.type = e.getType(t), this.context = n
    }

    function De(e, t, n) {
        Te.call(this, e, t, n)
    }

    function Re(e, t, n) {
        this.model = e, this.context = n
    }

    function Me(e) {
        e instanceof te && (e = {
            model: e
        }), I(this, {
            lax: !1
        }, e)
    }
    Ce.prototype.handleEnd = function() {}, Ce.prototype.handleText = function() {}, Ce.prototype.handleNode = function() {}, Oe.prototype = Object.create(Ce.prototype), Oe.prototype.handleNode = function() {
        return this
    }, Se.prototype = Object.create(Ce.prototype), Se.prototype.handleText = function(e) {
        this.body = (this.body || "") + e
    }, je.prototype = Object.create(Se.prototype), je.prototype.handleNode = function(e) {
        if (this.element) throw we("expected no sub nodes");
        return this.element = this.createReference(e), this
    }, je.prototype.handleEnd = function() {
        this.element.id = this.body
    }, je.prototype.createReference = function(e) {
        return {
            property: this.property.ns.name,
            id: ""
        }
    }, ke.prototype = Object.create(Se.prototype), ke.prototype.handleEnd = function() {
        var e = this.body || "",
            t = this.element,
            n = this.propertyDesc;
        e = W(n.type, e), n.isMany ? t.get(n.name).push(e) : t.set(n.name, e)
    }, Pe.prototype = Object.create(Se.prototype), Pe.prototype.handleNode = function(e) {
        var t = this,
            n = this.element;
        return n ? t = this.handleChild(e) : (n = this.element = this.createElement(e), this.context.addElement(n)), t
    }, Te.prototype = Object.create(Pe.prototype), Te.prototype.addReference = function(e) {
        this.context.addReference(e)
    }, Te.prototype.handleText = function(e) {
        if (!xe(this.element).bodyProperty) throw we("unexpected body text <" + e + ">");
        Se.prototype.handleText.call(this, e)
    }, Te.prototype.handleEnd = function() {
        var e = this.body,
            t = this.element,
            n = xe(t).bodyProperty;
        n && void 0 !== e && (e = W(n.type, e), t.set(n.name, e))
    }, Te.prototype.createElement = function(e) {
        var t, n = e.attributes,
            r = this.type,
            o = xe(r),
            i = this.context,
            a = new r({}),
            s = this.model;
        return v(n, (function(e, n) {
            var r = o.propertiesByName[n];
            r && r.isReference ? r.isMany ? v(e.split(" "), (function(e) {
                i.addReference({
                    element: a,
                    property: r.ns.name,
                    id: e
                })
            })) : i.addReference({
                element: a,
                property: r.ns.name,
                id: e
            }) : (r ? e = W(r.type, e) : "xmlns" !== n && (t = X(n, o.ns.prefix), s.getPackage(t.prefix) && i.addWarning({
                message: "unknown attribute <" + n + ">",
                element: a,
                property: n,
                value: e
            })), a.set(n, e))
        })), a
    }, Te.prototype.getPropertyForNode = function(e) {
        var t, n, r = X(e.name),
            o = this.type,
            i = this.model,
            a = xe(o),
            s = r.name,
            u = a.propertiesByName[s];
        if (u && !u.isAttr) return be(u) && (t = e.attributes["xsi:type"]) ? (t = function(e, t) {
            var n = X(e);
            return function(e, t) {
                var n = e.name,
                    r = e.localName,
                    o = t.xml && t.xml.typePrefix;
                return o && 0 === r.indexOf(o) ? e.prefix + ":" + r.slice(o.length) : n
            }(n, t.getPackage(n.prefix))
        }(t, i), I({}, u, {
            effectiveType: xe(n = i.getType(t)).name
        })) : u;
        var c = i.getPackage(r.prefix);
        if (c) {
            if (t = _e(r, c), n = i.getType(t), u = y(a.properties, (function(e) {
                    return !e.isVirtual && !e.isReference && !e.isAttribute && n.hasType(e.type)
                }))) return I({}, u, {
                effectiveType: xe(n).name
            })
        } else if (u = y(a.properties, (function(e) {
                return !e.isReference && !e.isAttribute && "Element" === e.type
            }))) return u;
        throw we("unrecognized element <" + r.name + ">")
    }, Te.prototype.toString = function() {
        return "ElementDescriptor[" + xe(this.type).name + "]"
    }, Te.prototype.valueHandler = function(e, t) {
        return new ke(e, t)
    }, Te.prototype.referenceHandler = function(e) {
        return new je(e, this.context)
    }, Te.prototype.handler = function(e) {
        return "Element" === e ? new Re(this.model, e, this.context) : new Te(this.model, e, this.context)
    }, Te.prototype.handleChild = function(e) {
        var t, n, r, o;
        if (t = this.getPropertyForNode(e), r = this.element, K(n = t.effectiveType || t.type)) return this.valueHandler(t, r);
        var i = (o = t.isReference ? this.referenceHandler(t).handleNode(e) : this.handler(n).handleNode(e)).element;
        return void 0 !== i && (t.isMany ? r.get(t.name).push(i) : r.set(t.name, i), t.isReference ? (I(i, {
            element: r
        }), this.context.addReference(i)) : i.$parent = r), o
    }, De.prototype = Object.create(Te.prototype), De.prototype.createElement = function(e) {
        var t = e.name,
            n = X(t),
            r = this.model,
            o = this.type,
            i = r.getPackage(n.prefix),
            a = i && _e(n, i) || t;
        if (!o.hasType(a)) throw we("unexpected element <" + e.originalName + ">");
        return Te.prototype.createElement.call(this, e)
    }, Re.prototype = Object.create(Pe.prototype), Re.prototype.createElement = function(e) {
        var t = e.name,
            n = X(t).prefix,
            r = e.ns[n + "$uri"],
            o = e.attributes;
        return this.model.createAny(t, r, o)
    }, Re.prototype.handleChild = function(e) {
        var t = new Re(this.model, "Element", this.context).handleNode(e),
            n = this.element,
            r = t.element;
        return void 0 !== r && ((n.$children = n.$children || []).push(r), r.$parent = n), t
    }, Re.prototype.handleEnd = function() {
        this.body && (this.element.$body = this.body)
    }, Me.prototype.fromXML = function(e, t, n) {
        var r = t.rootHandler;
        t instanceof Te ? (r = t, t = {}) : "string" == typeof t ? (r = this.handler(t), t = {}) : "string" == typeof r && (r = this.handler(r));
        var o = this.model,
            i = this.lax,
            a = new Ee(I({}, t, {
                rootHandler: r
            })),
            s = new ye({
                proxy: !0
            }),
            u = function() {
                var e = [];
                return Object.defineProperty(e, "peek", {
                    value: function() {
                        return this[this.length - 1]
                    }
                }), e
            }();

        function c(e, t, n) {
            var r = t(),
                o = r.line,
                i = r.column,
                s = r.data;
            "<" === s.charAt(0) && -1 !== s.indexOf(" ") && (s = s.slice(0, s.indexOf(" ")) + ">");
            var u = "unparsable content " + (s ? s + " " : "") + "detected\n\tline: " + o + "\n\tcolumn: " + i + "\n\tnested error: " + e.message;
            if (n) return a.addWarning({
                message: u,
                error: e
            }), !0;
            throw we(u)
        }

        function l(e, t) {
            return c(e, t, !0)
        }
        r.context = a, u.push(r);
        var p = /^<\?xml /i,
            f = / encoding="([^"]+)"/i,
            d = /^utf-8$/i;

        function h(e, t) {
            try {
                u.peek().handleText(e)
            } catch (e) {
                l(e, t)
            }
        }
        var y = o.getPackages().reduce((function(e, t) {
            return e[t.uri] = t.prefix, e
        }), {
            "http://www.w3.org/XML/1998/namespace": "xml"
        });
        s.ns(y).on("openTag", (function(e, t, n, r) {
            var o = e.attrs || {},
                a = Object.keys(o).reduce((function(e, n) {
                    var r = t(o[n]);
                    return e[n] = r, e
                }), {});
            ! function(e, t) {
                var n = u.peek();
                try {
                    u.push(n.handleNode(e))
                } catch (e) {
                    c(e, t, i) && u.push(new Oe)
                }
            }({
                name: e.name,
                originalName: e.originalName,
                attributes: a,
                ns: e.ns
            }, r)
        })).on("question", (function(e) {
            if (p.test(e)) {
                var t = f.exec(e),
                    n = t && t[1];
                n && !d.test(n) && a.addWarning({
                    message: "unsupported document encoding <" + n + ">, falling back to UTF-8"
                })
            }
        })).on("closeTag", (function() {
            u.pop().handleEnd()
        })).on("cdata", h).on("text", (function(e, t, n) {
            ! function(e, t) {
                (e = e.trim()) && h(e, t)
            }(t(e), n)
        })).on("error", c).on("warn", l), setTimeout((function() {
            var t;
            try {
                s.parse(e),
                    function() {
                        var e, t, n = a.elementsById,
                            r = a.references;
                        for (e = 0; t = r[e]; e++) {
                            var o = t.element,
                                i = n[t.id],
                                s = xe(o).propertiesByName[t.property];
                            if (i || a.addWarning({
                                    message: "unresolved reference <" + t.id + ">",
                                    element: t.element,
                                    property: t.property,
                                    value: t.id
                                }), s.isMany) {
                                var u = o.get(s.name),
                                    c = u.indexOf(t); - 1 === c && (c = u.length), i ? u[c] = i : u.splice(c, 1)
                            } else o.set(s.name, i)
                        }
                    }()
            } catch (e) {
                t = e
            }
            var o = r.element;
            t || o || (t = we("failed to parse document as <" + r.type.$descriptor.name + ">")), n(t, t ? void 0 : o, a)
        }), 0)
    }, Me.prototype.handler = function(e) {
        return new De(this.model, e)
    };
    var Ae = /<|>|'|"|&|\n\r|\n/g,
        Ne = /<|>|&/g;

    function Ie(e) {
        var t = {},
            n = {},
            r = {},
            o = [],
            i = [];
        this.byUri = function(t) {
            return n[t] || e && e.byUri(t)
        }, this.add = function(e, t) {
            n[e.uri] = e, t ? o.push(e) : i.push(e), this.mapPrefix(e.prefix, e.uri)
        }, this.uriByPrefix = function(e) {
            return t[e || "xmlns"]
        }, this.mapPrefix = function(e, n) {
            t[e || "xmlns"] = n
        }, this.getNSKey = function(e) {
            return void 0 !== e.prefix ? e.uri + "|" + e.prefix : e.uri
        }, this.logUsed = function(t) {
            var n = t.uri,
                o = this.getNSKey(t);
            r[o] = this.byUri(n), e && e.logUsed(t)
        }, this.getUsed = function(e) {
            var t = this;
            return [].concat(o, i).filter((function(e) {
                var n = t.getNSKey(e);
                return r[n]
            }))
        }
    }

    function Le(e, t) {
        e.super_ = t, e.prototype = Object.create(t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        })
    }

    function Be(e) {
        return d(e) ? e : (e.prefix ? e.prefix + ":" : "") + e.localName
    }
    var $e = {
            "\n": "#10",
            "\n\r": "#10",
            '"': "#34",
            "'": "#39",
            "<": "#60",
            ">": "#62",
            "&": "#38"
        },
        Ve = {
            "<": "lt",
            ">": "gt",
            "&": "amp"
        };

    function ze(e, t, n) {
        return (e = d(e) ? e : "" + e).replace(t, (function(e) {
            return "&" + n[e] + ";"
        }))
    }

    function Fe(e) {
        this.tagName = e
    }

    function qe() {}

    function He(e) {
        this.tagName = e
    }

    function Ue(e, t) {
        this.body = [], this.attrs = [], this.parent = e, this.propertyDescriptor = t
    }

    function We(e, t) {
        Ue.call(this, e, t)
    }

    function Ge() {
        this.value = "", this.write = function(e) {
            this.value += e
        }
    }

    function Ke(e, t) {
        var n = [""];
        this.append = function(t) {
            return e.write(t), this
        }, this.appendNewLine = function() {
            return t && e.write("\n"), this
        }, this.appendIndent = function() {
            return t && e.write(n.join("  ")), this
        }, this.indent = function() {
            return n.push(""), this
        }, this.unindent = function() {
            return n.pop(), this
        }
    }

    function Xe(e) {
        return e = I({
            format: !1,
            preamble: !0
        }, e || {}), {
            toXML: function(t, n) {
                var r = n || new Ge,
                    o = new Ke(r, e.format);
                if (e.preamble && o.append('<?xml version="1.0" encoding="UTF-8"?>\n'), (new Ue).build(t).serializeTo(o), !n) return r.value
            }
        }
    }

    function Ye(e, t) {
        te.call(this, e, t)
    }
    Fe.prototype.build = function(e) {
        return this.element = e, this
    }, Fe.prototype.serializeTo = function(e) {
        e.appendIndent().append("<" + this.tagName + ">" + this.element.id + "</" + this.tagName + ">").appendNewLine()
    }, qe.prototype.serializeValue = qe.prototype.serializeTo = function(e) {
        e.append(this.escape ? ze(this.value, Ne, Ve) : this.value)
    }, qe.prototype.build = function(e, t) {
        return this.value = t, "String" === e.type && -1 !== t.search(Ne) && (this.escape = !0), this
    }, Le(He, qe), He.prototype.serializeTo = function(e) {
        e.appendIndent().append("<" + this.tagName + ">"), this.serializeValue(e), e.append("</" + this.tagName + ">").appendNewLine()
    }, Ue.prototype.build = function(e) {
        this.element = e;
        var t, n, r = e.$descriptor,
            o = this.propertyDescriptor,
            i = r.isGeneric;
        return t = i ? this.parseGeneric(e) : this.parseNsAttributes(e), this.ns = o ? this.nsPropertyTagName(o) : this.nsTagName(r), this.tagName = this.addTagName(this.ns), i || (n = function(e) {
            return m(e.$descriptor.properties, (function(t) {
                var n = t.name;
                if (t.isVirtual) return !1;
                if (!e.hasOwnProperty(n)) return !1;
                var r = e[n];
                return r !== t.default && (null !== r && (!t.isMany || r.length))
            }))
        }(e), this.parseAttributes(m(n, (function(e) {
            return e.isAttr
        }))), this.parseContainments(function(e) {
            return m(e, (function(e) {
                return !e.isAttr
            }))
        }(n))), this.parseGenericAttributes(e, t), this
    }, Ue.prototype.nsTagName = function(e) {
        return function(e, t) {
            return t.isGeneric ? I({
                localName: t.ns.localName
            }, e) : I({
                localName: (n = t.ns.localName, r = t.$pkg, me(r) ? (o = n).charAt(0).toLowerCase() + o.slice(1) : n)
            }, e);
            var n, r, o
        }(this.logNamespaceUsed(e.ns), e)
    }, Ue.prototype.nsPropertyTagName = function(e) {
        return function(e, t) {
            return I({
                localName: t.ns.localName
            }, e)
        }(this.logNamespaceUsed(e.ns), e)
    }, Ue.prototype.isLocalNs = function(e) {
        return e.uri === this.ns.uri
    }, Ue.prototype.nsAttributeName = function(e) {
        var t;
        if (t = d(e) ? X(e) : e.ns, e.inherited) return {
            localName: t.localName
        };
        var n = this.logNamespaceUsed(t);
        return this.getNamespaces().logUsed(n), this.isLocalNs(n) ? {
            localName: t.localName
        } : I({
            localName: t.localName
        }, n)
    }, Ue.prototype.parseGeneric = function(e) {
        var t = this,
            n = this.body,
            r = [];
        return v(e, (function(o, i) {
            "$body" === i ? n.push((new qe).build({
                type: "String"
            }, o)) : "$children" === i ? v(o, (function(e) {
                n.push(new Ue(t).build(e))
            })) : 0 !== i.indexOf("$") && t.parseNsAttribute(e, i, o) && r.push({
                name: i,
                value: o
            })
        })), r
    }, Ue.prototype.parseNsAttribute = function(e, t, n) {
        var r, o = e.$model,
            i = X(t);
        if ("xmlns" === i.prefix && (r = {
                prefix: i.localName,
                uri: n
            }), i.prefix || "xmlns" !== i.localName || (r = {
                uri: n
            }), !r) return {
            name: t,
            value: n
        };
        if (o && o.getPackage(n)) this.logNamespace(r, !0, !0);
        else {
            var a = this.logNamespaceUsed(r, !0);
            this.getNamespaces().logUsed(a)
        }
    }, Ue.prototype.parseNsAttributes = function(e, t) {
        var n = this,
            r = e.$attrs,
            o = [];
        return v(r, (function(t, r) {
            var i = n.parseNsAttribute(e, r, t);
            i && o.push(i)
        })), o
    }, Ue.prototype.parseGenericAttributes = function(e, t) {
        var n = this;
        v(t, (function(t) {
            if ("xsi:type" !== t.name) try {
                n.addAttribute(n.nsAttributeName(t.name), t.value)
            } catch (n) {
                console.warn("missing namespace information for ", t.name, "=", t.value, "on", e, n)
            }
        }))
    }, Ue.prototype.parseContainments = function(e) {
        var t = this,
            n = this.body,
            r = this.element;
        v(e, (function(e) {
            var o = r.get(e.name),
                i = e.isReference;
            if (e.isMany || (o = [o]), e.isBody) n.push((new qe).build(e, o[0]));
            else if (K(e.type)) v(o, (function(r) {
                n.push(new He(t.addTagName(t.nsPropertyTagName(e))).build(e, r))
            }));
            else if (i) v(o, (function(r) {
                n.push(new Fe(t.addTagName(t.nsPropertyTagName(e))).build(r))
            }));
            else {
                var a = be(e),
                    s = function(e) {
                        return "property" === ge(e)
                    }(e);
                v(o, (function(r) {
                    var o;
                    o = a ? new We(t, e) : s ? new Ue(t, e) : new Ue(t), n.push(o.build(r))
                }))
            }
        }))
    }, Ue.prototype.getNamespaces = function(e) {
        var t, n = this.namespaces,
            r = this.parent;
        return n || (t = r && r.getNamespaces(), e || !t ? this.namespaces = n = new Ie(t) : n = t), n
    }, Ue.prototype.logNamespace = function(e, t, n) {
        var r = this.getNamespaces(n),
            o = e.uri,
            i = e.prefix,
            a = r.byUri(o);
        return "xml" === i || a && !n || r.add(e, t), r.mapPrefix(i, o), e
    }, Ue.prototype.logNamespaceUsed = function(e, t) {
        var n, r, o, i = this.element.$model,
            a = this.getNamespaces(t),
            s = e.prefix,
            u = e.uri;
        if (!s && !u) return {
            localName: e.localName
        };
        if (o = ve[s] || i && (i.getPackage(s) || {}).uri, !(u = u || o || a.uriByPrefix(s))) throw new Error("no namespace uri given for prefix <" + s + ">");
        if (!(e = a.byUri(u))) {
            for (n = s, r = 1; a.uriByPrefix(n);) n = s + "_" + r++;
            e = this.logNamespace({
                prefix: n,
                uri: u
            }, o === u)
        }
        return s && a.mapPrefix(s, u), e
    }, Ue.prototype.parseAttributes = function(e) {
        var t = this,
            n = this.element;
        v(e, (function(e) {
            var r = n.get(e.name);
            if (e.isReference)
                if (e.isMany) {
                    var o = [];
                    v(r, (function(e) {
                        o.push(e.id)
                    })), r = o.join(" ")
                } else r = r.id;
            t.addAttribute(t.nsAttributeName(e), r)
        }))
    }, Ue.prototype.addTagName = function(e) {
        var t = this.logNamespaceUsed(e);
        return this.getNamespaces().logUsed(t), Be(e)
    }, Ue.prototype.addAttribute = function(e, t) {
        var n = this.attrs;
        d(t) && (t = ze(t, Ae, $e)), n.push({
            name: e,
            value: t
        })
    }, Ue.prototype.serializeAttributes = function(e) {
        var t = this.attrs,
            n = this.namespaces;
        n && (t = function(e) {
            return w(e.getUsed(), (function(e) {
                return {
                    name: "xmlns" + (e.prefix ? ":" + e.prefix : ""),
                    value: e.uri
                }
            }))
        }(n).concat(t)), v(t, (function(t) {
            e.append(" ").append(Be(t.name)).append('="').append(t.value).append('"')
        }))
    }, Ue.prototype.serializeTo = function(e) {
        var t = this.body[0],
            n = t && t.constructor !== qe;
        e.appendIndent().append("<" + this.tagName), this.serializeAttributes(e), e.append(t ? ">" : " />"), t && (n && e.appendNewLine().indent(), v(this.body, (function(t) {
            t.serializeTo(e)
        })), n && e.unindent().appendIndent(), e.append("</" + this.tagName + ">")), e.appendNewLine()
    }, Le(We, Ue), We.prototype.parseNsAttributes = function(e) {
        var t = Ue.prototype.parseNsAttributes.call(this, e),
            n = e.$descriptor;
        if (n.name === this.propertyDescriptor.type) return t;
        var r = this.typeNs = this.nsTagName(n);
        this.getNamespaces().logUsed(this.typeNs);
        var o = e.$model.getPackage(r.uri),
            i = o.xml && o.xml.typePrefix || "";
        return this.addAttribute(this.nsAttributeName("xsi:type"), (r.prefix ? r.prefix + ":" : "") + i + n.ns.localName), t
    }, We.prototype.isLocalNs = function(e) {
        return e.uri === (this.typeNs || this.ns).uri
    }, Ye.prototype = Object.create(te.prototype), Ye.prototype.fromXML = function(e, t, n, r) {
        d(t) || (r = n, n = t, t = "dmn:Definitions"), f(n) && (r = n, n = {});
        var o = new Me(I({
                model: this,
                lax: !0
            }, n)),
            i = o.handler(t);
        o.fromXML(e, i, r)
    }, Ye.prototype.toXML = function(e, t, n) {
        f(t) && (n = t, t = {});
        var r, o, i = new Xe(t);
        try {
            r = i.toXML(e)
        } catch (e) {
            o = e
        }
        return n(o, r)
    };
    var Je = {
        dc: {
            name: "DC",
            prefix: "dc",
            uri: "http://www.omg.org/spec/DMN/20180521/DC/",
            types: [{
                name: "Dimension",
                properties: [{
                    name: "width",
                    isAttr: !0,
                    type: "Real"
                }, {
                    name: "height",
                    isAttr: !0,
                    type: "Real"
                }]
            }, {
                name: "Bounds",
                properties: [{
                    name: "height",
                    isAttr: !0,
                    type: "Real"
                }, {
                    name: "width",
                    isAttr: !0,
                    type: "Real"
                }, {
                    name: "x",
                    isAttr: !0,
                    type: "Real"
                }, {
                    name: "y",
                    isAttr: !0,
                    type: "Real"
                }]
            }, {
                name: "Point",
                properties: [{
                    name: "x",
                    isAttr: !0,
                    type: "Real"
                }, {
                    name: "y",
                    isAttr: !0,
                    type: "Real"
                }]
            }, {
                name: "Color",
                properties: [{
                    name: "red",
                    type: "UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"
                }, {
                    name: "green",
                    type: "UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"
                }, {
                    name: "blue",
                    type: "UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"
                }]
            }],
            associations: [],
            enumerations: [{
                name: "AlignmentKind",
                literalValues: [{
                    name: "start"
                }, {
                    name: "center"
                }, {
                    name: "end"
                }]
            }]
        },
        di: {
            name: "DI",
            prefix: "di",
            uri: "http://www.omg.org/spec/DMN/20180521/DI/",
            types: [{
                name: "DiagramElement",
                isAbstract: !0,
                properties: [{
                    name: "id",
                    isAttr: !0,
                    isId: !0,
                    type: "String"
                }, {
                    name: "style",
                    isReference: !0,
                    type: "Style",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "sharedStyle",
                    isReference: !0,
                    isVirtual: !0,
                    type: "Style"
                }]
            }, {
                name: "Diagram",
                superClass: ["DiagramElement"],
                properties: [{
                    name: "name",
                    isAttr: !0,
                    type: "String"
                }, {
                    name: "documentation",
                    isAttr: !0,
                    type: "String"
                }, {
                    name: "resolution",
                    isAttr: !0,
                    type: "Real"
                }]
            }, {
                name: "Shape",
                isAbstract: !0,
                properties: [{
                    name: "bounds",
                    type: "dc:Bounds"
                }],
                superClass: ["DiagramElement"]
            }, {
                name: "Edge",
                isAbstract: !0,
                properties: [{
                    name: "waypoint",
                    type: "dc:Point",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }],
                superClass: ["DiagramElement"]
            }, {
                name: "Style",
                isAbstract: !0,
                properties: [{
                    name: "id",
                    isAttr: !0,
                    isId: !0,
                    type: "String"
                }]
            }],
            associations: [],
            enumerations: [],
            xml: {
                tagAlias: "lowerCase"
            }
        },
        dmn: {
            name: "DMN",
            prefix: "dmn",
            uri: "https://www.omg.org/spec/DMN/20191111/MODEL/",
            types: [{
                name: "AuthorityRequirement",
                superClass: ["DMNElement"],
                properties: [{
                    name: "requiredAuthority",
                    type: "DMNElementReference",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "requiredDecision",
                    type: "DMNElementReference",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "requiredInput",
                    type: "DMNElementReference",
                    xml: {
                        serialize: "property"
                    }
                }]
            }, {
                name: "ItemDefinition",
                superClass: ["NamedElement"],
                properties: [{
                    name: "typeRef",
                    type: "String"
                }, {
                    name: "allowedValues",
                    type: "UnaryTests",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "typeLanguage",
                    type: "String",
                    isAttr: !0
                }, {
                    name: "itemComponent",
                    type: "ItemDefinition",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "functionItem",
                    type: "FunctionItem"
                }, {
                    name: "isCollection",
                    isAttr: !0,
                    type: "Boolean"
                }]
            }, {
                name: "Definitions",
                superClass: ["NamedElement"],
                properties: [{
                    name: "import",
                    type: "Import",
                    isMany: !0
                }, {
                    name: "itemDefinition",
                    type: "ItemDefinition",
                    isMany: !0
                }, {
                    name: "drgElement",
                    type: "DRGElement",
                    isMany: !0
                }, {
                    name: "artifact",
                    type: "Artifact",
                    isMany: !0
                }, {
                    name: "elementCollection",
                    type: "ElementCollection",
                    isMany: !0
                }, {
                    name: "businessContextElement",
                    type: "BusinessContextElement",
                    isMany: !0
                }, {
                    name: "namespace",
                    type: "String",
                    isAttr: !0
                }, {
                    name: "expressionLanguage",
                    type: "String",
                    isAttr: !0
                }, {
                    name: "typeLanguage",
                    type: "String",
                    isAttr: !0
                }, {
                    name: "exporter",
                    isAttr: !0,
                    type: "String"
                }, {
                    name: "exporterVersion",
                    isAttr: !0,
                    type: "String"
                }, {
                    name: "dmnDI",
                    type: "dmndi:DMNDI"
                }]
            }, {
                name: "KnowledgeSource",
                superClass: ["DRGElement"],
                properties: [{
                    name: "authorityRequirement",
                    type: "AuthorityRequirement",
                    isMany: !0
                }, {
                    name: "type",
                    type: "String"
                }, {
                    name: "owner",
                    type: "DMNElementReference",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "locationURI",
                    type: "String",
                    isAttr: !0
                }]
            }, {
                name: "DecisionRule",
                superClass: ["DMNElement"],
                properties: [{
                    name: "inputEntry",
                    type: "UnaryTests",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "outputEntry",
                    type: "LiteralExpression",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "annotationEntry",
                    type: "RuleAnnotation",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }]
            }, {
                name: "Expression",
                isAbstract: !0,
                superClass: ["DMNElement"],
                properties: [{
                    name: "typeRef",
                    isAttr: !0,
                    type: "String"
                }]
            }, {
                name: "InformationItem",
                superClass: ["NamedElement"],
                properties: [{
                    name: "typeRef",
                    isAttr: !0,
                    type: "String"
                }]
            }, {
                name: "Decision",
                superClass: ["DRGElement"],
                properties: [{
                    name: "question",
                    type: "String",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "allowedAnswers",
                    type: "String",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "variable",
                    type: "InformationItem",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "informationRequirement",
                    type: "InformationRequirement",
                    isMany: !0
                }, {
                    name: "knowledgeRequirement",
                    type: "KnowledgeRequirement",
                    isMany: !0
                }, {
                    name: "authorityRequirement",
                    type: "AuthorityRequirement",
                    isMany: !0
                }, {
                    name: "supportedObjective",
                    isMany: !0,
                    type: "DMNElementReference",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "impactedPerformanceIndicator",
                    type: "DMNElementReference",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "decisionMaker",
                    type: "DMNElementReference",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "decisionOwner",
                    type: "DMNElementReference",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "usingProcess",
                    isMany: !0,
                    type: "DMNElementReference",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "usingTask",
                    isMany: !0,
                    type: "DMNElementReference",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "decisionLogic",
                    type: "Expression"
                }]
            }, {
                name: "Invocation",
                superClass: ["Expression"],
                properties: [{
                    name: "calledFunction",
                    type: "Expression"
                }, {
                    name: "binding",
                    type: "Binding",
                    isMany: !0
                }]
            }, {
                name: "OrganisationalUnit",
                superClass: ["BusinessContextElement"],
                properties: [{
                    name: "decisionMade",
                    type: "Decision",
                    isReference: !0,
                    isMany: !0
                }, {
                    name: "decisionOwned",
                    type: "Decision",
                    isReference: !0,
                    isMany: !0
                }]
            }, {
                name: "Import",
                superClass: ["NamedElement"],
                properties: [{
                    name: "importType",
                    type: "String",
                    isAttr: !0
                }, {
                    name: "locationURI",
                    type: "String",
                    isAttr: !0
                }, {
                    name: "namespace",
                    type: "String",
                    isAttr: !0
                }]
            }, {
                name: "InformationRequirement",
                superClass: ["DMNElement"],
                properties: [{
                    name: "requiredDecision",
                    type: "DMNElementReference",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "requiredInput",
                    type: "DMNElementReference",
                    xml: {
                        serialize: "property"
                    }
                }]
            }, {
                name: "ElementCollection",
                superClass: ["NamedElement"],
                properties: [{
                    name: "drgElement",
                    type: "DMNElementReference",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }]
            }, {
                name: "DRGElement",
                isAbstract: !0,
                superClass: ["NamedElement"],
                properties: []
            }, {
                name: "InputData",
                superClass: ["DRGElement"],
                properties: [{
                    name: "variable",
                    type: "InformationItem",
                    xml: {
                        serialize: "property"
                    }
                }]
            }, {
                name: "DMNElement",
                isAbstract: !0,
                properties: [{
                    name: "description",
                    type: "String"
                }, {
                    name: "extensionElements",
                    type: "ExtensionElements"
                }, {
                    name: "id",
                    type: "String",
                    isAttr: !0,
                    isId: !0
                }, {
                    name: "extensionAttribute",
                    type: "ExtensionAttribute",
                    isMany: !0
                }, {
                    name: "label",
                    isAttr: !0,
                    type: "String"
                }]
            }, {
                name: "InputClause",
                superClass: ["DMNElement"],
                properties: [{
                    name: "inputExpression",
                    type: "LiteralExpression",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "inputValues",
                    type: "UnaryTests",
                    xml: {
                        serialize: "property"
                    }
                }]
            }, {
                name: "DecisionTable",
                superClass: ["Expression"],
                properties: [{
                    name: "input",
                    type: "InputClause",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "output",
                    type: "OutputClause",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "annotation",
                    type: "RuleAnnotationClause",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "rule",
                    type: "DecisionRule",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "hitPolicy",
                    type: "HitPolicy",
                    isAttr: !0,
                    default: "UNIQUE"
                }, {
                    name: "aggregation",
                    type: "BuiltinAggregator",
                    isAttr: !0
                }, {
                    name: "preferredOrientation",
                    type: "DecisionTableOrientation",
                    isAttr: !0
                }, {
                    name: "outputLabel",
                    isAttr: !0,
                    type: "String"
                }]
            }, {
                name: "LiteralExpression",
                superClass: ["Expression"],
                properties: [{
                    name: "expressionLanguage",
                    type: "String",
                    isAttr: !0
                }, {
                    name: "text",
                    type: "String"
                }, {
                    name: "importedValues",
                    type: "ImportedValues"
                }]
            }, {
                name: "Binding",
                properties: [{
                    name: "parameter",
                    type: "InformationItem",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "bindingFormula",
                    type: "Expression"
                }]
            }, {
                name: "KnowledgeRequirement",
                superClass: ["DMNElement"],
                properties: [{
                    name: "requiredKnowledge",
                    type: "DMNElementReference",
                    xml: {
                        serialize: "property"
                    }
                }]
            }, {
                name: "BusinessKnowledgeModel",
                superClass: ["Invocable"],
                properties: [{
                    name: "encapsulatedLogic",
                    type: "FunctionDefinition",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "knowledgeRequirement",
                    type: "KnowledgeRequirement",
                    isMany: !0
                }, {
                    name: "authorityRequirement",
                    type: "AuthorityRequirement",
                    isMany: !0
                }]
            }, {
                name: "BusinessContextElement",
                isAbstract: !0,
                superClass: ["NamedElement"],
                properties: [{
                    name: "URI",
                    type: "String",
                    isAttr: !0
                }]
            }, {
                name: "PerformanceIndicator",
                superClass: ["BusinessContextElement"],
                properties: [{
                    name: "impactingDecision",
                    type: "DMNElementReference",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }]
            }, {
                name: "FunctionDefinition",
                superClass: ["Expression"],
                properties: [{
                    name: "formalParameter",
                    type: "InformationItem",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "body",
                    type: "Expression"
                }, {
                    name: "kind",
                    type: "FunctionKind",
                    isAttr: !0
                }]
            }, {
                name: "Context",
                superClass: ["Expression"],
                properties: [{
                    name: "contextEntry",
                    type: "ContextEntry",
                    isMany: !0
                }]
            }, {
                name: "ContextEntry",
                superClass: ["DMNElement"],
                properties: [{
                    name: "variable",
                    type: "InformationItem",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "value",
                    type: "Expression"
                }]
            }, {
                name: "List",
                superClass: ["Expression"],
                properties: [{
                    name: "elements",
                    isMany: !0,
                    type: "Expression"
                }]
            }, {
                name: "Relation",
                superClass: ["Expression"],
                properties: [{
                    name: "column",
                    type: "InformationItem",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "row",
                    type: "List",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }]
            }, {
                name: "OutputClause",
                superClass: ["DMNElement"],
                properties: [{
                    name: "outputValues",
                    type: "UnaryTests",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "defaultOutputEntry",
                    type: "LiteralExpression",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "name",
                    isAttr: !0,
                    type: "String"
                }, {
                    name: "typeRef",
                    isAttr: !0,
                    type: "String"
                }]
            }, {
                name: "UnaryTests",
                superClass: ["Expression"],
                properties: [{
                    name: "text",
                    type: "String"
                }, {
                    name: "expressionLanguage",
                    type: "String",
                    isAttr: !0
                }]
            }, {
                name: "NamedElement",
                isAbstract: !0,
                superClass: ["DMNElement"],
                properties: [{
                    name: "name",
                    isAttr: !0,
                    type: "String"
                }]
            }, {
                name: "ImportedValues",
                superClass: ["Import"],
                properties: [{
                    name: "importedElement",
                    type: "String"
                }, {
                    name: "expressionLanguage",
                    type: "String",
                    isAttr: !0
                }]
            }, {
                name: "DecisionService",
                superClass: ["Invocable"],
                properties: [{
                    name: "outputDecision",
                    type: "DMNElementReference",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "encapsulatedDecision",
                    type: "DMNElementReference",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "inputDecision",
                    type: "DMNElementReference",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "inputData",
                    type: "DMNElementReference",
                    isMany: !0,
                    xml: {
                        serialize: "property"
                    }
                }]
            }, {
                name: "ExtensionElements",
                properties: [{
                    name: "values",
                    type: "Element",
                    isMany: !0
                }]
            }, {
                name: "ExtensionAttribute",
                properties: [{
                    name: "value",
                    type: "Element"
                }, {
                    name: "valueRef",
                    type: "Element",
                    isAttr: !0,
                    isReference: !0
                }, {
                    name: "name",
                    isAttr: !0,
                    type: "String"
                }]
            }, {
                name: "Element",
                isAbstract: !0,
                properties: [{
                    name: "extensionAttribute",
                    type: "ExtensionAttribute",
                    isAttr: !0,
                    isReference: !0
                }, {
                    name: "elements",
                    type: "ExtensionElements",
                    isAttr: !0,
                    isReference: !0
                }]
            }, {
                name: "Artifact",
                isAbstract: !0,
                superClass: ["DMNElement"],
                properties: []
            }, {
                name: "Association",
                superClass: ["Artifact"],
                properties: [{
                    name: "sourceRef",
                    type: "DMNElementReference",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "targetRef",
                    type: "DMNElementReference",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "associationDirection",
                    type: "AssociationDirection",
                    isAttr: !0
                }]
            }, {
                name: "TextAnnotation",
                superClass: ["Artifact"],
                properties: [{
                    name: "text",
                    type: "String"
                }, {
                    name: "textFormat",
                    isAttr: !0,
                    type: "String",
                    default: "text/plain"
                }]
            }, {
                name: "RuleAnnotationClause",
                properties: [{
                    name: "name",
                    isAttr: !0,
                    type: "String"
                }]
            }, {
                name: "RuleAnnotation",
                properties: [{
                    name: "text",
                    type: "String"
                }]
            }, {
                name: "Invocable",
                isAbstract: !0,
                superClass: ["DRGElement"],
                properties: [{
                    name: "variable",
                    type: "InformationItem",
                    xml: {
                        serialize: "property"
                    }
                }]
            }, {
                name: "Group",
                superClass: ["Artifact"],
                properties: [{
                    name: "name",
                    isAttr: !0,
                    type: "String"
                }]
            }, {
                name: "FunctionItem",
                superClass: ["DMNElement"],
                properties: [{
                    name: "parameters",
                    isMany: !0,
                    type: "InformationItem",
                    xml: {
                        serialize: "property"
                    }
                }, {
                    name: "outputTypeRef",
                    isAttr: !0,
                    type: "String"
                }]
            }, {
                name: "DMNElementReference",
                properties: [{
                    isAttr: !0,
                    name: "href",
                    type: "String"
                }]
            }],
            enumerations: [{
                name: "HitPolicy",
                literalValues: [{
                    name: "UNIQUE"
                }, {
                    name: "FIRST"
                }, {
                    name: "PRIORITY"
                }, {
                    name: "ANY"
                }, {
                    name: "COLLECT"
                }, {
                    name: "RULE ORDER"
                }, {
                    name: "OUTPUT ORDER"
                }]
            }, {
                name: "BuiltinAggregator",
                literalValues: [{
                    name: "SUM"
                }, {
                    name: "COUNT"
                }, {
                    name: "MIN"
                }, {
                    name: "MAX"
                }]
            }, {
                name: "DecisionTableOrientation",
                literalValues: [{
                    name: "Rule-as-Row"
                }, {
                    name: "Rule-as-Column"
                }, {
                    name: "CrossTable"
                }]
            }, {
                name: "AssociationDirection",
                literalValues: [{
                    name: "None"
                }, {
                    name: "One"
                }, {
                    name: "Both"
                }]
            }, {
                name: "FunctionKind",
                literalValues: [{
                    name: "FEEL"
                }, {
                    name: "Java"
                }, {
                    name: "PMML"
                }]
            }],
            associations: [],
            xml: {
                tagAlias: "lowerCase"
            }
        },
        dmndi: {
            name: "DMNDI",
            prefix: "dmndi",
            uri: "https://www.omg.org/spec/DMN/20191111/DMNDI/",
            types: [{
                name: "DMNDI",
                properties: [{
                    name: "diagrams",
                    type: "DMNDiagram",
                    isMany: !0
                }, {
                    name: "styles",
                    type: "DMNStyle",
                    isMany: !0
                }]
            }, {
                name: "DMNStyle",
                superClass: ["di:Style"],
                properties: [{
                    name: "fillColor",
                    type: "dc:Color",
                    isAttr: !0
                }, {
                    name: "strokeColor",
                    type: "dc:Color",
                    isAttr: !0
                }, {
                    name: "fontColor",
                    type: "dc:Color",
                    isAttr: !0
                }, {
                    name: "fontSize",
                    isAttr: !0,
                    type: "Real"
                }, {
                    name: "fontFamily",
                    isAttr: !0,
                    type: "String"
                }, {
                    name: "fontItalic",
                    isAttr: !0,
                    type: "Boolean"
                }, {
                    name: "fontBold",
                    isAttr: !0,
                    type: "Boolean"
                }, {
                    name: "fontUnderline",
                    isAttr: !0,
                    type: "Boolean"
                }, {
                    name: "fontStrikeThrough",
                    isAttr: !0,
                    type: "Boolean"
                }, {
                    name: "labelHorizontalAlignment",
                    type: "dc:AlignmentKind",
                    isAttr: !0
                }, {
                    name: "labelVerticalAlignment",
                    type: "dc:AlignmentKind",
                    isAttr: !0
                }]
            }, {
                name: "DMNDiagram",
                superClass: ["di:Diagram"],
                properties: [{
                    name: "dmnElementRef",
                    type: "dmn:DMNElement",
                    isAttr: !0,
                    isReference: !0
                }, {
                    name: "size",
                    type: "Size"
                }, {
                    name: "localStyle",
                    type: "DMNStyle",
                    isVirtual: !0
                }, {
                    name: "sharedStyle",
                    type: "DMNStyle",
                    isVirtual: !0,
                    isReference: !0,
                    redefines: "di:DiagramElement#sharedStyle"
                }, {
                    name: "diagramElements",
                    type: "DMNDiagramElement",
                    isMany: !0
                }]
            }, {
                name: "DMNDiagramElement",
                isAbstract: !0,
                superClass: ["di:DiagramElement"],
                properties: [{
                    name: "dmnElementRef",
                    type: "dmn:DMNElement",
                    isAttr: !0,
                    isReference: !0
                }, {
                    name: "sharedStyle",
                    type: "DMNStyle",
                    isVirtual: !0,
                    isReference: !0,
                    redefines: "di:DiagramElement#sharedStyle"
                }, {
                    name: "localStyle",
                    type: "DMNStyle",
                    isVirtual: !0
                }, {
                    name: "label",
                    type: "DMNLabel"
                }]
            }, {
                name: "DMNLabel",
                superClass: ["di:Shape"],
                properties: [{
                    name: "text",
                    type: "Text"
                }]
            }, {
                name: "DMNShape",
                superClass: ["di:Shape", "DMNDiagramElement"],
                properties: [{
                    name: "isListedInputData",
                    isAttr: !0,
                    type: "Boolean"
                }, {
                    name: "decisionServiceDividerLine",
                    type: "DMNDecisionServiceDividerLine"
                }, {
                    name: "isCollapsed",
                    isAttr: !0,
                    type: "Boolean"
                }]
            }, {
                name: "DMNEdge",
                superClass: ["di:Edge", "DMNDiagramElement"],
                properties: [{
                    name: "sourceElement",
                    type: "DMNDiagramElement",
                    isAttr: !0,
                    isReference: !0
                }, {
                    name: "targetElement",
                    type: "DMNDiagramElement",
                    isAttr: !0,
                    isReference: !0
                }]
            }, {
                name: "DMNDecisionServiceDividerLine",
                superClass: ["di:Edge"]
            }, {
                name: "Text",
                properties: [{
                    name: "text",
                    isBody: !0,
                    type: "String"
                }]
            }, {
                name: "Size",
                superClass: ["dc:Dimension"]
            }],
            associations: [],
            enumerations: []
        },
        biodi: {
            name: "bpmn.io DI for DMN",
            uri: "http://bpmn.io/schema/dmn/biodi/2.0",
            prefix: "biodi",
            xml: {
                tagAlias: "lowerCase"
            },
            types: [{
                name: "DecisionTable",
                isAbstract: !0,
                extends: ["dmn:DecisionTable"],
                properties: [{
                    name: "annotationsWidth",
                    isAttr: !0,
                    type: "Integer"
                }]
            }, {
                name: "OutputClause",
                isAbstract: !0,
                extends: ["dmn:OutputClause"],
                properties: [{
                    name: "width",
                    isAttr: !0,
                    type: "Integer"
                }]
            }, {
                name: "InputClause",
                isAbstract: !0,
                extends: ["dmn:InputClause"],
                properties: [{
                    name: "width",
                    isAttr: !0,
                    type: "Integer"
                }]
            }]
        }
    };
    var Ze = function(e, t) {
            return new Ye(I({}, Je, e), t)
        },
        Qe = n(9);

    function et(e, t, n) {
        return 2 == arguments.length ? e.getAttribute(t) : null === n ? e.removeAttribute(t) : (e.setAttribute(t, n), e)
    }
    var tt = [].indexOf,
        nt = function(e, t) {
            if (tt) return e.indexOf(t);
            for (var n = 0; n < e.length; ++n)
                if (e[n] === t) return n;
            return -1
        },
        rt = /\s+/,
        ot = Object.prototype.toString;

    function it(e) {
        return new at(e)
    }

    function at(e) {
        if (!e || !e.nodeType) throw new Error("A DOM element reference is required");
        this.el = e, this.list = e.classList
    }

    function st(e) {
        for (var t; e.childNodes.length;) t = e.childNodes[0], e.removeChild(t);
        return e
    }
    at.prototype.add = function(e) {
        if (this.list) return this.list.add(e), this;
        var t = this.array();
        return ~nt(t, e) || t.push(e), this.el.className = t.join(" "), this
    }, at.prototype.remove = function(e) {
        if ("[object RegExp]" == ot.call(e)) return this.removeMatching(e);
        if (this.list) return this.list.remove(e), this;
        var t = this.array(),
            n = nt(t, e);
        return ~n && t.splice(n, 1), this.el.className = t.join(" "), this
    }, at.prototype.removeMatching = function(e) {
        for (var t = this.array(), n = 0; n < t.length; n++) e.test(t[n]) && this.remove(t[n]);
        return this
    }, at.prototype.toggle = function(e, t) {
        return this.list ? (void 0 !== t ? t !== this.list.toggle(e, t) && this.list.toggle(e) : this.list.toggle(e), this) : (void 0 !== t ? t ? this.add(e) : this.remove(e) : this.has(e) ? this.remove(e) : this.add(e), this)
    }, at.prototype.array = function() {
        var e = (this.el.getAttribute("class") || "").replace(/^\s+|\s+$/g, "").split(rt);
        return "" === e[0] && e.shift(), e
    }, at.prototype.has = at.prototype.contains = function(e) {
        return this.list ? this.list.contains(e) : !!~nt(this.array(), e)
    };
    var ut = "undefined" != typeof Element ? Element.prototype : {},
        ct = ut.matches || ut.matchesSelector || ut.webkitMatchesSelector || ut.mozMatchesSelector || ut.msMatchesSelector || ut.oMatchesSelector,
        lt = function(e, t) {
            if (!e || 1 !== e.nodeType) return !1;
            if (ct) return ct.call(e, t);
            for (var n = e.parentNode.querySelectorAll(t), r = 0; r < n.length; r++)
                if (n[r] == e) return !0;
            return !1
        };

    function pt(e, t, n) {
        for (var r = n ? e : e.parentNode; r && r.nodeType !== document.DOCUMENT_NODE && r.nodeType !== document.DOCUMENT_FRAGMENT_NODE;) {
            if (lt(r, t)) return r;
            r = r.parentNode
        }
        return lt(r, t) ? r : null
    }
    var ft = window.addEventListener ? "addEventListener" : "attachEvent",
        dt = window.removeEventListener ? "removeEventListener" : "detachEvent",
        ht = "addEventListener" !== ft ? "on" : "",
        yt = {
            bind: function(e, t, n, r) {
                return e[ft](ht + t, n, r || !1), n
            },
            unbind: function(e, t, n, r) {
                return e[dt](ht + t, n, r || !1), n
            }
        },
        mt = ["focus", "blur"];
    var vt, gt = {
            bind: function(e, t, n, r, o) {
                return -1 !== mt.indexOf(n) && (o = !0), yt.bind(e, n, (function(n) {
                    var o = n.target || n.srcElement;
                    n.delegateTarget = pt(o, t, !0), n.delegateTarget && r.call(e, n)
                }), o)
            },
            unbind: function(e, t, n, r) {
                return -1 !== mt.indexOf(t) && (r = !0), yt.unbind(e, t, n, r)
            }
        },
        bt = function(e, t) {
            if ("string" != typeof e) throw new TypeError("String expected");
            t || (t = document);
            var n = /<([\w:]+)/.exec(e);
            if (!n) return t.createTextNode(e);
            e = e.replace(/^\s+|\s+$/g, "");
            var r = n[1];
            if ("body" == r) {
                return (o = t.createElement("html")).innerHTML = e, o.removeChild(o.lastChild)
            }
            var o, i = wt[r] || wt._default,
                a = i[0],
                s = i[1],
                u = i[2];
            (o = t.createElement("div")).innerHTML = s + e + u;
            for (; a--;) o = o.lastChild;
            if (o.firstChild == o.lastChild) return o.removeChild(o.firstChild);
            var c = t.createDocumentFragment();
            for (; o.firstChild;) c.appendChild(o.removeChild(o.firstChild));
            return c
        },
        _t = !1;
    "undefined" != typeof document && ((vt = document.createElement("div")).innerHTML = '  <link/><table></table><a href="/a">a</a><input type="checkbox"/>', _t = !vt.getElementsByTagName("link").length, vt = void 0);
    var wt = {
        legend: [1, "<fieldset>", "</fieldset>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
        _default: _t ? [1, "X<div>", "</div>"] : [0, "", ""]
    };

    function xt(e, t) {
        return (t = t || document).querySelector(e)
    }

    function Et(e, t) {
        return (t = t || document).querySelectorAll(e)
    }

    function Ct(e) {
        e.parentNode && e.parentNode.removeChild(e)
    }

    function Ot(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(e);
            t && (r = r.filter((function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, r)
        }
        return n
    }

    function St(e) {
        return function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
        }(e) || function(e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }

    function jt(e) {
        return (jt = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function kt(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function Pt(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Tt(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    wt.td = wt.th = [3, "<table><tbody><tr>", "</tr></tbody></table>"], wt.option = wt.optgroup = [1, '<select multiple="multiple">', "</select>"], wt.thead = wt.tbody = wt.colgroup = wt.caption = wt.tfoot = [1, "<table>", "</table>"], wt.polyline = wt.ellipse = wt.polygon = wt.circle = wt.text = wt.line = wt.path = wt.rect = wt.g = [1, '<svg xmlns="http://www.w3.org/2000/svg" version="1.1">', "</svg>"];
    var Dt = {
            width: "100%",
            height: "100%",
            position: "relative"
        },
        Rt = function() {
            function e() {
                var t = this,
                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                kt(this, e), Tt(this, "_viewsChanged", (function() {
                    t._emit("views.changed", {
                        views: t._views,
                        activeView: t._activeView
                    })
                })), this._eventBus = new V, this._viewsChanged = M(this._viewsChanged, 0), this._views = [], this._viewers = {}, this._init(n)
            }
            var t, n, r;
            return t = e, (n = [{
                key: "importXML",
                value: function(e, t, n) {
                    var r = this;
                    "object" !== jt(t) && (n = t, t = {
                        open: !0
                    }), "function" != typeof n && (n = Mt), e = this._emit("import.parse.start", {
                        xml: e
                    }) || e, this._moddle.fromXML(e, "dmn:Definitions", (function(o, i, a) {
                        i = r._emit("import.parse.complete", {
                            error: o,
                            definitions: i,
                            context: a
                        }) || i;
                        var s = a.warnings;
                        if (r._setDefinitions(i), o && (o = function(e, t) {
                                if ("failed to parse document as <dmn:Definitions>" !== e.message) return null;
                                var n = -1 !== t.indexOf('"http://www.omg.org/spec/DMN/20151101/dmn.xsd"') ? "1.1" : -1 !== t.indexOf('"http://www.omg.org/spec/DMN/20180521/MODEL/"') && "1.2";
                                return n ? (e = new Error("unsupported DMN " + n + " file detected; only DMN 1.3 files can be opened"), console.error("Cannot open what looks like a DMN " + n + " diagram. Please refer to https://bpmn.io/l/dmn-compatibility.html to learn how to make the toolkit compatible with older DMN files", e), e) : null
                            }(o, e) || function(e) {
                                var t = /unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);
                                return t ? (e.message = "unparsable content <" + t[1] + "> detected; this may indicate an invalid DMN 1.3 diagram file" + t[2], e) : null
                            }(o) || o), o || !t.open) return r._emit("import.done", {
                            error: o,
                            warmings: s
                        }), n(o, s);
                        var u = r._activeView || r._getInitialView(r._views);
                        if (!u) return n(new Error("no displayable contents"));
                        r.open(u, (function(e, t) {
                            var o = [].concat(s, t || []);
                            r._emit("import.done", {
                                error: e,
                                warnings: o
                            }), n(e, o)
                        }))
                    }))
                }
            }, {
                key: "getDefinitions",
                value: function() {
                    return this._definitions
                }
            }, {
                key: "getActiveView",
                value: function() {
                    return this._activeView
                }
            }, {
                key: "getActiveViewer",
                value: function() {
                    var e = this.getActiveView();
                    return e && this._getViewer(e)
                }
            }, {
                key: "getView",
                value: function(e) {
                    return this._views.filter((function(t) {
                        return t.element === e
                    }))[0]
                }
            }, {
                key: "getViews",
                value: function() {
                    return this._views
                }
            }, {
                key: "saveXML",
                value: function(e, t) {
                    var n = this;
                    "function" == typeof e && (t = e, e = {});
                    var r = this._definitions;
                    if (!r) return t(new Error("no definitions loaded"));
                    r = this._emit("saveXML.start", {
                        definitions: r
                    }) || r, this._moddle.toXML(r, e, (function(e, r) {
                        try {
                            r = n._emit("saveXML.serialized", {
                                error: e,
                                xml: r
                            }) || r, n._emit("saveXML.done", {
                                error: e,
                                xml: r
                            })
                        } catch (e) {
                            console.error("error in saveXML life-cycle listener", e)
                        }
                        t(e, r)
                    }))
                }
            }, {
                key: "on",
                value: function() {
                    var e;
                    (e = this._eventBus).on.apply(e, arguments)
                }
            }, {
                key: "off",
                value: function() {
                    var e;
                    (e = this._eventBus).off.apply(e, arguments)
                }
            }, {
                key: "once",
                value: function() {
                    var e;
                    (e = this._eventBus).once.apply(e, arguments)
                }
            }, {
                key: "attachTo",
                value: function(e) {
                    e.get && e.constructor.prototype.jquery && (e = e.get(0)), "string" == typeof e && (e = xt(e)), e.appendChild(this._container), this._emit("attach", {})
                }
            }, {
                key: "detach",
                value: function() {
                    this._emit("detach", {}), Ct(this._container)
                }
            }, {
                key: "destroy",
                value: function() {
                    var e = this;
                    Object.keys(this._viewers).forEach((function(t) {
                        Lt(e._viewers[t], "destroy")
                    })), Ct(this._container)
                }
            }, {
                key: "_init",
                value: function(e) {
                    this._options = e, this._moddle = this._createModdle(e), this._viewers = {}, this._views = [];
                    var t = bt('<div class="dmn-js-parent"></div>'),
                        n = I({}, Dt, e);
                    I(t.style, {
                        width: At(n.width),
                        height: At(n.height),
                        position: n.position
                    }), this._container = t, e.container && this.attachTo(e.container)
                }
            }, {
                key: "open",
                value: function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Mt;
                    this._switchView(e, t)
                }
            }, {
                key: "_setDefinitions",
                value: function(e) {
                    this._definitions = e, this._updateViews()
                }
            }, {
                key: "_updateViews",
                value: function() {
                    var e = this._definitions;
                    if (!e) return this._views = [], void this._switchView(null);
                    var t = this._getViewProviders(),
                        n = [e].concat(St(e.drgElement || [])),
                        r = this._views,
                        o = [],
                        i = !0,
                        a = !1,
                        s = void 0;
                    try {
                        for (var u, c = n[Symbol.iterator](); !(i = (u = c.next()).done); i = !0) {
                            var l = u.value,
                                p = y(t, (function(e) {
                                    return "string" == typeof e.opens ? e.opens === l.$type : e.opens(l)
                                }));
                            if (p) {
                                var f = {
                                    element: l,
                                    id: l.id,
                                    name: l.name,
                                    type: p.id
                                };
                                o.push(f)
                            }
                        }
                    } catch (e) {
                        a = !0, s = e
                    } finally {
                        try {
                            i || null == c.return || c.return()
                        } finally {
                            if (a) throw s
                        }
                    }
                    var d, h = this._activeView;
                    if (h && !(d = y(o, (function(e) {
                            return Nt(h, e)
                        })) || this._getInitialView(o))) return this._switchView(null);
                    var m = !Nt(h, d) || It(h, d),
                        v = r.length !== o.length || !b(o, (function(e) {
                            return y(r, (function(t) {
                                return Nt(t, e) && !It(t, e)
                            }))
                        }));
                    this._activeView = d, this._views = o, (m || v) && this._viewsChanged()
                }
            }, {
                key: "_getInitialView",
                value: function(e) {
                    return e[0]
                }
            }, {
                key: "_switchView",
                value: function(e) {
                    var t, n = this,
                        r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Mt,
                        o = function(e, t) {
                            n._viewsChanged(), r(e, t)
                        },
                        i = this.getActiveView(),
                        a = e && this._getViewer(e),
                        s = e && e.element;
                    if (i && (t = this._getViewer(i)) !== a && (Lt(t, "clear"), t.detach()), this._activeView = e, a) return t !== a && a.attachTo(this._container), this._emit("import.render.start", {
                        view: e,
                        element: s
                    }), a.open(s, (function(t, r) {
                        n._emit("import.render.complete", {
                            view: e,
                            error: t,
                            warnings: r
                        }), o(t, r)
                    }));
                    o()
                }
            }, {
                key: "_getViewer",
                value: function(e) {
                    var t = e.type,
                        n = this._viewers[t];
                    return n || (n = this._viewers[t] = this._createViewer(e.type), this._emit("viewer.created", {
                        type: t,
                        viewer: n
                    })), n
                }
            }, {
                key: "_createViewer",
                value: function(e) {
                    var t = y(this._getViewProviders(), (function(t) {
                        return t.id === e
                    }));
                    if (!t) throw new Error("no provider for view type <" + e + ">");
                    var n = t.constructor,
                        r = this._options[e] || {};
                    return new n(function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var n = null != arguments[t] ? arguments[t] : {};
                            t % 2 ? Ot(n, !0).forEach((function(t) {
                                Tt(e, t, n[t])
                            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Ot(n).forEach((function(t) {
                                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                            }))
                        }
                        return e
                    }({}, this._options.common || {}, {}, r, {
                        additionalModules: [].concat(St(r.additionalModules || []), [{
                            _parent: ["value", this],
                            moddle: ["value", this._moddle]
                        }])
                    }))
                }
            }, {
                key: "_emit",
                value: function() {
                    var e;
                    (e = this._eventBus).fire.apply(e, arguments)
                }
            }, {
                key: "_createModdle",
                value: function(e) {
                    return new Ze(I({
                        camunda: Qe
                    }, e.moddleExtensions))
                }
            }, {
                key: "_getViewProviders",
                value: function() {
                    return []
                }
            }]) && Pt(t.prototype, n), r && Pt(t, r), e
        }();

    function Mt() {}

    function At(e) {
        return e + (p(e) ? "px" : "")
    }

    function Nt(e, t) {
        return s(e) ? !!s(t) && (e.element === t.element || e.id === t.id) : !s(t)
    }

    function It(e, t) {
        return !e || !t || e.name !== t.name
    }

    function Lt(e, t) {
        f(e[t]) && e[t]()
    }
    var Bt = n(10),
        $t = n.n(Bt);

    function Vt(e, t) {
        var n = qt(e);
        return n && "function" == typeof n.$instanceOf && n.$instanceOf(t)
    }

    function zt(e) {
        return Vt(e, "dmn:InputClause")
    }

    function Ft(e) {
        return Vt(e, "dmn:OutputClause")
    }

    function qt(e) {
        return e && e.businessObject || e
    }

    function Ht(e, t) {
        return _(t, (function(t) {
            return Vt(e, t)
        }))
    }

    function Ut(e) {
        return (Ut = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Wt(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function Gt(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Kt(e, t) {
        return !t || "object" !== Ut(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function Xt(e, t, n) {
        return (Xt = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var r = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = Yt(e)););
                return e
            }(e, t);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, t);
                return o.get ? o.get.call(n) : o.value
            }
        })(e, t, n || e)
    }

    function Yt(e) {
        return (Yt = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Jt(e, t) {
        return (Jt = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var Zt = function(e) {
            function t() {
                return Wt(this, t), Kt(this, Yt(t).apply(this, arguments))
            }
            var n, r, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        writable: !0,
                        configurable: !0
                    }
                }), t && Jt(e, t)
            }(t, e), n = t, (r = [{
                key: "_init",
                value: function(e) {
                    var n = this;
                    Xt(Yt(t.prototype), "_init", this).call(this, e), this.on("import.parse.complete", (function(e) {
                        e.error || n._collectIds(e.definitions, e.context)
                    })), this.on("destroy", (function() {
                        n._moddle.ids.clear()
                    })), this.on("viewer.created", (function(e) {
                        e.viewer.on("elements.changed", (function(e) {
                            e.elements.some((function(e) {
                                return Ht(e, ["dmn:Decision", "dmn:Definitions"])
                            })) && n._updateViews()
                        }))
                    }))
                }
            }, {
                key: "_collectIds",
                value: function(e, t) {
                    var n, r = e.$model.ids;
                    for (n in r.clear(), t.elementsById) r.claim(n, t.elementsById[n])
                }
            }, {
                key: "_createModdle",
                value: function(e) {
                    var n = Xt(Yt(t.prototype), "_createModdle", this).call(this, e);
                    return n.ids = new $t.a([32, 36, 1]), n
                }
            }]) && Gt(n.prototype, r), o && Gt(n, o), t
        }(Rt),
        Qt = n(0),
        en = n.n(Qt),
        tn = /^class /;

    function nn(e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }

    function rn() {
        var e = Array.prototype.slice.call(arguments);
        1 === e.length && nn(e[0]) && (e = e[0]);
        var t = e.pop();
        return t.$inject = e, t
    }
    var on = /constructor\s*[^(]*\(\s*([^)]*)\)/m,
        an = /^function\s*[^(]*\(\s*([^)]*)\)/m,
        sn = /\/\*([^*]*)\*\//m;

    function un(e) {
        if ("function" != typeof e) throw new Error('Cannot annotate "' + e + '". Expected a function!');
        var t = e.toString().match(function(e) {
            return tn.test(e.toString())
        }(e) ? on : an);
        return t && t[1] && t[1].split(",").map((function(e) {
            return (t = e.match(sn)) ? t[1].trim() : e.trim()
        })) || []
    }

    function cn() {
        var e = [];
        this.factory = function(t, n) {
            return e.push([t, "factory", n]), this
        }, this.value = function(t, n) {
            return e.push([t, "value", n]), this
        }, this.type = function(t, n) {
            return e.push([t, "type", n]), this
        }, this.forEach = function(t) {
            e.forEach(t)
        }
    }
    var ln = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e
    } : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    };

    function pn(e) {
        if (Array.isArray(e)) {
            for (var t = 0, n = Array(e.length); t < e.length; t++) n[t] = e[t];
            return n
        }
        return Array.from(e)
    }

    function fn(e, t) {
        t = t || {
            get: function(e, t) {
                if (n.push(e), !1 === t) return null;
                throw a('No provider for "' + e + '"!')
            }
        };
        var n = [],
            r = this._providers = Object.create(t._providers || null),
            o = this._instances = Object.create(null),
            i = o.injector = this,
            a = function(e) {
                var t = n.join(" -> ");
                return n.length = 0, new Error(t ? e + " (Resolving: " + t + ")" : e)
            },
            s = function e(i, s) {
                if (!r[i] && -1 !== i.indexOf(".")) {
                    for (var u = i.split("."), c = e(u.shift()); u.length;) c = c[u.shift()];
                    return c
                }
                if (dn(o, i)) return o[i];
                if (dn(r, i)) {
                    if (-1 !== n.indexOf(i)) throw n.push(i), a("Cannot resolve circular dependency!");
                    return n.push(i), o[i] = r[i][0](r[i][1]), n.pop(), o[i]
                }
                return t.get(i, s)
            },
            u = function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                if ("function" != typeof e) {
                    if (!nn(e)) throw new Error('Cannot invoke "' + e + '". Expected a function!');
                    e = rn(e.slice())
                }
                var n = e.$inject || un(e),
                    r = n.map((function(e) {
                        return dn(t, e) ? t[e] : s(e)
                    }));
                return {
                    fn: e,
                    dependencies: r
                }
            },
            c = function(e) {
                var t = u(e),
                    n = t.dependencies,
                    r = t.fn;
                return new(Function.prototype.bind.apply(r, [null].concat(pn(n))))
            },
            l = function(e, t, n) {
                var r = u(e, n),
                    o = r.dependencies,
                    i = r.fn;
                return i.call.apply(i, [t].concat(pn(o)))
            },
            p = function(e) {
                return rn((function(t) {
                    return e.get(t)
                }))
            },
            f = {
                factory: l,
                type: c,
                value: function(e) {
                    return e
                }
            };
        e.forEach((function(e) {
            function t(e, t) {
                return "value" !== e && nn(t) && (t = rn(t.slice())), t
            }
            if (e instanceof cn) e.forEach((function(e) {
                var n = e[0],
                    o = e[1],
                    i = e[2];
                r[n] = [f[o], t(o, i), o]
            }));
            else if ("object" === (void 0 === e ? "undefined" : ln(e)))
                if (e.__exports__) {
                    var n = Object.keys(e).reduce((function(t, n) {
                            return "__" !== n.substring(0, 2) && (t[n] = e[n]), t
                        }), Object.create(null)),
                        o = new fn((e.__modules__ || []).concat([n]), i),
                        a = rn((function(e) {
                            return o.get(e)
                        }));
                    e.__exports__.forEach((function(e) {
                        r[e] = [a, e, "private", o]
                    }))
                } else Object.keys(e).forEach((function(n) {
                    if ("private" !== e[n][2]) {
                        var o = e[n][0],
                            i = e[n][1];
                        r[n] = [f[o], t(o, i), o]
                    } else r[n] = e[n]
                }))
        })), this.get = s, this.invoke = l, this.instantiate = c, this.createChild = function(e, t) {
            if (t && t.length) {
                var n, o, a, s, u = Object.create(null),
                    c = Object.create(null),
                    l = [],
                    f = [],
                    d = [];
                for (var h in r) n = r[h], -1 !== t.indexOf(h) && ("private" === n[2] ? -1 === (o = l.indexOf(n[3])) ? (a = n[3].createChild([], t), s = p(a), l.push(n[3]), f.push(a), d.push(s), u[h] = [s, h, "private", a]) : u[h] = [d[o], h, "private", f[o]] : u[h] = [n[2], n[1]], c[h] = !0), "factory" !== n[2] && "type" !== n[2] || !n[1].$scope || t.forEach((function(e) {
                    -1 !== n[1].$scope.indexOf(e) && (u[h] = [n[2], n[1]], c[e] = !0)
                }));
                t.forEach((function(e) {
                    if (!c[e]) throw new Error('No provider for "' + e + '". Cannot use provider from the parent!')
                })), e.unshift(u)
            }
            return new fn(e, i)
        }
    }

    function dn(e, t) {
        return Object.hasOwnProperty.call(e, t)
    }

    function hn(e, t) {
        var n = this;
        t = t || 1e3, e.on(["render.shape", "render.connection"], t, (function(e, t) {
            var r = e.type,
                o = t.element,
                i = t.gfx;
            if (n.canRender(o)) return "render.shape" === r ? n.drawShape(i, o) : n.drawConnection(i, o)
        })), e.on(["render.getShapePath", "render.getConnectionPath"], t, (function(e, t) {
            if (n.canRender(t)) return "render.getShapePath" === e.type ? n.getShapePath(t) : n.getConnectionPath(t)
        }))
    }

    function yn(e, t) {
        if (e.ownerDocument !== t.ownerDocument) try {
            return t.ownerDocument.importNode(e, !0)
        } catch (e) {}
        return e
    }

    function mn(e, t) {
        return t.appendChild(yn(e, t))
    }

    function vn(e, t) {
        return mn(t, e), e
    }
    hn.prototype.canRender = function() {}, hn.prototype.drawShape = function() {}, hn.prototype.drawConnection = function() {}, hn.prototype.getShapePath = function() {}, hn.prototype.getConnectionPath = function() {};
    var gn = {
        "alignment-baseline": 1,
        "baseline-shift": 1,
        clip: 1,
        "clip-path": 1,
        "clip-rule": 1,
        color: 1,
        "color-interpolation": 1,
        "color-interpolation-filters": 1,
        "color-profile": 1,
        "color-rendering": 1,
        cursor: 1,
        direction: 1,
        display: 1,
        "dominant-baseline": 1,
        "enable-background": 1,
        fill: 1,
        "fill-opacity": 1,
        "fill-rule": 1,
        filter: 1,
        "flood-color": 1,
        "flood-opacity": 1,
        font: 1,
        "font-family": 1,
        "font-size": 2,
        "font-size-adjust": 1,
        "font-stretch": 1,
        "font-style": 1,
        "font-variant": 1,
        "font-weight": 1,
        "glyph-orientation-horizontal": 1,
        "glyph-orientation-vertical": 1,
        "image-rendering": 1,
        kerning: 1,
        "letter-spacing": 1,
        "lighting-color": 1,
        marker: 1,
        "marker-end": 1,
        "marker-mid": 1,
        "marker-start": 1,
        mask: 1,
        opacity: 1,
        overflow: 1,
        "pointer-events": 1,
        "shape-rendering": 1,
        "stop-color": 1,
        "stop-opacity": 1,
        stroke: 1,
        "stroke-dasharray": 1,
        "stroke-dashoffset": 1,
        "stroke-linecap": 1,
        "stroke-linejoin": 1,
        "stroke-miterlimit": 1,
        "stroke-opacity": 1,
        "stroke-width": 2,
        "text-anchor": 1,
        "text-decoration": 1,
        "text-rendering": 1,
        "unicode-bidi": 1,
        visibility: 1,
        "word-spacing": 1,
        "writing-mode": 1
    };

    function bn(e, t, n) {
        var r = t.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase(),
            o = gn[r];
        o ? (2 === o && "number" == typeof n && (n = String(n) + "px"), e.style[r] = n) : e.setAttributeNS(null, t, n)
    }

    function _n(e, t, n) {
        if ("string" == typeof t) {
            if (void 0 === n) return function(e, t) {
                return gn[t] ? e.style[t] : e.getAttributeNS(null, t)
            }(e, t);
            bn(e, t, n)
        } else ! function(e, t) {
            var n, r, o = Object.keys(t);
            for (n = 0; r = o[n]; n++) bn(e, r, t[r])
        }(e, t);
        return e
    }

    function wn(e, t) {
        if (e.indexOf) return e.indexOf(t);
        for (var n = 0; n < e.length; ++n)
            if (e[n] === t) return n;
        return -1
    }
    var xn = /\s+/,
        En = Object.prototype.toString;

    function Cn(e) {
        return void 0 !== e
    }

    function On(e) {
        return new Sn(e)
    }

    function Sn(e) {
        if (!e || !e.nodeType) throw new Error("A DOM element reference is required");
        this.el = e, this.list = e.classList
    }

    function jn(e) {
        var t = e.parentNode;
        return t && t.removeChild(e), e
    }

    function kn(e) {
        for (var t; t = e.firstChild;) jn(t);
        return e
    }

    function Pn(e) {
        return e.cloneNode(!0)
    }
    Sn.prototype.add = function(e) {
        if (this.list) return this.list.add(e), this;
        var t = this.array();
        return ~wn(t, e) || t.push(e), Cn(this.el.className.baseVal) ? this.el.className.baseVal = t.join(" ") : this.el.className = t.join(" "), this
    }, Sn.prototype.remove = function(e) {
        if ("[object RegExp]" === En.call(e)) return this.removeMatching(e);
        if (this.list) return this.list.remove(e), this;
        var t = this.array(),
            n = wn(t, e);
        return ~n && t.splice(n, 1), this.el.className.baseVal = t.join(" "), this
    }, Sn.prototype.removeMatching = function(e) {
        for (var t = this.array(), n = 0; n < t.length; n++) e.test(t[n]) && this.remove(t[n]);
        return this
    }, Sn.prototype.toggle = function(e, t) {
        return this.list ? (Cn(t) ? t !== this.list.toggle(e, t) && this.list.toggle(e) : this.list.toggle(e), this) : (Cn(t) ? t ? this.add(e) : this.remove(e) : this.has(e) ? this.remove(e) : this.add(e), this)
    }, Sn.prototype.array = function() {
        var e = (this.el.getAttribute("class") || "").replace(/^\s+|\s+$/g, "").split(xn);
        return "" === e[0] && e.shift(), e
    }, Sn.prototype.has = Sn.prototype.contains = function(e) {
        return this.list ? this.list.contains(e) : !!~wn(this.array(), e)
    };
    var Tn = "http://www.w3.org/2000/svg",
        Dn = '<svg xmlns="' + Tn + '"';

    function Rn(e) {
        var t = !1;
        "<svg" === e.substring(0, 4) ? -1 === e.indexOf(Tn) && (e = Dn + e.substring(4)) : (e = Dn + ">" + e + "</svg>", t = !0);
        var n = function(e) {
            var t;
            return (t = new DOMParser).async = !1, t.parseFromString(e, "text/xml")
        }(e);
        if (!t) return n;
        for (var r = document.createDocumentFragment(), o = n.firstChild; o.firstChild;) r.appendChild(o.firstChild);
        return r
    }

    function Mn(e, t) {
        var n;
        return "<" === e.charAt(0) ? (n = Rn(e).firstChild, n = document.importNode(n, !0)) : n = document.createElementNS(Tn, e), t && _n(n, t), n
    }
    var An = Mn("svg");

    function Nn(e, t) {
        var n, r, o = Object.keys(t);
        for (n = 0; r = o[n]; n++) e[r] = t[r];
        return e
    }

    function In(e) {
        return e ? An.createSVGTransformFromMatrix(e) : An.createSVGTransform()
    }
    var Ln = /([&<>]{1})/g,
        Bn = /([\n\r"]{1})/g,
        $n = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "'"
        };

    function Vn(e, t) {
        return e.replace(t, (function(e, t) {
            return $n[t] || t
        }))
    }

    function zn(e, t) {
        var n, r, o, i, a;
        switch (e.nodeType) {
            case 3:
                t.push(Vn(e.textContent, Ln));
                break;
            case 1:
                if (t.push("<", e.tagName), e.hasAttributes())
                    for (n = 0, r = (o = e.attributes).length; n < r; ++n) i = o.item(n), t.push(" ", i.name, '="', Vn(i.value, Bn), '"');
                if (e.hasChildNodes()) {
                    for (t.push(">"), n = 0, r = (a = e.childNodes).length; n < r; ++n) zn(a.item(n), t);
                    t.push("</", e.tagName, ">")
                } else t.push("/>");
                break;
            case 8:
                t.push("\x3c!--", Vn(e.nodeValue, Ln), "--\x3e");
                break;
            case 4:
                t.push("<![CDATA[", e.nodeValue, "]]>");
                break;
            default:
                throw new Error("unable to handle node " + e.nodeType)
        }
        return t
    }

    function Fn(e, t) {
        var n = Rn(t);
        if (kn(e), t) {
            "#document-fragment" !== n.nodeName && (n = n.documentElement);
            for (var r, o = (r = n.childNodes, Array.prototype.slice.call(r)), i = 0; i < o.length; i++) mn(o[i], e)
        }
    }

    function qn(e, t) {
        if (void 0 !== t) {
            try {
                Fn(e, t)
            } catch (e) {
                throw new Error("error parsing SVG: " + e.message)
            }
            return e
        }
        return function(e) {
            for (var t = e.firstChild, n = []; t;) zn(t, n), t = t.nextSibling;
            return n.join("")
        }(e)
    }

    function Hn(e, t) {
        return t instanceof SVGMatrix ? e.createSVGTransformFromMatrix(t) : t
    }

    function Un(e, t) {
        var n = e.transform.baseVal;
        return t && (Array.isArray(t) || (t = [t]), function(e, t) {
            var n, r;
            for (e.clear(), n = 0; r = t[n]; n++) e.appendItem(Hn(e, r))
        }(n, t)), n.consolidate()
    }

    function Wn(e) {
        return e.join(",").replace(/,?([A-z]),?/g, "$1")
    }

    function Gn(e) {
        for (var t, n = "", r = 0; t = e[r]; r++) n += t.x + "," + t.y + " ";
        return n
    }

    function Kn(e, t) {
        var n = Mn("polyline");
        return _n(n, {
            points: Gn(e)
        }), t && _n(n, t), n
    }

    function Xn(e) {
        return m(e, (function(t) {
            return !y(e, (function(e) {
                return e !== t && function e(t, n) {
                    if (!n) return;
                    if (t === n) return n;
                    if (!t.parent) return;
                    return e(t.parent, n)
                }(t, e)
            }))
        }))
    }

    function Yn(e, t, n) {
        var r = !n || -1 === e.indexOf(t);
        return r && e.push(t), r
    }

    function Jn(e, t, n) {
        n = n || 0, c(e) || (e = [e]), v(e, (function(e, r) {
            var o = t(e, r, n);
            c(o) && o.length && Jn(o, t, n + 1)
        }))
    }

    function Zn(e, t, n) {
        var r = [],
            o = [];
        return Jn(e, (function(e, i, a) {
            Yn(r, e, t);
            var s = e.children;
            if ((-1 === n || a < n) && s && Yn(o, s, t)) return s
        })), r
    }

    function Qn(e, t) {
        var n, r, o, i;
        return t = !!t, c(e) || (e = [e]), v(e, (function(e) {
            var a = e;
            e.waypoints && !t && (a = Qn(e.waypoints, !0));
            var s = a.x,
                u = a.y,
                c = a.height || 0,
                l = a.width || 0;
            (s < n || void 0 === n) && (n = s), (u < r || void 0 === r) && (r = u), (s + l > o || void 0 === o) && (o = s + l), (u + c > i || void 0 === i) && (i = u + c)
        })), {
            x: n,
            y: r,
            height: i - r,
            width: o - n
        }
    }

    function er(e) {
        return "waypoints" in e ? "connection" : "x" in e ? "shape" : "root"
    }

    function tr(e) {
        return !(!e || !e.isFrame)
    }

    function nr(e, t) {
        return I({}, e || {}, t || {})
    }

    function rr(e, t) {
        hn.call(this, e, 1), this.CONNECTION_STYLE = t.style(["no-fill"], {
            strokeWidth: 5,
            stroke: "fuchsia"
        }), this.SHAPE_STYLE = t.style({
            fill: "white",
            stroke: "fuchsia",
            strokeWidth: 2
        }), this.FRAME_STYLE = t.style(["no-fill"], {
            stroke: "fuchsia",
            strokeDasharray: 4,
            strokeWidth: 2
        })
    }
    en()(rr, hn), rr.prototype.canRender = function() {
        return !0
    }, rr.prototype.drawShape = function(e, t) {
        var n = Mn("rect");
        return _n(n, {
            x: 0,
            y: 0,
            width: t.width || 0,
            height: t.height || 0
        }), tr(t) ? _n(n, this.FRAME_STYLE) : _n(n, this.SHAPE_STYLE), vn(e, n), n
    }, rr.prototype.drawConnection = function(e, t) {
        var n = Kn(t.waypoints, this.CONNECTION_STYLE);
        return vn(e, n), n
    }, rr.prototype.getShapePath = function(e) {
        var t = e.x,
            n = e.y,
            r = e.width;
        return Wn([
            ["M", t, n],
            ["l", r, 0],
            ["l", 0, e.height],
            ["l", -r, 0],
            ["z"]
        ])
    }, rr.prototype.getConnectionPath = function(e) {
        var t, n, r = e.waypoints,
            o = [];
        for (t = 0; n = r[t]; t++) n = n.original || n, o.push([0 === t ? "M" : "L", n.x, n.y]);
        return Wn(o)
    }, rr.$inject = ["eventBus", "styles"];
    var or = {
        __init__: ["defaultRenderer"],
        defaultRenderer: ["type", rr],
        styles: ["type", function() {
            var e = {
                    "no-fill": {
                        fill: "none"
                    },
                    "no-border": {
                        strokeOpacity: 0
                    },
                    "no-events": {
                        pointerEvents: "none"
                    }
                },
                t = this;
            this.cls = function(e, t, n) {
                return I(this.style(t, n), {
                    class: e
                })
            }, this.style = function(t, n) {
                c(t) || n || (n = t, t = []);
                var r = g(t, (function(t, n) {
                    return I(t, e[n] || {})
                }), {});
                return n ? I(r, n) : r
            }, this.computeStyle = function(e, n, r) {
                return c(n) || (r = n, n = []), t.style(n || [], I({}, r, e || {}))
            }
        }]
    };

    function ir(e, t) {
        if (!e || !t) return -1;
        var n = e.indexOf(t);
        return -1 !== n && e.splice(n, 1), n
    }

    function ar(e, t, n) {
        if (e && t) {
            "number" != typeof n && (n = -1);
            var r = e.indexOf(t);
            if (-1 !== r) {
                if (r === n) return;
                if (-1 === n) return;
                e.splice(r, 1)
            } - 1 !== n ? e.splice(n, 0, t) : e.push(t)
        }
    }

    function sr(e, t) {
        return e && t ? e.indexOf(t) : -1
    }

    function ur(e, t) {
        return Math.round(e * t) / t
    }

    function cr(e) {
        return p(e) ? e + "px" : e
    }

    function lr(e, t, n) {
        var r = Mn("g");
        On(r).add(t);
        var o = void 0 !== n ? n : e.childNodes.length - 1;
        return e.insertBefore(r, e.childNodes[o] || null), r
    }
    var pr = {
        shape: ["x", "y", "width", "height"],
        connection: ["waypoints"]
    };

    function fr(e, t, n, r) {
        this._eventBus = t, this._elementRegistry = r, this._graphicsFactory = n, this._init(e || {})
    }

    function dr(e, t) {
        var n = "matrix(" + t.a + "," + t.b + "," + t.c + "," + t.d + "," + t.e + "," + t.f + ")";
        e.setAttribute("transform", n)
    }
    fr.$inject = ["config.canvas", "eventBus", "graphicsFactory", "elementRegistry"], fr.prototype._init = function(e) {
        var t = this._eventBus,
            n = this._container = function(e) {
                var t = (e = I({}, {
                        width: "100%",
                        height: "100%"
                    }, e)).container || document.body,
                    n = document.createElement("div");
                return n.setAttribute("class", "djs-container"), I(n.style, {
                    position: "relative",
                    overflow: "hidden",
                    width: cr(e.width),
                    height: cr(e.height)
                }), t.appendChild(n), n
            }(e),
            r = this._svg = Mn("svg");
        _n(r, {
            width: "100%",
            height: "100%"
        }), vn(n, r);
        var o = this._viewport = lr(r, "viewport");
        this._layers = {}, !1 !== e.deferUpdate && (this._viewboxChanged = M(A(this._viewboxChanged, this), 300)), t.on("diagram.init", (function() {
            t.fire("canvas.init", {
                svg: r,
                viewport: o
            })
        }), this), t.on(["shape.added", "connection.added", "shape.removed", "connection.removed", "elements.changed"], (function() {
            delete this._cachedViewbox
        }), this), t.on("diagram.destroy", 500, this._destroy, this), t.on("diagram.clear", 500, this._clear, this)
    }, fr.prototype._destroy = function(e) {
        this._eventBus.fire("canvas.destroy", {
            svg: this._svg,
            viewport: this._viewport
        });
        var t = this._container.parentNode;
        t && t.removeChild(this._container), delete this._svg, delete this._container, delete this._layers, delete this._rootElement, delete this._viewport
    }, fr.prototype._clear = function() {
        var e = this;
        this._elementRegistry.getAll().forEach((function(t) {
            var n = er(t);
            "root" === n ? e.setRootElement(null, !0) : e._removeElement(t, n)
        })), delete this._cachedViewbox
    }, fr.prototype.getDefaultLayer = function() {
        return this.getLayer("base", 0)
    }, fr.prototype.getLayer = function(e, t) {
        if (!e) throw new Error("must specify a name");
        var n = this._layers[e];
        if (n || (n = this._layers[e] = this._createLayer(e, t)), void 0 !== t && n.index !== t) throw new Error("layer <" + e + "> already created at index <" + t + ">");
        return n.group
    }, fr.prototype._createLayer = function(e, t) {
        t || (t = 0);
        var n = g(this._layers, (function(e, n) {
            return t >= n.index && e++, e
        }), 0);
        return {
            group: lr(this._viewport, "layer-" + e, n),
            index: t
        }
    }, fr.prototype.getContainer = function() {
        return this._container
    }, fr.prototype._updateMarker = function(e, t, n) {
        var r;
        e.id || (e = this._elementRegistry.get(e)), (r = this._elementRegistry._elements[e.id]) && (v([r.gfx, r.secondaryGfx], (function(e) {
            e && (n ? On(e).add(t) : On(e).remove(t))
        })), this._eventBus.fire("element.marker.update", {
            element: e,
            gfx: r.gfx,
            marker: t,
            add: !!n
        }))
    }, fr.prototype.addMarker = function(e, t) {
        this._updateMarker(e, t, !0)
    }, fr.prototype.removeMarker = function(e, t) {
        this._updateMarker(e, t, !1)
    }, fr.prototype.hasMarker = function(e, t) {
        return e.id || (e = this._elementRegistry.get(e)), On(this.getGraphics(e)).has(t)
    }, fr.prototype.toggleMarker = function(e, t) {
        this.hasMarker(e, t) ? this.removeMarker(e, t) : this.addMarker(e, t)
    }, fr.prototype.getRootElement = function() {
        return this._rootElement || this.setRootElement({
            id: "__implicitroot",
            children: []
        }), this._rootElement
    }, fr.prototype.setRootElement = function(e, t) {
        e && this._ensureValid("root", e);
        var n = this._rootElement,
            r = this._elementRegistry,
            o = this._eventBus;
        if (n) {
            if (!t) throw new Error("rootElement already set, need to specify override");
            o.fire("root.remove", {
                element: n
            }), o.fire("root.removed", {
                element: n
            }), r.remove(n)
        }
        if (e) {
            var i = this.getDefaultLayer();
            o.fire("root.add", {
                element: e
            }), r.add(e, i, this._svg), o.fire("root.added", {
                element: e,
                gfx: i
            })
        }
        return this._rootElement = e, e
    }, fr.prototype._ensureValid = function(e, t) {
        if (!t.id) throw new Error("element must have an id");
        if (this._elementRegistry.get(t.id)) throw new Error("element with id " + t.id + " already exists");
        var n = pr[e];
        if (!b(n, (function(e) {
                return void 0 !== t[e]
            }))) throw new Error("must supply { " + n.join(", ") + " } with " + e)
    }, fr.prototype._setParent = function(e, t, n) {
        ar(t.children, e, n), e.parent = t
    }, fr.prototype._addElement = function(e, t, n, r) {
        n = n || this.getRootElement();
        var o = this._eventBus,
            i = this._graphicsFactory;
        this._ensureValid(e, t), o.fire(e + ".add", {
            element: t,
            parent: n
        }), this._setParent(t, n, r);
        var a = i.create(e, t, r);
        return this._elementRegistry.add(t, a), i.update(e, t, a), o.fire(e + ".added", {
            element: t,
            gfx: a
        }), t
    }, fr.prototype.addShape = function(e, t, n) {
        return this._addElement("shape", e, t, n)
    }, fr.prototype.addConnection = function(e, t, n) {
        return this._addElement("connection", e, t, n)
    }, fr.prototype._removeElement = function(e, t) {
        var n = this._elementRegistry,
            r = this._graphicsFactory,
            o = this._eventBus;
        if (e = n.get(e.id || e)) return o.fire(t + ".remove", {
            element: e
        }), r.remove(e), ir(e.parent && e.parent.children, e), e.parent = null, o.fire(t + ".removed", {
            element: e
        }), n.remove(e), e
    }, fr.prototype.removeShape = function(e) {
        return this._removeElement(e, "shape")
    }, fr.prototype.removeConnection = function(e) {
        return this._removeElement(e, "connection")
    }, fr.prototype.getGraphics = function(e, t) {
        return this._elementRegistry.getGraphics(e, t)
    }, fr.prototype._changeViewbox = function(e) {
        this._eventBus.fire("canvas.viewbox.changing"), e.apply(this), this._cachedViewbox = null, this._viewboxChanged()
    }, fr.prototype._viewboxChanged = function() {
        this._eventBus.fire("canvas.viewbox.changed", {
            viewbox: this.viewbox()
        })
    }, fr.prototype.viewbox = function(e) {
        if (void 0 === e && this._cachedViewbox) return this._cachedViewbox;
        var t, n, r, o, i, a, s = this._viewport,
            u = this.getSize();
        return e ? (this._changeViewbox((function() {
            o = Math.min(u.width / e.width, u.height / e.height);
            var t = this._svg.createSVGMatrix().scale(o).translate(-e.x, -e.y);
            Un(s, t)
        })), e) : (t = this.getDefaultLayer().getBBox(), n = (r = Un(s)) ? r.matrix : function(e, t, n, r, o, i) {
            var a = An.createSVGMatrix();
            switch (arguments.length) {
                case 0:
                    return a;
                case 1:
                    return Nn(a, e);
                case 6:
                    return Nn(a, {
                        a: e,
                        b: t,
                        c: n,
                        d: r,
                        e: o,
                        f: i
                    })
            }
        }(), o = ur(n.a, 1e3), i = ur(-n.e || 0, 1e3), a = ur(-n.f || 0, 1e3), e = this._cachedViewbox = {
            x: i ? i / o : 0,
            y: a ? a / o : 0,
            width: u.width / o,
            height: u.height / o,
            scale: o,
            inner: {
                width: t.width,
                height: t.height,
                x: t.x,
                y: t.y
            },
            outer: u
        })
    }, fr.prototype.scroll = function(e) {
        var t = this._viewport,
            n = t.getCTM();
        return e && this._changeViewbox((function() {
            e = I({
                dx: 0,
                dy: 0
            }, e || {}), n = this._svg.createSVGMatrix().translate(e.dx, e.dy).multiply(n), dr(t, n)
        })), {
            x: n.e,
            y: n.f
        }
    }, fr.prototype.zoom = function(e, t) {
        return e ? "fit-viewport" === e ? this._fitViewport(t) : (this._changeViewbox((function() {
            "object" != typeof t && (n = this.viewbox().outer, t = {
                x: n.width / 2,
                y: n.height / 2
            }), r = this._setZoom(e, t)
        })), ur(r.a, 1e3)) : this.viewbox(e).scale;
        var n, r
    }, fr.prototype._fitViewport = function(e) {
        var t, n, r = this.viewbox(),
            o = r.outer,
            i = r.inner;
        return i.x >= 0 && i.y >= 0 && i.x + i.width <= o.width && i.y + i.height <= o.height && !e ? n = {
            x: 0,
            y: 0,
            width: Math.max(i.width + i.x, o.width),
            height: Math.max(i.height + i.y, o.height)
        } : (t = Math.min(1, o.width / i.width, o.height / i.height), n = {
            x: i.x + (e ? i.width / 2 - o.width / t / 2 : 0),
            y: i.y + (e ? i.height / 2 - o.height / t / 2 : 0),
            width: o.width / t,
            height: o.height / t
        }), this.viewbox(n), this.viewbox(!1).scale
    }, fr.prototype._setZoom = function(e, t) {
        var n, r, o, i, a = this._svg,
            s = this._viewport,
            u = a.createSVGMatrix(),
            c = a.createSVGPoint(),
            l = (r = s.getCTM()).a;
        return t ? (n = I(c, t).matrixTransform(r.inverse()), o = u.translate(n.x, n.y).scale(1 / l * e).translate(-n.x, -n.y), i = r.multiply(o)) : i = u.scale(e), dr(this._viewport, i), i
    }, fr.prototype.getSize = function() {
        return {
            width: this._container.clientWidth,
            height: this._container.clientHeight
        }
    }, fr.prototype.getAbsoluteBBox = function(e) {
        var t, n = this.viewbox();
        e.waypoints ? t = this.getGraphics(e).getBBox() : t = e;
        return {
            x: t.x * n.scale - n.x * n.scale,
            y: t.y * n.scale - n.y * n.scale,
            width: t.width * n.scale,
            height: t.height * n.scale
        }
    }, fr.prototype.resized = function() {
        delete this._cachedViewbox, this._eventBus.fire("canvas.resized")
    };
    var hr = "data-element-id";

    function yr(e) {
        this._elements = {}, this._eventBus = e
    }
    yr.$inject = ["eventBus"], yr.prototype.add = function(e, t, n) {
        var r = e.id;
        this._validateId(r), _n(t, hr, r), n && _n(n, hr, r), this._elements[r] = {
            element: e,
            gfx: t,
            secondaryGfx: n
        }
    }, yr.prototype.remove = function(e) {
        var t = this._elements,
            n = e.id || e,
            r = n && t[n];
        r && (_n(r.gfx, hr, ""), r.secondaryGfx && _n(r.secondaryGfx, hr, ""), delete t[n])
    }, yr.prototype.updateId = function(e, t) {
        this._validateId(t), "string" == typeof e && (e = this.get(e)), this._eventBus.fire("element.updateId", {
            element: e,
            newId: t
        });
        var n = this.getGraphics(e),
            r = this.getGraphics(e, !0);
        this.remove(e), e.id = t, this.add(e, n, r)
    }, yr.prototype.get = function(e) {
        var t;
        t = "string" == typeof e ? e : e && _n(e, hr);
        var n = this._elements[t];
        return n && n.element
    }, yr.prototype.filter = function(e) {
        var t = [];
        return this.forEach((function(n, r) {
            e(n, r) && t.push(n)
        })), t
    }, yr.prototype.getAll = function() {
        return this.filter((function(e) {
            return e
        }))
    }, yr.prototype.forEach = function(e) {
        var t = this._elements;
        Object.keys(t).forEach((function(n) {
            var r = t[n],
                o = r.element,
                i = r.gfx;
            return e(o, i)
        }))
    }, yr.prototype.getGraphics = function(e, t) {
        var n = e.id || e,
            r = this._elements[n];
        return r && (t ? r.secondaryGfx : r.gfx)
    }, yr.prototype._validateId = function(e) {
        if (!e) throw new Error("element must have an id");
        if (this._elements[e]) throw new Error("element with id " + e + " already added")
    };
    var mr = n(2),
        vr = n.n(mr),
        gr = new vr.a({
            name: "children",
            enumerable: !0,
            collection: !0
        }, {
            name: "parent"
        }),
        br = new vr.a({
            name: "labels",
            enumerable: !0,
            collection: !0
        }, {
            name: "labelTarget"
        }),
        _r = new vr.a({
            name: "attachers",
            collection: !0
        }, {
            name: "host"
        }),
        wr = new vr.a({
            name: "outgoing",
            collection: !0
        }, {
            name: "source"
        }),
        xr = new vr.a({
            name: "incoming",
            collection: !0
        }, {
            name: "target"
        });

    function Er() {
        Object.defineProperty(this, "businessObject", {
            writable: !0
        }), Object.defineProperty(this, "label", {
            get: function() {
                return this.labels[0]
            },
            set: function(e) {
                var t = this.label,
                    n = this.labels;
                !e && t ? n.remove(t) : n.add(e, 0)
            }
        }), gr.bind(this, "parent"), br.bind(this, "labels"), wr.bind(this, "outgoing"), xr.bind(this, "incoming")
    }

    function Cr() {
        Er.call(this), gr.bind(this, "children"), _r.bind(this, "host"), _r.bind(this, "attachers")
    }

    function Or() {
        Cr.call(this)
    }

    function Sr() {
        Cr.call(this), br.bind(this, "labelTarget")
    }

    function jr() {
        Er.call(this), wr.bind(this, "source"), xr.bind(this, "target")
    }
    en()(Cr, Er), en()(Or, Cr), en()(Sr, Cr), en()(jr, Er);
    var kr = {
        connection: jr,
        shape: Cr,
        label: Sr,
        root: Or
    };

    function Pr() {
        this._uid = 12
    }

    function Tr(e) {
        return e.childNodes[0]
    }

    function Dr(e, t, n) {
        var r = In();
        r.setTranslate(t, n), Un(e, r)
    }

    function Rr(e, t) {
        this._eventBus = e, this._elementRegistry = t
    }

    function Mr(e, t, n) {
        var r = n || t.firstChild;
        e !== r && t.insertBefore(e, r)
    }
    Pr.prototype.createRoot = function(e) {
        return this.create("root", e)
    }, Pr.prototype.createLabel = function(e) {
        return this.create("label", e)
    }, Pr.prototype.createShape = function(e) {
        return this.create("shape", e)
    }, Pr.prototype.createConnection = function(e) {
        return this.create("connection", e)
    }, Pr.prototype.create = function(e, t) {
        return (t = I({}, t || {})).id || (t.id = e + "_" + this._uid++),
            function(e, t) {
                var n = kr[e];
                if (!n) throw new Error("unknown type: <" + e + ">");
                return I(new n, t)
            }(e, t)
    }, Rr.$inject = ["eventBus", "elementRegistry"], Rr.prototype._getChildrenContainer = function(e) {
        var t, n = this._elementRegistry.getGraphics(e);
        return e.parent ? (t = function(e) {
            return e.parentNode.childNodes[1]
        }(n)) || (On(t = Mn("g")).add("djs-children"), vn(n.parentNode, t)) : t = n, t
    }, Rr.prototype._clear = function(e) {
        var t = Tr(e);
        return st(t), t
    }, Rr.prototype._createContainer = function(e, t, n, r) {
        var o = Mn("g");
        On(o).add("djs-group"), void 0 !== n ? Mr(o, t, t.childNodes[n]) : vn(t, o);
        var i = Mn("g");
        On(i).add("djs-element"), On(i).add("djs-" + e), r && On(i).add("djs-frame"), vn(o, i);
        var a = Mn("g");
        return On(a).add("djs-visual"), vn(i, a), i
    }, Rr.prototype.create = function(e, t, n) {
        var r = this._getChildrenContainer(t.parent);
        return this._createContainer(e, r, n, tr(t))
    }, Rr.prototype.updateContainments = function(e) {
        var t = this,
            n = this._elementRegistry;
        v(g(e, (function(e, t) {
            return t.parent && (e[t.parent.id] = t.parent), e
        }), {}), (function(e) {
            var r = e.children;
            if (r) {
                var o = t._getChildrenContainer(e);
                v(r.slice().reverse(), (function(e) {
                    Mr(n.getGraphics(e).parentNode, o)
                }))
            }
        }))
    }, Rr.prototype.drawShape = function(e, t) {
        return this._eventBus.fire("render.shape", {
            gfx: e,
            element: t
        })
    }, Rr.prototype.getShapePath = function(e) {
        return this._eventBus.fire("render.getShapePath", e)
    }, Rr.prototype.drawConnection = function(e, t) {
        return this._eventBus.fire("render.connection", {
            gfx: e,
            element: t
        })
    }, Rr.prototype.getConnectionPath = function(e) {
        return this._eventBus.fire("render.getConnectionPath", e)
    }, Rr.prototype.update = function(e, t, n) {
        if (t.parent) {
            var r = this._clear(n);
            if ("shape" === e) this.drawShape(r, t), Dr(n, t.x, t.y);
            else {
                if ("connection" !== e) throw new Error("unknown type: " + e);
                this.drawConnection(r, t)
            }
            t.hidden ? _n(n, "display", "none") : _n(n, "display", "block")
        }
    }, Rr.prototype.remove = function(e) {
        jn(this._elementRegistry.getGraphics(e).parentNode)
    };
    var Ar = {
        __depends__: [or],
        __init__: ["canvas"],
        canvas: ["type", fr],
        elementRegistry: ["type", yr],
        elementFactory: ["type", Pr],
        eventBus: ["type", V],
        graphicsFactory: ["type", Rr]
    };

    function Nr(e) {
        var t = [],
            n = [];

        function r(e) {
            return t.indexOf(e) >= 0
        }
        e.forEach((function e(o) {
            r(o) || ((o.__depends__ || []).forEach(e), r(o) || (! function(e) {
                t.push(e)
            }(o), (o.__init__ || []).forEach((function(e) {
                n.push(e)
            }))))
        }));
        var o = new fn(t);
        return n.forEach((function(e) {
            try {
                o["string" == typeof e ? "get" : "invoke"](e)
            } catch (e) {
                throw console.error("Failed to instantiate component"), console.error(e.stack), e
            }
        })), o
    }

    function Ir(e, t) {
        this.injector = t = t || function(e) {
            return Nr([{
                config: ["value", e = e || {}]
            }, Ar].concat(e.modules || []))
        }(e), this.get = t.get, this.invoke = t.invoke, this.get("eventBus").fire("diagram.init")
    }
    Ir.prototype.destroy = function() {
        this.get("eventBus").fire("diagram.destroy")
    }, Ir.prototype.clear = function() {
        this.get("eventBus").fire("diagram.clear")
    };
    var Lr = new vr.a({
        name: "dmnElementRef",
        enumerable: !0
    }, {
        name: "di",
        configurable: !0
    });

    function Br(e, t) {
        var n = [];

        function r(t) {
            try {
                return t.di && function(t) {
                    if (t.gfx) throw new Error("already rendered " + t.id);
                    return e.element(t)
                }(t)
            } catch (e) {
                a(e.message, {
                    element: t,
                    error: e
                })
            }
        }

        function o(e) {
            var t, n;
            (n = (t = e).dmnElementRef) ? n.di ? a("multiple DI elements defined for element", {
                element: n
            }) : (Lr.bind(n, "di"), n.di = t): a("no DMN element referenced in element", {
                element: t
            })
        }

        function i(e) {
            n.push(e)
        }

        function a(t, n) {
            e.error(t, n)
        }
        return {
            handleDefinitions: function(t, a) {
                var s = t.dmnDI;
                if (!s) throw new Error("no dmndi:DMNDI");
                var u, c = s.diagrams || [];
                if (a && -1 === c.indexOf(a)) throw new Error("diagram not part of dmndi:DMNDI");
                if (!a && c && c.length && (a = c[0]), !a) throw new Error("no diagram to display");
                t.di = a,
                    function(e) {
                        v(e.diagramElements, o)
                    }(a), u = t, e.root(u), v(t.get("drgElement"), (function(e) {
                        r(e),
                            function(e) {
                                v(["informationRequirement", "knowledgeRequirement", "authorityRequirement"], (function(t) {
                                    v(e[t], (function(e) {
                                        i((function() {
                                            r(e)
                                        }))
                                    }))
                                }))
                            }(e)
                    })),
                    function(e) {
                        v(e, (function(e) {
                            Vt(e, "dmn:Association") ? function(e) {
                                i((function() {
                                    r(e)
                                }))
                            }(e) : r(e)
                        }))
                    }(t.get("artifact")), v(n, (function(e) {
                        e()
                    }))
            }
        }
    }

    function $r(e, t, n, r) {
        hn.call(this, e);
        var o = {};

        function i(e) {
            return "url(#" + o[e].id + ")"
        }

        function a(e) {
            function t(t, n) {
                var r = I({
                        strokeWidth: 1,
                        strokeLinecap: "round",
                        strokeDasharray: "none"
                    }, n.attrs),
                    i = n.ref || {
                        x: 0,
                        y: 0
                    },
                    a = n.scale || 1;
                "none" === r.strokeDasharray && (r.strokeDasharray = [1e4, 1]);
                var s = Mn("marker");
                _n(n.element, r), vn(s, n.element), _n(s, {
                    id: t,
                    viewBox: "0 0 20 20",
                    refX: i.x,
                    refY: i.y,
                    markerWidth: 20 * a,
                    markerHeight: 20 * a,
                    orient: "auto"
                });
                var u = xt("defs", e);
                return u || (u = Mn("defs"), vn(e, u)), vn(u, s),
                    function(e, t) {
                        o[e] = t
                    }(t, s)
            }
            var n = Mn("path");
            _n(n, {
                d: "M 11 5 L 1 10 L 11 15"
            }), t("association-start", {
                element: n,
                attrs: {
                    fill: "none",
                    stroke: "black",
                    strokeWidth: 1.5
                },
                ref: {
                    x: 1,
                    y: 10
                },
                scale: .5
            });
            var r = Mn("path");
            _n(r, {
                d: "M 1 5 L 11 10 L 1 15"
            }), t("association-end", {
                element: r,
                attrs: {
                    fill: "none",
                    stroke: "black",
                    strokeWidth: 1.5
                },
                ref: {
                    x: 12,
                    y: 10
                },
                scale: .5
            });
            var i = Mn("path");
            _n(i, {
                d: "M 1 5 L 11 10 L 1 15 Z"
            }), t("information-requirement-end", {
                element: i,
                ref: {
                    x: 11,
                    y: 10
                },
                scale: 1
            });
            var a = Mn("path");
            _n(a, {
                d: "M 1 3 L 11 10 L 1 17"
            }), t("knowledge-requirement-end", {
                element: a,
                attrs: {
                    fill: "none",
                    stroke: "black",
                    strokeWidth: 2
                },
                ref: {
                    x: 11,
                    y: 10
                },
                scale: .8
            });
            var s = Mn("circle");
            _n(s, {
                cx: 3,
                cy: 3,
                r: 3
            }), t("authority-requirement-end", {
                element: s,
                ref: {
                    x: 3,
                    y: 3
                },
                scale: .9
            })
        }

        function s(e, t, r) {
            return c(t) || (r = t, t = []), n.style(t || [], I(r, e || {}))
        }

        function u(e, t, n, r, o, i) {
            l(o) && (i = o, o = 0), o = o || 0, i = s(i, {
                stroke: "black",
                strokeWidth: 2,
                fill: "white"
            });
            var a = Mn("rect");
            return _n(a, {
                x: o,
                y: o,
                width: t - 2 * o,
                height: n - 2 * o,
                rx: r,
                ry: r
            }), _n(a, i), vn(e, a), a
        }

        function p(e, t, n) {
            var o = r.createText(t || "", n);
            return et(o, "class", "djs-label"), vn(e, o), o
        }

        function f(e, t, n) {
            return p(e, function(e) {
                return qt(e).name
            }(t), {
                box: t,
                align: n,
                padding: 5
            })
        }

        function d(e, t, n) {
            n = s(n, ["no-fill"], {
                strokeWidth: 2,
                stroke: "black"
            });
            var r = Mn("path");
            return _n(r, {
                d: t
            }), _n(r, n), vn(e, r), r
        }
        var h = {
            "dmn:Decision": function(e, t, n) {
                var r = u(e, t.width, t.height, 0, n);
                return f(e, t, "center-middle"), r
            },
            "dmn:KnowledgeSource": function(e, n, r) {
                var o = d(e, t.getScaledPath("KNOWLEDGE_SOURCE", {
                    xScaleFactor: 1.021,
                    yScaleFactor: 1,
                    containerWidth: n.width,
                    containerHeight: n.height,
                    position: {
                        mx: 0,
                        my: .075
                    }
                }), {
                    strokeWidth: 2,
                    fill: "white",
                    stroke: "black"
                });
                return f(e, n, "center-middle"), o
            },
            "dmn:BusinessKnowledgeModel": function(e, n, r) {
                var o = d(e, t.getScaledPath("BUSINESS_KNOWLEDGE_MODEL", {
                    xScaleFactor: 1,
                    yScaleFactor: 1,
                    containerWidth: n.width,
                    containerHeight: n.height,
                    position: {
                        mx: 0,
                        my: .3
                    }
                }), {
                    strokeWidth: 2,
                    fill: "white",
                    stroke: "black"
                });
                return f(e, n, "center-middle"), o
            },
            "dmn:InputData": function(e, t, n) {
                var r = u(e, t.width, t.height, 22, n);
                return f(e, t, "center-middle"), r
            },
            "dmn:TextAnnotation": function(e, n, r) {
                var o = u(e, n.width, n.height, 0, 0, {
                    fill: "none",
                    stroke: "none"
                });
                return d(e, t.getScaledPath("TEXT_ANNOTATION", {
                    xScaleFactor: 1,
                    yScaleFactor: 1,
                    containerWidth: n.width,
                    containerHeight: n.height,
                    position: {
                        mx: 0,
                        my: 0
                    }
                })), p(e, Vr(n).text || "", {
                    box: n,
                    align: "left-top",
                    padding: 5
                }), o
            },
            "dmn:Association": function(e, t, n) {
                var r = Vr(t);
                return n = I({
                    strokeDasharray: "0.5, 5",
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    fill: "none"
                }, n || {}), "One" !== r.associationDirection && "Both" !== r.associationDirection || (n.markerEnd = i("association-end")), "Both" === r.associationDirection && (n.markerStart = i("association-start")), y(e, t.waypoints, n)
            },
            "dmn:InformationRequirement": function(e, t, n) {
                return n = I({
                    strokeWidth: 1,
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    markerEnd: i("information-requirement-end")
                }, n || {}), y(e, t.waypoints, n)
            },
            "dmn:KnowledgeRequirement": function(e, t, n) {
                return n = I({
                    strokeWidth: 1,
                    strokeDasharray: 5,
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    markerEnd: i("knowledge-requirement-end")
                }, n || {}), y(e, t.waypoints, n)
            },
            "dmn:AuthorityRequirement": function(e, t, n) {
                return n = I({
                    strokeWidth: 1.5,
                    strokeDasharray: 5,
                    strokeLinecap: "round",
                    strokeLinejoin: "round",
                    markerEnd: i("authority-requirement-end")
                }, n || {}), y(e, t.waypoints, n)
            }
        };

        function y(e, t, n) {
            var r = Kn(t, n = s(n, ["no-fill"], {
                stroke: "black",
                strokeWidth: 2,
                fill: "none"
            }));
            return vn(e, r), r
        }
        this.canRender = function(e) {
            return Vt(e, "dmn:DMNElement") || Vt(e, "dmn:InformationRequirement") || Vt(e, "dmn:KnowledgeRequirement") || Vt(e, "dmn:AuthorityRequirement")
        }, this.drawShape = function(e, t) {
            var n = h[t.type];
            return n ? n(e, t) : hn.prototype.drawShape.apply(this, [e, t])
        }, this.drawConnection = function(e, t) {
            var n = t.type,
                r = h[n];
            return r ? r(e, t) : hn.prototype.drawConnection.apply(this, [e, t])
        }, e.on("canvas.init", (function(e) {
            a(e.svg)
        }))
    }

    function Vr(e) {
        return e.businessObject
    }
    en()($r, hn), $r.$inject = ["eventBus", "pathMap", "styles", "textRenderer"];
    var zr = {
        width: 150,
        height: 50
    };

    function Fr(e, t) {
        var n;
        t.textContent = e;
        try {
            var r, o = "" === e;
            return t.textContent = o ? "dummy" : e, r = {
                width: (n = t.getBBox()).width + 2 * n.x,
                height: n.height
            }, o && (r.width = 0), r
        } catch (e) {
            return {
                width: 0,
                height: 0
            }
        }
    }

    function qr(e, t, n) {
        for (var r, o = e.shift(), i = o;;) {
            if ((r = Fr(i, n)).width = i ? r.width : 0, " " === i || "" === i || r.width < Math.round(t) || i.length < 2) return Hr(e, i, o, r);
            i = Ur(i, r.width, t)
        }
    }

    function Hr(e, t, n, r) {
        if (t.length < n.length) {
            var o = n.slice(t.length).trim();
            e.unshift(o)
        }
        return {
            width: r.width,
            height: r.height,
            text: t
        }
    }

    function Ur(e, t, n) {
        var r = Math.max(e.length * (n / t), 1),
            o = function(e, t) {
                var n, r = e.split(/(\s|-)/g),
                    o = [],
                    i = 0;
                if (r.length > 1)
                    for (; n = r.shift();) {
                        if (!(n.length + i < t)) {
                            "-" === n && o.pop();
                            break
                        }
                        o.push(n), i += n.length
                    }
                return o.join("")
            }(e, r);
        return o || (o = e.slice(0, Math.max(Math.round(r - 1), 1))), o
    }

    function Wr(e) {
        this._config = I({}, {
            size: zr,
            padding: 0,
            style: {},
            align: "center-top"
        }, e || {})
    }
    Wr.prototype.createText = function(e, t) {
        return this.layoutText(e, t).element
    }, Wr.prototype.getDimensions = function(e, t) {
        return this.layoutText(e, t).dimensions
    }, Wr.prototype.layoutText = function(e, t) {
        var n = I({}, this._config.size, t.box),
            r = I({}, this._config.style, t.style),
            o = function(e) {
                var t = e.split("-");
                return {
                    horizontal: t[0] || "center",
                    vertical: t[1] || "top"
                }
            }(t.align || this._config.align),
            i = function(e) {
                return l(e) ? I({
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0
                }, e) : {
                    top: e,
                    left: e,
                    right: e,
                    bottom: e
                }
            }(void 0 !== t.padding ? t.padding : this._config.padding),
            a = t.fitBox || !1,
            s = function(e) {
                if ("fontSize" in e && "lineHeight" in e) return e.lineHeight * parseInt(e.fontSize, 10)
            }(r),
            u = e.split(/\r?\n/g),
            c = [],
            p = n.width - i.left - i.right,
            f = Mn("text");
        for (_n(f, {
                x: 0,
                y: 0
            }), _n(f, r), vn(function() {
                var e = document.getElementById("helper-svg");
                return e || (_n(e = Mn("svg"), {
                    id: "helper-svg",
                    width: 0,
                    height: 0,
                    style: "visibility: hidden; position: fixed"
                }), document.body.appendChild(e)), e
            }(), f); u.length;) c.push(qr(u, p, f));
        "middle" === o.vertical && (i.top = i.bottom = 0);
        var d = g(c, (function(e, t, n) {
                return e + (s || t.height)
            }), 0) + i.top + i.bottom,
            h = g(c, (function(e, t, n) {
                return t.width > e ? t.width : e
            }), 0),
            y = i.top;
        "middle" === o.vertical && (y += (n.height - d) / 2), y -= (s || c[0].height) / 4;
        var m = Mn("text");
        return _n(m, r), v(c, (function(e) {
            var t;
            switch (y += s || e.height, o.horizontal) {
                case "left":
                    t = i.left;
                    break;
                case "right":
                    t = (a ? h : p) - i.right - e.width;
                    break;
                default:
                    t = Math.max(((a ? h : p) - e.width) / 2 + i.left, 0)
            }
            var n = Mn("tspan");
            _n(n, {
                x: t,
                y: y
            }), n.textContent = e.text, vn(m, n)
        })), jn(f), {
            dimensions: {
                width: h,
                height: d
            },
            element: m
        }
    };

    function Gr(e) {
        var t = I({
                fontFamily: "Arial, sans-serif",
                fontSize: 12,
                fontWeight: "normal",
                lineHeight: 1.2
            }, e && e.defaultStyle || {}),
            n = parseInt(t.fontSize, 10) - 1,
            r = I({}, t, {
                fontSize: n
            }, e && e.externalStyle || {}),
            o = new Wr({
                style: t
            });
        this.getExternalLabelBounds = function(e, t) {
            var n = o.getDimensions(t, {
                box: {
                    width: 90,
                    height: 30,
                    x: e.width / 2 + e.x,
                    y: e.height / 2 + e.y
                },
                style: r
            });
            return {
                x: Math.round(e.x + e.width / 2 - n.width / 2),
                y: Math.round(e.y),
                width: Math.ceil(n.width),
                height: Math.ceil(n.height)
            }
        }, this.getTextAnnotationBounds = function(e, n) {
            var r = o.getDimensions(n, {
                box: e,
                style: t,
                align: "left-top",
                padding: 5
            });
            return {
                x: e.x,
                y: e.y,
                width: e.width,
                height: Math.max(30, Math.round(r.height))
            }
        }, this.createText = function(e, t) {
            return o.createText(e, t || {})
        }, this.getDefaultStyle = function() {
            return t
        }, this.getExternalStyle = function() {
            return r
        }
    }
    Gr.$inject = ["config.textRenderer"];
    var Kr = /\{([^}]+)\}/g,
        Xr = /(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;
    var Yr = {
        __init__: ["drdRenderer"],
        drdRenderer: ["type", $r],
        textRenderer: ["type", Gr],
        pathMap: ["type", function() {
            this.pathMap = {
                KNOWLEDGE_SOURCE: {
                    d: "m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",
                    width: 100,
                    height: 65,
                    widthElements: [29.8, 48.4, 67.2, 12.2, 19.8, 30.8],
                    heightElements: [55.3, 19.7, 4.2, 6.7, 2.3, 1.6, 6.2, 54.6]
                },
                BUSINESS_KNOWLEDGE_MODEL: {
                    d: "m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",
                    width: 125,
                    height: 45,
                    widthElements: [13.8, 109.2, 13.8, 109.1],
                    heightElements: [13.2, 29.8, 13.2]
                },
                TEXT_ANNOTATION: {
                    d: "m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",
                    width: 10,
                    height: 30,
                    widthElements: [10],
                    heightElements: [30]
                }
            }, this.getRawPath = function(e) {
                return this.pathMap[e].d
            }, this.getScaledPath = function(e, t) {
                var n, r, o = this.pathMap[e];
                t.abspos ? (n = t.abspos.x, r = t.abspos.y) : (n = t.containerWidth * t.position.mx, r = t.containerHeight * t.position.my);
                var i, a, s = {};
                if (t.position) {
                    for (var u = t.containerHeight / o.height * t.yScaleFactor, c = t.containerWidth / o.width * t.xScaleFactor, l = 0; l < o.heightElements.length; l++) s["y" + l] = o.heightElements[l] * u;
                    for (var p = 0; p < o.widthElements.length; p++) s["x" + p] = o.widthElements[p] * c
                }
                return i = o.d, a = {
                    mx: n,
                    my: r,
                    e: s
                }, String(i).replace(Kr, (function(e, t) {
                    return function(e, t, n) {
                        var r = n;
                        return t.replace(Xr, (function(e, t, n, o, i) {
                            t = t || o, r && (t in r && (r = r[t]), "function" == typeof r && i && (r = r()))
                        })), r = (null == r || r == n ? e : r) + ""
                    }(e, t, a)
                }))
            }
        }]
    };

    function Jr(e, t, n, r) {
        this._eventBus = e, this._canvas = t, this._elementRegistry = r, this._elementFactory = n
    }

    function Zr(e, t) {
        return I({
            id: e.id,
            type: e.$type,
            businessObject: e
        }, t)
    }

    function Qr(e) {
        return e.split("#").pop()
    }
    Jr.$inject = ["eventBus", "canvas", "elementFactory", "elementRegistry"], Jr.prototype.root = function(e) {
        var t = this._elementFactory.createRoot(Zr(e));
        return this._canvas.setRootElement(t), t
    }, Jr.prototype.add = function(e) {
        var t, n, r, o, i, a, s = this._elementFactory,
            u = this._canvas,
            c = this._eventBus,
            l = e.di;
        if (l.$instanceOf("dmndi:DMNShape")) a = l.bounds, i = Zr(e, {
            x: Math.round(a.x),
            y: Math.round(a.y),
            width: Math.round(a.width),
            height: Math.round(a.height)
        }), t = s.createShape(i), u.addShape(t), c.fire("drdElement.added", {
            element: t,
            di: l
        });
        else {
            if (!l.$instanceOf("dmndi:DMNEdge")) throw new Error("unknown di for element " + e.id);
            n = function(e) {
                var t = e.waypoint;
                if (t) return w(t, (function(e) {
                    var t = {
                        x: e.x,
                        y: e.y
                    };
                    return I({
                        original: t
                    }, t)
                }))
            }(l), r = this._getSource(e), o = this._getTarget(e), r && o && (i = Zr(e, {
                hidden: !1,
                source: r,
                target: o,
                waypoints: n
            }), t = s.createConnection(i), u.addConnection(t), c.fire("drdElement.added", {
                element: t,
                di: l
            }))
        }
        return t
    }, Jr.prototype._getSource = function(e) {
        var t, n;
        if (Vt(e, "dmn:Association") ? n = e.sourceRef : Vt(e, "dmn:InformationRequirement") ? n = e.requiredDecision || e.requiredInput : Vt(e, "dmn:KnowledgeRequirement") ? n = e.requiredKnowledge : Vt(e, "dmn:AuthorityRequirement") && (n = e.requiredDecision || e.requiredInput || e.requiredAuthority), n && (t = n.href), t) return this._getShape(Qr(t))
    }, Jr.prototype._getTarget = function(e) {
        return Vt(e, "dmn:Association") ? e.targetRef && this._getShape(Qr(e.targetRef.href)) : this._getShape(e.$parent.id)
    }, Jr.prototype._getShape = function(e) {
        return this._elementRegistry.get(e)
    };
    var eo = {
        __depends__: [Yr, {
            drdImporter: ["type", Jr]
        }]
    };
    var to = {
        translate: ["value", function(e, t) {
            return t = t || {}, e.replace(/{([^}]+)}/g, (function(e, n) {
                return t[n] || "{" + n + "}"
            }))
        }]
    };

    function no(e) {
        e && "function" == typeof e.stopPropagation && e.stopPropagation()
    }

    function ro(e) {
        return e.originalEvent || e.srcEvent
    }

    function oo(e, t) {
        no(e), no(ro(e))
    }

    function io(e) {
        return e.pointers && e.pointers.length && (e = e.pointers[0]), e.touches && e.touches.length && (e = e.touches[0]), e ? {
            x: e.clientX,
            y: e.clientY
        } : null
    }

    function ao(e) {
        return !(ro(e) || e).button
    }

    function so(e) {
        var t = ro(e) || e;
        return !!ao(e) && (/mac/i.test(navigator.platform) ? t.metaKey : t.ctrlKey)
    }

    function uo(e) {
        return !0
    }

    function co(e, t, n) {
        var r = this;

        function o(n, r, o) {
            var i, a;
            (function(e, t) {
                return !(u[e] || ao)(t)
            })(n, r) || (o ? a = t.getGraphics(o) : (i = r.delegateTarget || r.target) && (a = i, o = t.get(a)), a && o && !1 === e.fire(n, {
                element: o,
                gfx: a,
                originalEvent: r
            }) && (r.stopPropagation(), r.preventDefault()))
        }
        var i = {};

        function a(e) {
            return i[e]
        }
        var s = {
                click: "element.click",
                contextmenu: "element.contextmenu",
                dblclick: "element.dblclick",
                mousedown: "element.mousedown",
                mousemove: "element.mousemove",
                mouseover: "element.hover",
                mouseout: "element.out",
                mouseup: "element.mouseup"
            },
            u = {
                "element.contextmenu": uo
            };

        function c(e, t, n, r) {
            var a = i[n] = function(e) {
                o(n, e)
            };
            r && (u[n] = r), a.$delegate = gt.bind(e, "svg, .djs-element", t, a)
        }

        function l(e, t, n) {
            var r = a(n);
            r && gt.unbind(e, t, r.$delegate)
        }
        e.on("canvas.destroy", (function(e) {
            var t;
            t = e.svg, v(s, (function(e, n) {
                l(t, n, e)
            }))
        })), e.on("canvas.init", (function(e) {
            var t;
            t = e.svg, v(s, (function(e, n) {
                c(t, n, e)
            }))
        })), e.on(["shape.added", "connection.added"], (function(t) {
            var n = t.element,
                r = t.gfx;
            e.fire("interactionEvents.createHit", {
                element: n,
                gfx: r
            })
        })), e.on(["shape.changed", "connection.changed"], 500, (function(t) {
            var n = t.element,
                r = t.gfx;
            e.fire("interactionEvents.updateHit", {
                element: n,
                gfx: r
            })
        })), e.on("interactionEvents.createHit", 500, (function(e) {
            var t = e.element,
                n = e.gfx;
            r.createDefaultHit(t, n)
        })), e.on("interactionEvents.updateHit", (function(e) {
            var t = e.element,
                n = e.gfx;
            r.updateDefaultHit(t, n)
        }));
        var p = h("djs-hit djs-hit-stroke"),
            f = h("djs-hit djs-hit-click-stroke"),
            d = {
                all: h("djs-hit djs-hit-all"),
                "click-stroke": f,
                stroke: p
            };

        function h(e, t) {
            return t = I({
                stroke: "white",
                strokeWidth: 15
            }, t || {}), n.cls(e, ["no-fill", "no-border"], t)
        }

        function y(e, t) {
            var n = d[t];
            if (!n) throw new Error("invalid hit type <" + t + ">");
            return _n(e, n), e
        }

        function m(e, t) {
            vn(e, t)
        }
        this.removeHits = function(e) {
            v(Et(".djs-hit", e), jn)
        }, this.createDefaultHit = function(e, t) {
            var n, r = e.waypoints,
                o = e.isFrame;
            return r ? this.createWaypointsHit(t, r) : (n = o ? "stroke" : "all", this.createBoxHit(t, n, {
                width: e.width,
                height: e.height
            }))
        }, this.createWaypointsHit = function(e, t) {
            var n = Kn(t);
            return y(n, "stroke"), m(e, n), n
        }, this.createBoxHit = function(e, t, n) {
            n = I({
                x: 0,
                y: 0
            }, n);
            var r = Mn("rect");
            return y(r, t), _n(r, n), m(e, r), r
        }, this.updateDefaultHit = function(e, t) {
            var n = xt(".djs-hit", t);
            if (n) return e.waypoints ? function(e, t) {
                _n(e, {
                    points: Gn(t)
                })
            }(n, e.waypoints) : _n(n, {
                width: e.width,
                height: e.height
            }), n
        }, this.fire = o, this.triggerMouseEvent = function(e, t, n) {
            var r = s[e];
            if (!r) throw new Error("unmapped DOM event name <" + e + ">");
            return o(r, t, n)
        }, this.mouseHandler = a, this.registerEvent = c, this.unregisterEvent = l
    }
    co.$inject = ["eventBus", "elementRegistry", "styles"];
    var lo = {
        __init__: ["interactionEvents"],
        interactionEvents: ["type", co]
    };

    function po(e, t, n) {
        this.offset = 6;
        var r = t.cls("djs-outline", ["no-fill"]),
            o = this;

        function i(e, t) {
            var n = Mn("rect");
            return _n(n, I({
                x: 10,
                y: 10,
                width: 100,
                height: 100
            }, r)), vn(e, n), n
        }
        e.on(["shape.added", "shape.changed"], 500, (function(e) {
            var t = e.element,
                n = e.gfx,
                r = xt(".djs-outline", n);
            r || (r = i(n)), o.updateShapeOutline(r, t)
        })), e.on(["connection.added", "connection.changed"], (function(e) {
            var t = e.element,
                n = e.gfx,
                r = xt(".djs-outline", n);
            r || (r = i(n)), o.updateConnectionOutline(r, t)
        }))
    }
    po.prototype.updateShapeOutline = function(e, t) {
        _n(e, {
            x: -this.offset,
            y: -this.offset,
            width: t.width + 2 * this.offset,
            height: t.height + 2 * this.offset
        })
    }, po.prototype.updateConnectionOutline = function(e, t) {
        var n = Qn(t);
        _n(e, {
            x: n.x - this.offset,
            y: n.y - this.offset,
            width: n.width + 2 * this.offset,
            height: n.height + 2 * this.offset
        })
    }, po.$inject = ["eventBus", "styles", "elementRegistry"];
    var fo = {
        __init__: ["outline"],
        outline: ["type", po]
    };

    function ho(e) {
        this._eventBus = e, this._selectedElements = [];
        var t = this;
        e.on(["shape.remove", "connection.remove"], (function(e) {
            var n = e.element;
            t.deselect(n)
        })), e.on(["diagram.clear"], (function(e) {
            t.select(null)
        }))
    }
    ho.$inject = ["eventBus"], ho.prototype.deselect = function(e) {
        var t = this._selectedElements,
            n = t.indexOf(e);
        if (-1 !== n) {
            var r = t.slice();
            t.splice(n, 1), this._eventBus.fire("selection.changed", {
                oldSelection: r,
                newSelection: t
            })
        }
    }, ho.prototype.get = function() {
        return this._selectedElements
    }, ho.prototype.isSelected = function(e) {
        return -1 !== this._selectedElements.indexOf(e)
    }, ho.prototype.select = function(e, t) {
        var n = this._selectedElements,
            r = n.slice();
        c(e) || (e = e ? [e] : []), t ? v(e, (function(e) {
            -1 === n.indexOf(e) && n.push(e)
        })) : this._selectedElements = n = e.slice(), this._eventBus.fire("selection.changed", {
            oldSelection: r,
            newSelection: n
        })
    };

    function yo(e, t, n, r) {
        function o(e, n) {
            t.addMarker(e, n)
        }

        function i(e, n) {
            t.removeMarker(e, n)
        }
        this._multiSelectionBox = null, e.on("element.hover", (function(e) {
            o(e.element, "hover")
        })), e.on("element.out", (function(e) {
            i(e.element, "hover")
        })), e.on("selection.changed", (function(e) {
            var t = e.oldSelection,
                n = e.newSelection;
            v(t, (function(e) {
                -1 === n.indexOf(e) && i(e, "selected")
            })), v(n, (function(e) {
                -1 === t.indexOf(e) && o(e, "selected")
            }))
        }))
    }

    function mo(e, t, n, r) {
        e.on("create.end", 500, (function(e) {
            var n = e.context,
                r = n.canExecute,
                o = n.elements,
                i = (n.hints || {}).autoSelect;
            if (r) {
                if (!1 === i) return;
                c(i) ? t.select(i) : t.select(o.filter(vo))
            }
        })), e.on("connect.end", 500, (function(e) {
            e.context.canExecute && e.context.hover && t.select(e.context.hover)
        })), e.on("shape.move.end", 500, (function(e) {
            var n = e.previousSelection || [],
                o = r.get(e.context.shape.id);
            y(n, (function(e) {
                return o.id === e.id
            })) || t.select(o)
        })), e.on("element.click", (function(e) {
            var r = e.element;
            r === n.getRootElement() && (r = null);
            var o = t.isSelected(r),
                i = t.get().length > 1,
                a = so(e);
            if (o && i) return a ? t.deselect(r) : t.select(r);
            o ? t.deselect(r) : t.select(r, a)
        }))
    }

    function vo(e) {
        return !e.hidden
    }
    yo.$inject = ["eventBus", "canvas", "selection", "styles"], mo.$inject = ["eventBus", "selection", "canvas", "elementRegistry"];
    var go = {
        __init__: ["selectionVisuals", "selectionBehavior"],
        __depends__: [lo, fo],
        selection: ["type", ho],
        selectionVisuals: ["type", yo],
        selectionBehavior: ["type", mo]
    };

    function bo(e) {
        this._counter = 0, this._prefix = (e ? e + "-" : "") + Math.floor(1e9 * Math.random()) + "-"
    }
    bo.prototype.next = function() {
        return this._prefix + ++this._counter
    };
    var _o = new bo("ov");

    function wo(e, t, n, r) {
        var o, i;
        this._eventBus = t, this._canvas = n, this._elementRegistry = r, this._ids = _o, this._overlayDefaults = I({
            show: null,
            scale: !0
        }, e && e.defaults), this._overlays = {}, this._overlayContainers = [], this._overlayRoot = (o = n.getContainer(), i = bt('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />'), o.insertBefore(i, o.firstChild), i), this._init()
    }

    function xo(e, t, n) {
        I(e.style, {
            left: t + "px",
            top: n + "px"
        })
    }

    function Eo(e, t) {
        e.style.display = !1 === t ? "none" : ""
    }

    function Co(e, t) {
        e.style["transform-origin"] = "top left", ["", "-ms-", "-webkit-"].forEach((function(n) {
            e.style[n + "transform"] = t
        }))
    }
    wo.$inject = ["config.overlays", "eventBus", "canvas", "elementRegistry"], wo.prototype.get = function(e) {
        if (d(e) && (e = {
                id: e
            }), d(e.element) && (e.element = this._elementRegistry.get(e.element)), e.element) {
            var t = this._getOverlayContainer(e.element, !0);
            return t ? e.type ? m(t.overlays, k({
                type: e.type
            })) : t.overlays.slice() : []
        }
        return e.type ? m(this._overlays, k({
            type: e.type
        })) : e.id ? this._overlays[e.id] : null
    }, wo.prototype.add = function(e, t, n) {
        if (l(t) && (n = t, t = null), e.id || (e = this._elementRegistry.get(e)), !n.position) throw new Error("must specifiy overlay position");
        if (!n.html) throw new Error("must specifiy overlay html");
        if (!e) throw new Error("invalid element specified");
        var r = this._ids.next();
        return n = I({}, this._overlayDefaults, n, {
            id: r,
            type: t,
            element: e,
            html: n.html
        }), this._addOverlay(n), r
    }, wo.prototype.remove = function(e) {
        var t = this.get(e) || [];
        c(t) || (t = [t]);
        var n = this;
        v(t, (function(e) {
            var t = n._getOverlayContainer(e.element, !0);
            if (e && (Ct(e.html), Ct(e.htmlContainer), delete e.htmlContainer, delete e.element, delete n._overlays[e.id]), t) {
                var r = t.overlays.indexOf(e); - 1 !== r && t.overlays.splice(r, 1)
            }
        }))
    }, wo.prototype.show = function() {
        Eo(this._overlayRoot)
    }, wo.prototype.hide = function() {
        Eo(this._overlayRoot, !1)
    }, wo.prototype.clear = function() {
        this._overlays = {}, this._overlayContainers = [], st(this._overlayRoot)
    }, wo.prototype._updateOverlayContainer = function(e) {
        var t = e.element,
            n = e.html,
            r = t.x,
            o = t.y;
        if (t.waypoints) {
            var i = Qn(t);
            r = i.x, o = i.y
        }
        xo(n, r, o), et(e.html, "data-container-id", t.id)
    }, wo.prototype._updateOverlay = function(e) {
        var t, n, r = e.position,
            o = e.htmlContainer,
            i = e.element,
            a = r.left,
            s = r.top;
        void 0 !== r.right && (t = i.waypoints ? Qn(i).width : i.width, a = -1 * r.right + t);
        void 0 !== r.bottom && (n = i.waypoints ? Qn(i).height : i.height, s = -1 * r.bottom + n);
        xo(o, a || 0, s || 0)
    }, wo.prototype._createOverlayContainer = function(e) {
        var t = bt('<div class="djs-overlays" style="position: absolute" />');
        this._overlayRoot.appendChild(t);
        var n = {
            html: t,
            element: e,
            overlays: []
        };
        return this._updateOverlayContainer(n), this._overlayContainers.push(n), n
    }, wo.prototype._updateRoot = function(e) {
        var t = e.scale || 1,
            n = "matrix(" + [t, 0, 0, t, -1 * e.x * t, -1 * e.y * t].join(",") + ")";
        Co(this._overlayRoot, n)
    }, wo.prototype._getOverlayContainer = function(e, t) {
        var n = y(this._overlayContainers, (function(t) {
            return t.element === e
        }));
        return n || t ? n : this._createOverlayContainer(e)
    }, wo.prototype._addOverlay = function(e) {
        var t, n, r = e.id,
            o = e.element,
            i = e.html;
        i.get && i.constructor.prototype.jquery && (i = i.get(0)), d(i) && (i = bt(i)), n = this._getOverlayContainer(o), (t = bt('<div class="djs-overlay" data-overlay-id="' + r + '" style="position: absolute">')).appendChild(i), e.type && it(t).add("djs-overlay-" + e.type), e.htmlContainer = t, n.overlays.push(e), n.html.appendChild(t), this._overlays[r] = e, this._updateOverlay(e), this._updateOverlayVisibilty(e, this._canvas.viewbox())
    }, wo.prototype._updateOverlayVisibilty = function(e, t) {
        var n = e.show,
            r = n && n.minZoom,
            o = n && n.maxZoom,
            i = e.htmlContainer,
            a = !0;
        n && ((s(r) && r > t.scale || s(o) && o < t.scale) && (a = !1), Eo(i, a)), this._updateOverlayScale(e, t)
    }, wo.prototype._updateOverlayScale = function(e, t) {
        var n, r, o, i = e.scale,
            a = e.htmlContainer,
            u = "";
        !0 !== i && (!1 === i ? (n = 1, r = 1) : (n = i.min, r = i.max), s(n) && t.scale < n && (o = (1 / t.scale || 1) * n), s(r) && t.scale > r && (o = (1 / t.scale || 1) * r)), s(o) && (u = "scale(" + o + "," + o + ")"), Co(a, u)
    }, wo.prototype._updateOverlaysVisibilty = function(e) {
        var t = this;
        v(this._overlays, (function(n) {
            t._updateOverlayVisibilty(n, e)
        }))
    }, wo.prototype._init = function() {
        var e = this._eventBus,
            t = this;
        e.on("canvas.viewbox.changing", (function(e) {
            t.hide()
        })), e.on("canvas.viewbox.changed", (function(e) {
            var n;
            n = e.viewbox, t._updateRoot(n), t._updateOverlaysVisibilty(n), t.show()
        })), e.on(["shape.remove", "connection.remove"], (function(e) {
            var n = e.element;
            v(t.get({
                element: n
            }), (function(e) {
                t.remove(e.id)
            }));
            var r = t._getOverlayContainer(n);
            if (r) {
                Ct(r.html);
                var o = t._overlayContainers.indexOf(r); - 1 !== o && t._overlayContainers.splice(o, 1)
            }
        })), e.on("element.changed", 500, (function(e) {
            var n = e.element,
                r = t._getOverlayContainer(n, !0);
            r && (v(r.overlays, (function(e) {
                t._updateOverlay(e)
            })), t._updateOverlayContainer(r))
        })), e.on("element.marker.update", (function(e) {
            var n = t._getOverlayContainer(e.element, !0);
            n && it(n.html)[e.add ? "add" : "remove"](e.marker)
        })), e.on("diagram.clear", this.clear, this)
    };
    var Oo = {
        __init__: ["overlays"],
        overlays: ["type", wo]
    };

    function So(e, t) {
        this._eventBus = e, this._canvas = t, e.on("diagram.init", (function() {
            this._init()
        }), this), e.on("import.done", (function(e) {
            e.error || this.update()
        }), this)
    }

    function jo(e, t) {
        function n(e, n) {
            it(t.getContainer()).toggle(e, n)
        }
        e.on("palette.create", (function() {
            n("with-palette", !0)
        })), e.on("palette.changed", (function(e) {
            n("with-palette-two-column", e.twoColumn)
        }))
    }
    So.$inject = ["eventBus", "canvas"], So.prototype._init = function() {
        var e = this._canvas,
            t = this._eventBus,
            n = e.getContainer(),
            r = this._container = bt(So.HTML_MARKUP);
        n.appendChild(r), this.nameElement = xt(".dmn-definitions-name", this._container), this.idElement = xt(".dmn-definitions-id", this._container), gt.bind(r, ".dmn-definitions-name, .dmn-definitions-id", "mousedown", (function(e) {
            e.stopPropagation()
        })), t.fire("definitionIdView.create", {
            html: r
        })
    }, So.prototype.update = function() {
        var e = this._canvas.getRootElement().businessObject;
        this.nameElement.textContent = e.name, this.idElement.textContent = e.id
    }, So.HTML_MARKUP = '<div class="dmn-definitions"><div class="dmn-definitions-name" title="Definition Name"></div><div class="dmn-definitions-id" title="Definition ID"></div></div>', jo.$inject = ["eventBus", "canvas"];
    var ko = {
        __init__: ["definitionPropertiesView", "definitionPropertiesPaletteAdapter"],
        definitionPropertiesView: ["type", So],
        definitionPropertiesPaletteAdapter: ["type", jo]
    };

    function Po(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var To = [{
            className: "dmn-icon-decision-table",
            matches: function(e) {
                var t = e.businessObject;
                return Vt(t, "dmn:Decision") && Vt(t.decisionLogic, "dmn:DecisionTable")
            }
        }, {
            className: "dmn-icon-literal-expression",
            matches: function(e) {
                var t = e.businessObject;
                return Vt(t, "dmn:Decision") && Vt(t.decisionLogic, "dmn:LiteralExpression")
            }
        }],
        Do = function() {
            function e(t, n, r, o) {
                var i = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._injector = t, this._eventBus = n, this._overlays = r, this._config = o || {
                    enabled: !0
                }, n.on(["shape.added"], (function(e) {
                    for (var t = e.element, n = 0; n < To.length; n++) {
                        var r = To[n],
                            o = r.matches,
                            a = r.className;
                        o && o(t) && i.addOverlay(t, a)
                    }
                }))
            }
            var t, n, r;
            return t = e, (n = [{
                key: "addOverlay",
                value: function(e, t) {
                    var n = bt('\n      <div class="drill-down-overlay">\n        <span class="'.concat(t, '"></span>\n      </div>\n    ')),
                        r = this._overlays.add(e, {
                            position: {
                                top: 2,
                                left: 2
                            },
                            html: n
                        });
                    !1 !== this._config.enabled && (it(n).add("interactive"), this.bindEventListener(e, n, r))
                }
            }, {
                key: "bindEventListener",
                value: function(e, t, n) {
                    var r = this,
                        o = this._overlays,
                        i = this._eventBus,
                        a = o._overlayRoot;
                    gt.bind(a, '[data-overlay-id="' + n + '"]', "click", (function() {
                        !1 !== i.fire("drillDown.click", {
                            element: e
                        }) && r.drillDown(e)
                    }))
                }
            }, {
                key: "drillDown",
                value: function(e) {
                    var t = this._injector.get("_parent", !1);
                    if (!t) return !1;
                    var n = t.getView(e.businessObject);
                    return !!n && (t.open(n), !0)
                }
            }]) && Po(t.prototype, n), r && Po(t, r), e
        }();
    Do.$inject = ["injector", "eventBus", "overlays", "config.drillDown"];
    var Ro = {
            __depends__: [Oo],
            __init__: ["drillDown"],
            drillDown: ["type", Do]
        },
        Mo = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21" style="vertical-align:middle"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';

    function Ao(e) {
        return e.join(";")
    }
    var No, Io = Ao(["color: #404040"]),
        Lo = '<div class="bjs-powered-by-lightbox" style="' + Ao(["z-index: 1001", "position: fixed", "top: 0", "left: 0", "right: 0", "bottom: 0"]) + '"><div class="backdrop" style="' + Ao(["width: 100%", "height: 100%", "background: rgba(40,40,40,0.2)"]) + '"></div><div class="notice" style="' + Ao(["position: absolute", "left: 50%", "top: 40%", "transform: translate(-50%)", "width: 260px", "padding: 10px", "background: white", "box-shadow: 0 1px 4px rgba(0,0,0,0.3)", "font-family: Helvetica, Arial, sans-serif", "font-size: 14px", "display: flex", "line-height: 1.3"]) + '"><a href="https://bpmn.io" target="_blank" rel="noopener" style="margin: 15px 20px 15px 10px; align-self: center;' + Io + '">' + Mo + '</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';

    function Bo(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(e);
            t && (r = r.filter((function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, r)
        }
        return n
    }

    function $o(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? Bo(n, !0).forEach((function(t) {
                Vo(e, t, n[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Bo(n).forEach((function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            }))
        }
        return e
    }

    function Vo(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function zo(e) {
        return function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
        }(e) || function(e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }

    function Fo(e, t) {
        if (null == e) return {};
        var n, r, o = function(e, t) {
            if (null == e) return {};
            var n, r, o = {},
                i = Object.keys(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || (o[n] = e[n]);
            return o
        }(e, t);
        if (Object.getOwnPropertySymbols) {
            var i = Object.getOwnPropertySymbols(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
        }
        return o
    }

    function qo(e) {
        var t, n;
        this._container = this._createContainer(), t = this._container, n = bt('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100; ' + Io + '">' + Mo + "</a>"), t.appendChild(n), yt.bind(n, "click", (function(e) {
            No || (No = bt(Lo), gt.bind(No, ".backdrop", "click", (function(e) {
                document.body.removeChild(No)
            }))), document.body.appendChild(No), e.preventDefault()
        })), this._init(this._container, e)
    }

    function Ho(e) {
        return Math.log(e) / Math.log(10)
    }

    function Uo(e, t) {
        var n = Ho(e.min),
            r = Ho(e.max);
        return (Math.abs(n) + Math.abs(r)) / t
    }
    en()(qo, Ir), qo.prototype.saveSVG = function(e, t) {
        t || (t = e, e = {});
        var n = this.get("canvas"),
            r = n.getDefaultLayer(),
            o = xt("defs", n._svg),
            i = qn(r),
            a = o && o.outerHTML || "",
            s = r.getBBox();
        t(null, '<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with dmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="' + s.width + '" height="' + s.height + '" viewBox="' + s.x + " " + s.y + " " + s.width + " " + s.height + '" version="1.1">' + a + i + "</svg>")
    }, qo.prototype.getModules = function() {
        return this._modules
    }, qo.prototype.destroy = function() {
        Ir.prototype.destroy.call(this), Ct(this._container)
    }, qo.prototype.on = function(e, t, n, r) {
        return this.get("eventBus").on(e, t, n, r)
    }, qo.prototype.off = function(e, t) {
        this.get("eventBus").off(e, t)
    }, qo.prototype._init = function(e, t) {
        var n = t.additionalModules,
            r = t.canvas,
            o = Fo(t, ["additionalModules", "canvas"]),
            i = t.modules || this.getModules(),
            a = [].concat([{
                drd: ["value", this]
            }], zo(i), zo(n || [])),
            s = $o({}, o, {
                canvas: $o({}, r, {
                    container: e
                }),
                modules: a
            });
        Ir.call(this, s), t && t.container && this.attachTo(t.container)
    }, qo.prototype._emit = function(e, t) {
        return this.get("eventBus").fire(e, t)
    }, qo.prototype._createContainer = function() {
        return bt('<div class="dmn-drd-container"></div>')
    }, qo.prototype.open = function(e, t) {
        var n;
        try {
            return this._definitions && this.clear(), this._definitions = e,
                function(e, t, n) {
                    var r, o = e.get("drdImporter"),
                        i = e.get("eventBus"),
                        a = [];
                    i.fire("import.start", {
                        definitions: t
                    });
                    try {
                        ! function(e) {
                            new Br({
                                root: function(e) {
                                    return o.root(e)
                                },
                                element: function(e, t) {
                                    return o.add(e, t)
                                },
                                error: function(e, t) {
                                    a.push({
                                        message: e,
                                        context: t
                                    })
                                }
                            }).handleDefinitions(e)
                        }(t)
                    } catch (e) {
                        r = e
                    }
                    i.fire("import.done", {
                        error: r,
                        warnings: a
                    }), n(r, a)
                }(this, e, t)
        } catch (e) {
            n = e
        }
        return t(n)
    }, qo.prototype.attachTo = function(e) {
        if (!e) throw new Error("parentNode required");
        this.detach();
        var t = this._container;
        e.appendChild(t), this._emit("attach", {}), this.get("canvas").resized()
    }, qo.prototype.detach = function() {
        var e = this._container,
            t = e.parentNode;
        t && (this._emit("detach", {}), t.removeChild(e))
    }, qo.prototype._modules = [eo, to, go, Oo, ko, Ro];
    var Wo = Math.sign || function(e) {
            return e >= 0 ? 1 : -1
        },
        Go = {
            min: .2,
            max: 4
        };

    function Ko(e, t, n) {
        e = e || {}, this._enabled = !1, this._canvas = n, this._container = n._container, this._handleWheel = A(this._handleWheel, this), this._totalDelta = 0, this._scale = e.scale || .75;
        var r = this;
        t.on("canvas.init", (function(t) {
            r._init(!1 !== e.enabled)
        }))
    }
    Ko.$inject = ["config.zoomScroll", "eventBus", "canvas"], Ko.prototype.scroll = function(e) {
        this._canvas.scroll(e)
    }, Ko.prototype.reset = function() {
        this._canvas.zoom("fit-viewport")
    }, Ko.prototype.zoom = function(e, t) {
        var n = Uo(Go, 20);
        this._totalDelta += e, Math.abs(this._totalDelta) > .1 && (this._zoom(e, t, n), this._totalDelta = 0)
    }, Ko.prototype._handleWheel = function(e) {
        if (!pt(e.target, ".djs-scrollable", !0)) {
            var t = this._container;
            e.preventDefault();
            var n, r = e.ctrlKey,
                o = e.shiftKey,
                i = -1 * this._scale;
            if (i *= r ? 0 === e.deltaMode ? .02 : .32 : 0 === e.deltaMode ? 1 : 16, r) {
                var a = t.getBoundingClientRect(),
                    s = {
                        x: e.clientX - a.left,
                        y: e.clientY - a.top
                    };
                n = Math.sqrt(Math.pow(e.deltaY, 2) + Math.pow(e.deltaX, 2)) * Wo(e.deltaY) * i, this.zoom(n, s)
            } else n = o ? {
                dx: i * e.deltaY,
                dy: 0
            } : {
                dx: i * e.deltaX,
                dy: i * e.deltaY
            }, this.scroll(n)
        }
    }, Ko.prototype.stepZoom = function(e, t) {
        var n = Uo(Go, 10);
        this._zoom(e, t, n)
    }, Ko.prototype._zoom = function(e, t, n) {
        var r = this._canvas,
            o = e > 0 ? 1 : -1,
            i = Ho(r.zoom()),
            a = Math.round(i / n) * n;
        a += n * o;
        var s, u, c = Math.pow(10, a);
        r.zoom((s = Go, u = c, Math.max(s.min, Math.min(s.max, u))), t)
    }, Ko.prototype.toggle = function(e) {
        var t = this._container,
            n = this._handleWheel,
            r = this._enabled;
        return void 0 === e && (e = !r), r !== e && yt[e ? "bind" : "unbind"](t, "wheel", n, !1), this._enabled = e, e
    }, Ko.prototype._init = function(e) {
        this.toggle(e)
    };
    var Xo = {
            __init__: ["zoomScroll"],
            zoomScroll: ["type", Ko]
        },
        Yo = /^djs-cursor-.*$/;

    function Jo(e) {
        var t = it(document.body);
        t.removeMatching(Yo), e && t.add("djs-cursor-" + e)
    }

    function Zo() {
        Jo(null)
    }

    function Qo(e, t) {
        function n() {
            return !1
        }
        return t = t || "element.click", e.once(t, 5e3, n),
            function() {
                e.off(t, n)
            }
    }

    function ei(e) {
        return {
            x: e.x + e.width / 2,
            y: e.y + e.height / 2
        }
    }

    function ti(e, t) {
        return {
            x: e.x - t.x,
            y: e.y - t.y
        }
    }

    function ni(e, t) {
        var n;

        function r(r) {
            var o, i = n.start,
                a = io(r),
                s = ti(a, i);
            (!n.dragging && (o = s, Math.sqrt(Math.pow(o.x, 2) + Math.pow(o.y, 2)) > 15) && (n.dragging = !0, Qo(e), Jo("grab")), n.dragging) && (s = ti(a, n.last || n.start), t.scroll({
                dx: s.x,
                dy: s.y
            }), n.last = a);
            r.preventDefault()
        }

        function o(e) {
            yt.unbind(document, "mousemove", r), yt.unbind(document, "mouseup", o), n = null, Zo()
        }
        e.on("element.mousedown", 500, (function(e) {
            return function(e) {
                if (pt(e.target, ".djs-draggable")) return;
                if (e.button || e.ctrlKey || e.shiftKey || e.altKey) return;
                return n = {
                    start: io(e)
                }, yt.bind(document, "mousemove", r), yt.bind(document, "mouseup", o), !0
            }(e.originalEvent)
        }))
    }
    ni.$inject = ["eventBus", "canvas"];
    var ri = {
            __init__: ["moveCanvas"],
            moveCanvas: ["type", ni]
        },
        oi = n(3),
        ii = n.n(oi),
        ai = ["mousedown", "mouseup", "mouseover", "mouseout", "click", "dblclick"];

    function si(e, t) {
        return t.get(e, !1)
    }

    function ui(e) {
        e.preventDefault(), e.stopPropagation(), "function" == typeof e.stopImmediatePropagation && e.stopImmediatePropagation()
    }

    function ci(e) {
        function t(t) {
            setTimeout((function() {
                v(ai, (function(t) {
                    yt.unbind(e, t, ui, !0)
                }))
            }), 500)
        }
        yt.bind(e, "touchstart", (function(t) {
            v(ai, (function(t) {
                yt.bind(e, t, ui, !0)
            }))
        }), !0), yt.bind(e, "touchend", t, !0), yt.bind(e, "touchcancel", t, !0);
        var n = new ii.a.Manager(e, {
                inputClass: ii.a.TouchInput,
                recognizers: []
            }),
            r = new ii.a.Tap,
            o = new ii.a.Pan({
                threshold: 10
            }),
            i = new ii.a.Press,
            a = new ii.a.Pinch,
            s = new ii.a.Tap({
                event: "doubletap",
                taps: 2
            });
        return a.requireFailure(o), a.requireFailure(i), n.add([o, i, a, s, r]), n.reset = function(e) {
            var t = this.recognizers,
                r = this.session;
            r.stopped || (n.stop(e), setTimeout((function() {
                var e, n;
                for (e = 0; n = t[e]; e++) n.reset(), n.state = 8;
                r.curRecognizer = null
            }), 0))
        }, n.on("hammer.input", (function(e) {
            e.srcEvent.defaultPrevented && n.reset(!0)
        })), n
    }

    function li(e, t, n, r, o) {
        var i, a = si("dragging", e),
            s = si("move", e),
            u = si("contextPad", e),
            c = si("palette", e);

        function l(e) {
            return function(t) {
                o.fire(e, t)
            }
        }

        function p(e) {
            return pt(e, "svg, .djs-element", !0)
        }

        function f(e) {
            function n(e) {
                var n = p(e.target),
                    o = n && r.get(n);
                if (s && t.getRootElement() !== o) return s.start(e, o, !0);
                ! function(e) {
                    var n = 0,
                        r = 0;

                    function o(e) {
                        var o = e.deltaX - n,
                            i = e.deltaY - r;
                        t.scroll({
                            dx: o,
                            dy: i
                        }), n = e.deltaX, r = e.deltaY
                    }

                    function a(e) {
                        i.off("panmove", o), i.off("panend", a), i.off("pancancel", a)
                    }
                    i.on("panmove", o), i.on("panend", a), i.on("pancancel", a)
                }()
            }(i = ci(e)).on("doubletap", l("element.dblclick")), i.on("tap", l("element.click")), i.on("panstart", n), i.on("press", n), i.on("pinchstart", (function(e) {
                var n = t.zoom(),
                    r = e.center;

                function o(e) {
                    var o = 1 - (1 - e.scale) / 1.5,
                        i = Math.max(.2, Math.min(4, o * n));
                    t.zoom(i, r), ui(e)
                }

                function a(e) {
                    i.off("pinchmove", o), i.off("pinchend", a), i.off("pinchcancel", a), i.reset(!0)
                }
                i.on("pinchmove", o), i.on("pinchend", a), i.on("pinchcancel", a)
            }))
        }
        a && n.on("drag.move", (function(e) {
            var t = e.originalEvent;
            if (t && !(t instanceof MouseEvent)) {
                var n = io(t),
                    o = p(document.elementFromPoint(n.x, n.y)),
                    i = o && r.get(o);
                i !== e.hover && (e.hover && a.out(e), i && (a.hover({
                    element: i,
                    gfx: o
                }), e.hover = i, e.hoverGfx = o))
            }
        })), u && n.on("contextPad.create", (function(e) {
            var t = ci(e.pad.html);
            t.on("panstart", (function(e) {
                u.trigger("dragstart", e, !0)
            })), t.on("press", (function(e) {
                u.trigger("dragstart", e, !0)
            })), t.on("tap", (function(e) {
                u.trigger("click", e)
            }))
        })), c && n.on("palette.create", (function(e) {
            var t = ci(e.container);
            t.on("panstart", (function(e) {
                c.trigger("dragstart", e, !0)
            })), t.on("press", (function(e) {
                c.trigger("dragstart", e, !0)
            })), t.on("tap", (function(e) {
                c.trigger("click", e)
            }))
        })), n.on("canvas.init", (function(e) {
            f(e.svg)
        }))
    }

    function pi(e, t) {
        var n = this;
        t.on("canvas.init", (function(e) {
            n.addBBoxMarker(e.svg)
        }))
    }
    li.$inject = ["injector", "canvas", "eventBus", "elementRegistry", "interactionEvents", "touchFix"], pi.$inject = ["canvas", "eventBus"], pi.prototype.addBBoxMarker = function(e) {
        var t = {
                fill: "none",
                class: "outer-bound-marker"
            },
            n = Mn("rect");
        _n(n, {
            x: -1e4,
            y: 1e4,
            width: 10,
            height: 10
        }), _n(n, t), vn(e, n);
        var r = Mn("rect");
        _n(r, {
            x: 1e4,
            y: 1e4,
            width: 10,
            height: 10
        }), _n(r, t), vn(e, r)
    };
    var fi = {
        __depends__: [{
            __depends__: [lo],
            __init__: ["touchInteractionEvents"],
            touchInteractionEvents: ["type", li],
            touchFix: ["type", pi]
        }]
    };

    function di(e) {
        qo.call(this, e)
    }

    function hi(e) {
        return e && e[e.length - 1]
    }

    function yi(e) {
        return e.y
    }

    function mi(e) {
        return e.x
    }
    en()(di, qo), di.prototype._navigationModules = [Xo, ri, fi], di.prototype._modules = [].concat(di.prototype._modules, di.prototype._navigationModules);
    var vi = {
        left: mi,
        center: mi,
        right: function(e) {
            return e.x + e.width
        },
        top: yi,
        middle: yi,
        bottom: function(e) {
            return e.y + e.height
        }
    };

    function gi(e) {
        this._modeling = e
    }
    gi.$inject = ["modeling"], gi.prototype._getOrientationDetails = function(e) {
        var t = "x",
            n = "width";
        return -1 !== ["top", "bottom", "middle"].indexOf(e) && (t = "y", n = "height"), {
            axis: t,
            dimension: n
        }
    }, gi.prototype._isType = function(e, t) {
        return -1 !== t.indexOf(e)
    }, gi.prototype._alignmentPosition = function(e, t) {
        var n, r, o, i = this._getOrientationDetails(e),
            a = i.axis,
            s = i.dimension,
            u = {},
            c = {},
            l = !1;
        if (this._isType(e, ["left", "top"])) u[e] = t[0][a];
        else if (this._isType(e, ["right", "bottom"])) o = hi(t), u[e] = o[a] + o[s];
        else if (this._isType(e, ["center", "middle"])) {
            if (v(t, (function(e) {
                    var t = e[a] + Math.round(e[s] / 2);
                    c[t] ? c[t].elements.push(e) : c[t] = {
                        elements: [e],
                        center: t
                    }
                })), n = j(c, (function(e) {
                    return e.elements.length > 1 && (l = !0), e.elements.length
                })), l) return u[e] = hi(n).center, u;
            r = t[0], o = hi(t = j(t, (function(e) {
                return e[a] + e[s]
            }))), u[e] = function(e, t) {
                return Math.round((e[a] + t[a] + t[s]) / 2)
            }(r, o)
        }
        return u
    }, gi.prototype.trigger = function(e, t) {
        var n = this._modeling,
            r = j(m(e, (function(e) {
                return !(e.waypoints || e.host || e.labelTarget)
            })), vi[t]),
            o = this._alignmentPosition(t, r);
        n.alignElements(r, o)
    };
    var bi = {
        __init__: ["alignElements"],
        alignElements: ["type", gi]
    };

    function _i(e, t) {
        return e && t ? Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2)) : -1
    }

    function wi(e, t, n, r) {
        if (void 0 === r && (r = 5), !e || !t || !n) return !1;
        var o = (t.x - e.x) * (n.y - e.y) - (t.y - e.y) * (n.x - e.x),
            i = _i(e, t);
        return Math.abs(o / i) <= r
    }

    function xi(e, t) {
        var n;
        return function(e, t) {
            var n;
            n = c(e) ? e : [e, t];
            var r = n.slice().shift();
            return b(n, (function(e) {
                return Math.abs(r.y - e.y) <= 2
            }))
        }(n = c(e) ? e : [e, t]) ? "h" : !! function(e, t) {
            var n;
            n = c(e) ? e : [e, t];
            var r = n.slice().shift();
            return b(n, (function(e) {
                return Math.abs(r.x - e.x) <= 2
            }))
        }(n) && "v"
    }

    function Ei(e, t) {
        return {
            x: Math.round(e.x + (t.x - e.x) / 2),
            y: Math.round(e.y + (t.y - e.y) / 2)
        }
    }
    var Ci = n(6),
        Oi = n.n(Ci);

    function Si(e) {
        return {
            x: Math.round(e.x),
            y: Math.round(e.y)
        }
    }

    function ji(e) {
        return {
            top: e.y,
            right: e.x + (e.width || 0),
            bottom: e.y + (e.height || 0),
            left: e.x
        }
    }

    function ki(e) {
        return {
            x: e.left,
            y: e.top,
            width: e.right - e.left,
            height: e.bottom - e.top
        }
    }

    function Pi(e) {
        return Si({
            x: e.x + (e.width || 0) / 2,
            y: e.y + (e.height || 0) / 2
        })
    }

    function Ti(e, t, n) {
        l(n = n || 0) || (n = {
            x: n,
            y: n
        });
        var r = ji(e),
            o = ji(t),
            i = r.bottom + n.y <= o.top,
            a = r.left - n.x >= o.right,
            s = r.top - n.y >= o.bottom,
            u = i ? "top" : s ? "bottom" : null,
            c = r.right + n.x <= o.left ? "left" : a ? "right" : null;
        return c && u ? u + "-" + c : c || u || "intersect"
    }

    function Di(e, t, n) {
        var r, o, i = (r = e, o = t, Oi()(r, o));
        return 1 === i.length || 2 === i.length && _i(i[0], i[1]) < 1 ? Si(i[0]) : i.length > 1 ? Si((i = j(i, (function(e) {
            var t = Math.floor(100 * e.t2) || 1;
            return t = ((t = 100 - t) < 10 ? "0" : "") + t, e.segment2 + "#" + t
        })))[n ? 0 : i.length - 1]) : null
    }

    function Ri(e, t, n, r) {
        for (var o; o = Mi(e, n, t);) n = r(t, n, o);
        return n
    }

    function Mi(e, t, n) {
        var r = {
            x: t.x - n.width / 2,
            y: t.y - n.height / 2,
            width: n.width,
            height: n.height
        };
        return y(function(e) {
            var t = Ai(e);
            e.host && (t = t.concat(Ai(e.host)));
            e.attachers && (t = t.concat(e.attachers.reduce((function(e, t) {
                return e.concat(Ai(t))
            }), [])));
            return t
        }(e), (function(e) {
            return e !== n && "intersect" === Ti(e, r, 10)
        }))
    }

    function Ai(e) {
        return (t = e, t.outgoing.map((function(e) {
            return e.target
        }))).concat(function(e) {
            return e.incoming.map((function(e) {
                return e.source
            }))
        }(e));
        var t
    }

    function Ni() {
        return !0
    }

    function Ii(e, t) {
        e.on("autoPlace", 100, (function(e) {
            var t = e.shape;
            return function(e, t, n) {
                n || (n = {});
                var r = n.defaultDistance || 50,
                    o = Pi(e);
                return {
                    x: ji(e).right + r + t.width / 2,
                    y: o.y
                }
            }(e.source, t)
        })), this.append = function(n, r, o) {
            e.fire("autoPlace.start", {
                source: n,
                shape: r
            });
            var i = e.fire("autoPlace", {
                    source: n,
                    shape: r
                }),
                a = t.appendShape(n, r, i, n.parent, o);
            return e.fire("autoPlace.end", {
                source: n,
                shape: a
            }), a
        }
    }

    function Li(e, t) {
        e.on("autoPlace.end", 500, (function(e) {
            t.select(e.shape)
        }))
    }
    Ii.$inject = ["eventBus", "modeling"], Li.$inject = ["eventBus", "selection"];
    var Bi = {
            __init__: ["autoPlaceSelectionBehavior"],
            autoPlace: ["type", Ii],
            autoPlaceSelectionBehavior: ["type", Li]
        },
        $i = {
            width: 135,
            height: 46
        },
        Vi = {
            width: 180,
            height: 80
        },
        zi = {
            width: 125,
            height: 45
        },
        Fi = {
            width: 100,
            height: 63
        };

    function qi(e) {
        Pr.call(this), this._drdFactory = e
    }
    en()(qi, Pr), qi.$inject = ["drdFactory"], qi.prototype.baseCreate = Pr.prototype.create, qi.prototype.create = function(e, t) {
        return this.createDrdElement(e, t)
    }, qi.prototype.createDrdElement = function(e, t) {
        var n, r = this._drdFactory,
            o = (t = t || {}).businessObject;
        if (!o) {
            if (!t.type) throw new Error("no shape type specified");
            o = r.create(t.type)
        }
        return o.di || ("connection" === e ? o.di = r.createDiEdge(o, []) : "shape" === e && (o.di = r.createDiShape(o, {}))), n = this._getDefaultSize(o), t = I({
            businessObject: o,
            id: o.id
        }, n, t), this.baseCreate(e, t)
    }, qi.prototype._getDefaultSize = function(e) {
        return Vt(e, "dmn:BusinessKnowledgeModel") ? $i : Vt(e, "dmn:Decision") ? Vi : Vt(e, "dmn:InputData") ? zi : Vt(e, "dmn:KnowledgeSource") ? Fi : {
            width: 100,
            height: 80
        }
    };
    var Hi = Vi.width;

    function Ui(e, t) {
        return Vt(t, "dmn:TextAnnotation") ? function(e, t) {
            var n = ji(e),
                r = {
                    x: n.right + t.width / 2,
                    y: n.top - 50 - t.height / 2
                };
            return Ri(e, t, r, function(e) {
                return function(t, n, r) {
                    var o = {
                        x: n.x,
                        y: n.y
                    };
                    return ["x", "y"].forEach((function(i) {
                        var a = e[i];
                        if (a) {
                            var s = "x" === i ? "width" : "height",
                                u = a.margin,
                                c = a.minDistance;
                            o[i] = u < 0 ? Math.min(r[i] + u - t[s] / 2, n[i] - c + u) : Math.max(r[i] + r[s] + u + t[s] / 2, n[i] + c + u)
                        }
                    })), o
                }
            }({
                y: {
                    margin: -30,
                    minDistance: 20
                }
            }))
        }(e, t) : Vt(t, "dmn:DRGElement") ? function(e, t) {
            var n = ji(e),
                r = Pi(e);
            var o = function(e, t) {
                    t || (t = {});
                    var n = t.defaultDistance || 50,
                        r = t.direction || "e",
                        o = t.filter,
                        i = t.getWeight || function(t) {
                            return t.source === e ? 1 : -1
                        },
                        a = t.maxDistance || 250,
                        s = t.reference || "start";

                    function u(e, t) {
                        return "n" === r ? "start" === s ? ji(e).top - ji(t).bottom : "center" === s ? ji(e).top - Pi(t).y : ji(e).top - ji(t).top : "w" === r ? "start" === s ? ji(e).left - ji(t).right : "center" === s ? ji(e).left - Pi(t).x : ji(e).left - ji(t).left : "s" === r ? "start" === s ? ji(t).top - ji(e).bottom : "center" === s ? Pi(t).y - ji(e).bottom : ji(t).bottom - ji(e).bottom : "start" === s ? ji(t).left - ji(e).right : "center" === s ? Pi(t).x - ji(e).right : ji(t).right - ji(e).right
                    }
                    o || (o = Ni);
                    var c = e.incoming.filter(o).map((function(t) {
                            var n = i(t),
                                r = n < 0 ? u(t.source, e) : u(e, t.source);
                            return {
                                id: t.source.id,
                                distance: r,
                                weight: n
                            }
                        })),
                        l = e.outgoing.filter(o).map((function(t) {
                            var n = i(t),
                                r = n > 0 ? u(e, t.target) : u(t.target, e);
                            return {
                                id: t.target.id,
                                distance: r,
                                weight: n
                            }
                        }));
                    return g(c.concat(l).reduce((function(e, t) {
                        return e[t.id + "__weight_" + t.weight] = t, e
                    }), {}), (function(e, t) {
                        var n = t.distance,
                            r = t.weight;
                        return n < 0 || n > a || (e[String(n)] || (e[String(n)] = 0), e[String(n)] += 1 * r, (!e.distance || e[e.distance] < e[String(n)]) && (e.distance = n)), e
                    }), {}).distance || n
                }(e, {
                    defaultDistance: 180,
                    direction: "s",
                    getWeight: function(t) {
                        return t.target === e ? 1 : -1
                    },
                    filter: Wi,
                    reference: "center"
                }),
                i = {
                    x: r.x,
                    y: n.bottom + o
                };
            return Ri(e, t, i, function(e) {
                var t, n, r = Pi(e);
                return function(e, o, i) {
                    var a;
                    return t ? (o.x < r.x ? t = i : n = i, a = Gi(r, Pi(t)) < Gi(r, Pi(n)) ? "left" : "right") : (t = i, n = i, a = Pi(i).x - r.x > 0 ? "left" : "right"), "left" === a ? {
                        x: Math.min(Pi(t).x - Hi - 60, ji(t).left - 60 - e.width / 2),
                        y: o.y
                    } : {
                        x: Math.max(Pi(n).x + Hi + 60, ji(n).right + 60 + e.width / 2),
                        y: o.y
                    }
                }
            }(e))
        }(e, t) : void 0
    }

    function Wi(e) {
        return !Vt(e, "dmn:Association")
    }

    function Gi(e, t) {
        return Math.abs(t.x - e.x)
    }

    function Ki(e) {
        e.on("autoPlace", (function(e) {
            var t = e.shape;
            return Ui(e.source, t)
        }))
    }
    Ki.$inject = ["eventBus"];
    var Xi = {
            __depends__: [Bi],
            __init__: ["dmnAutoPlace"],
            dmnAutoPlace: ["type", Ki]
        },
        Yi = Math.round;

    function Ji(e) {
        e.preventDefault()
    }

    function Zi(e, t, n, r) {
        var o, i = {
            threshold: 5,
            trapClick: !0
        };

        function a(e) {
            var n = t.viewbox(),
                r = t._container.getBoundingClientRect();
            return {
                x: n.x + (e.x - r.left) / n.scale,
                y: n.y + (e.y - r.top) / n.scale
            }
        }

        function s(t, n) {
            n = n || o;
            var r = e.createEvent(I({}, n.payload, n.data, {
                isTouch: n.isTouch
            }));
            return !1 !== e.fire("drag." + t, r) && e.fire(n.prefix + "." + t, r)
        }

        function u(e, r) {
            var i, u = o.payload,
                c = o.displacement,
                l = o.globalStart,
                p = io(e),
                f = ti(p, l),
                d = o.localStart,
                h = a(p),
                m = ti(h, d);
            if (!o.active && (r || (i = f, Math.sqrt(Math.pow(i.x, 2) + Math.pow(i.y, 2)) > o.threshold))) {
                if (I(u, {
                        x: Yi(d.x + c.x),
                        y: Yi(d.y + c.y),
                        dx: 0,
                        dy: 0
                    }, {
                        originalEvent: e
                    }), !1 === s("start")) return y();
                o.active = !0, o.keepSelection || (u.previousSelection = n.get(), n.select(null)), o.cursor && Jo(o.cursor), t.addMarker(t.getRootElement(), "djs-drag-active")
            }
            oo(e), o.active && (I(u, {
                x: Yi(h.x + c.x),
                y: Yi(h.y + c.y),
                dx: Yi(m.x),
                dy: Yi(m.y)
            }, {
                originalEvent: e
            }), s("move"))
        }

        function c(e) {
            var t = !0;
            o.active && (e && (o.payload.originalEvent = e, oo(e)), t = s("end")), !1 === t && s("rejected"), s("ended", m(!0 !== t))
        }

        function l(e) {
            27 === e.which && (Ji(e), y())
        }

        function p(t) {
            var n;
            o.active && (n = Qo(e), setTimeout(n, 400), Ji(t)), c(t)
        }

        function f(e) {
            u(e)
        }

        function d(e) {
            var t = o.payload;
            t.hoverGfx = e.gfx, t.hover = e.element, s("hover")
        }

        function h(e) {
            s("out");
            var t = o.payload;
            t.hoverGfx = null, t.hover = null
        }

        function y(e) {
            var t;
            if (o) {
                var n = o.active;
                n && s("cancel"), t = m(e), n && s("canceled", t)
            }
        }

        function m(i) {
            var a, m;
            s("cleanup"), Zo(), m = o.trapClick ? p : c, yt.unbind(document, "mousemove", u), yt.unbind(document, "dragstart", Ji), yt.unbind(document, "selectstart", Ji), yt.unbind(document, "mousedown", m, !0), yt.unbind(document, "mouseup", m, !0), yt.unbind(document, "keyup", l), yt.unbind(document, "touchstart", f, !0), yt.unbind(document, "touchcancel", y, !0), yt.unbind(document, "touchmove", u, !0), yt.unbind(document, "touchend", c, !0), e.off("element.hover", d), e.off("element.out", h), t.removeMarker(t.getRootElement(), "djs-drag-active");
            var v = o.payload.previousSelection;
            return !1 !== i && v && !n.get().length && function(e) {
                var t = e.filter((function(e) {
                    return r.get(e.id)
                }));
                t.length && n.select(t)
            }(v), a = o, o = null, a
        }
        e.on("diagram.destroy", y), this.init = function(t, n, r, m) {
            o && y(!1), "string" == typeof n && (m = r, r = n, n = null);
            var v, g, b, _, w, x = (m = I({}, i, m || {})).data || {};
            _ = m.trapClick ? p : c, t ? (v = ro(t) || t, g = io(t), oo(t), "dragstart" === v.type && Ji(v)) : (v = null, g = {
                x: 0,
                y: 0
            }), b = a(g), n || (n = b), w = function(e) {
                return "undefined" != typeof TouchEvent && e instanceof TouchEvent
            }(v), o = I({
                prefix: r,
                data: x,
                payload: {},
                globalStart: g,
                displacement: ti(n, b),
                localStart: b,
                isTouch: w
            }, m), m.manual || (w ? (yt.bind(document, "touchstart", f, !0), yt.bind(document, "touchcancel", y, !0), yt.bind(document, "touchmove", u, !0), yt.bind(document, "touchend", c, !0)) : (yt.bind(document, "mousemove", u), yt.bind(document, "dragstart", Ji), yt.bind(document, "selectstart", Ji), yt.bind(document, "mousedown", _, !0), yt.bind(document, "mouseup", _, !0)), yt.bind(document, "keyup", l), e.on("element.hover", d), e.on("element.out", h)), s("init"), m.autoActivate && u(t, !0)
        }, this.move = u, this.hover = d, this.out = h, this.end = c, this.cancel = y, this.context = function() {
            return o
        }, this.setOptions = function(e) {
            I(i, e)
        }
    }
    Zi.$inject = ["eventBus", "canvas", "selection", "elementRegistry"];

    function Qi(e, t, n) {
        var r = this;
        e.on("drag.start", (function(o) {
            e.once("drag.move", 1500, (function(e) {
                ! function(e) {
                    if (!e.hover) {
                        var o = e.originalEvent,
                            i = r._findTargetGfx(o),
                            a = i && n.get(i);
                        i && a && (e.stopPropagation(), t.hover({
                            element: a,
                            gfx: i
                        }), t.move(o))
                    }
                }(e)
            }))
        })), e.on("drag.init", (function() {
            var n, r;

            function o(e) {
                n = e.hover, r = e.hoverGfx
            }

            function i() {
                n = null, r = null
            }

            function a() {
                if (n) {
                    var e = n,
                        o = r;
                    n = null, r = null, t.out({
                        element: e,
                        gfx: o
                    })
                }
            }
            e.on("drag.hover", o), e.on("element.out", i), e.on("element.hover", 1500, a), e.once("drag.cleanup", (function() {
                e.off("drag.hover", o), e.off("element.out", i), e.off("element.hover", a)
            }))
        })), this._findTargetGfx = function(e) {
            var t;
            if (e instanceof MouseEvent) return t = io(e),
                function(e) {
                    return pt(e, "svg, .djs-element", !0)
                }(document.elementFromPoint(t.x, t.y))
        }
    }
    Qi.$inject = ["eventBus", "dragging", "elementRegistry"];
    var ea = {
        __init__: ["hoverFix"],
        __depends__: [go],
        dragging: ["type", Zi],
        hoverFix: ["type", Qi]
    };

    function ta(e, t, n) {
        this._canvas = n, this._opts = I({
            scrollThresholdIn: [20, 20, 20, 20],
            scrollThresholdOut: [0, 0, 0, 0],
            scrollRepeatTimeout: 15,
            scrollStep: 10
        }, e);
        var r = this;
        t.on("drag.move", (function(e) {
            var t = r._toBorderPoint(e);
            r.startScroll(t)
        })), t.on(["drag.cleanup"], (function() {
            r.stopScroll()
        }))
    }

    function na(e, t, n) {
        return t < e && e < n
    }
    ta.$inject = ["config.autoScroll", "eventBus", "canvas"], ta.prototype.startScroll = function(e) {
        var t = this._canvas,
            n = this._opts,
            r = this,
            o = t.getContainer().getBoundingClientRect(),
            i = [e.x, e.y, o.width - e.x, o.height - e.y];
        this.stopScroll();
        for (var a = 0, s = 0, u = 0; u < 4; u++) na(i[u], n.scrollThresholdOut[u], n.scrollThresholdIn[u]) && (0 === u ? a = n.scrollStep : 1 == u ? s = n.scrollStep : 2 == u ? a = -n.scrollStep : 3 == u && (s = -n.scrollStep));
        0 === a && 0 === s || (t.scroll({
            dx: a,
            dy: s
        }), this._scrolling = setTimeout((function() {
            r.startScroll(e)
        }), n.scrollRepeatTimeout))
    }, ta.prototype.stopScroll = function() {
        clearTimeout(this._scrolling)
    }, ta.prototype.setOptions = function(e) {
        this._opts = I({}, this._opts, e)
    }, ta.prototype._toBorderPoint = function(e) {
        var t = this._canvas._container.getBoundingClientRect(),
            n = io(e.originalEvent);
        return {
            x: n.x - t.left,
            y: n.y - t.top
        }
    };
    var ra = {
        __depends__: [ea],
        __init__: ["autoScroll"],
        autoScroll: ["type", ta]
    };

    function oa(e) {
        this._commandStack = e.get("commandStack", !1)
    }
    oa.$inject = ["injector"], oa.prototype.allowed = function(e, t) {
        var n = !0,
            r = this._commandStack;
        return r && (n = r.canExecute(e, t)), void 0 === n || n
    };
    var ia = {
            __init__: ["rules"],
            rules: ["type", oa]
        },
        aa = Math.round,
        sa = Math.max;

    function ua(e, t) {
        return function(e, t) {
            var n, r;
            for (n = 0; r = e[n]; n++)
                if (_i(r, t) <= 10) return {
                    point: e[n],
                    bendpoint: !0,
                    index: n
                };
            return null
        }(e, t) || function(e, t) {
            var n, r, o, i, a = Oi()((o = 10, [
                    ["M", (r = t).x, r.y],
                    ["m", 0, -o],
                    ["a", o, o, 0, 1, 1, 0, 2 * o],
                    ["a", o, o, 0, 1, 1, 0, -2 * o],
                    ["z"]
                ]), (n = [], e.forEach((function(e, t) {
                    n.push([0 === t ? "M" : "L", e.x, e.y])
                })), n)),
                s = a[0],
                u = a[a.length - 1];
            return s ? s !== u ? s.segment2 !== u.segment2 ? {
                point: e[i = sa(s.segment2, u.segment2) - 1],
                bendpoint: !0,
                index: i
            } : {
                point: {
                    x: aa(s.x + u.x) / 2,
                    y: aa(s.y + u.y) / 2
                },
                index: s.segment2
            } : {
                point: {
                    x: aa(s.x),
                    y: aa(s.y)
                },
                index: s.segment2
            } : null
        }(e, t)
    }

    function ca(e, t, n) {
        return ua(t, function(e, t) {
            var n, r = io(t),
                o = e._container.getBoundingClientRect();
            n = {
                x: o.left,
                y: o.top
            };
            var i = e.viewbox();
            return {
                x: i.x + (r.x - n.x) / i.scale,
                y: i.y + (r.y - n.y) / i.scale
            }
        }(e, n))
    }

    function la(e, t) {
        var n = Mn("g");
        On(n).add("djs-bendpoint"), vn(e, n);
        var r = Mn("circle");
        _n(r, {
            cx: 0,
            cy: 0,
            r: 4
        }), On(r).add("djs-visual"), vn(n, r);
        var o = Mn("circle");
        return _n(o, {
            cx: 0,
            cy: 0,
            r: 10
        }), On(o).add("djs-hit"), vn(n, o), t && On(n).add(t), n
    }

    function pa(e, t, n, r) {
        var o = Mn("g");
        vn(e, o);
        var i = function(e, t, n) {
                var r = t.x - e.x,
                    o = t.y - e.y;
                return da("h" === n ? r : o)
            }(t, n, r),
            a = Mn("rect");
        _n(a, {
            x: -7,
            y: -1.5,
            width: 14,
            height: 3
        }), On(a).add("djs-visual"), vn(o, a);
        var s, u, c, l = Mn("rect");
        return _n(l, {
            x: -i / 2,
            y: -4.5,
            width: i,
            height: 9
        }), On(l).add("djs-hit"), vn(o, l), s = o, u = "v" === r ? 90 : 0, (c = In()).setRotate(u, 0, 0), Un(s, c), o
    }

    function fa(e, t, n) {
        var r = Mn("g"),
            o = Ei(t, n),
            i = xi(t, n);
        return vn(e, r), pa(r, t, n, i), On(r).add("djs-segment-dragger"), On(r).add("h" === i ? "horizontal" : "vertical"), Dr(r, o.x, o.y), r
    }

    function da(e) {
        return Math.abs(Math.round(2 * e / 3))
    }
    var ha = n(4),
        ya = n.n(ha);

    function ma(e, t, n, r, o) {
        function i(e, n) {
            var i = n.waypoints,
                a = ca(t, i, e);
            if (a) return ! function(e, t, n) {
                var r, o, i, a, s, u, c = e.index,
                    l = e.point;
                return !(c <= 0 || e.bendpoint) && (i = Ei(r = t[c - 1], o = t[c]), a = xi(r, o), s = Math.abs(l.x - i.x), u = Math.abs(l.y - i.y), a && s <= n && u <= n)
            }(a, i, function(e, t) {
                var n, r, o = e.waypoints;
                return t.index <= 0 || t.bendpoint ? null : (r = xi((n = {
                    start: o[t.index - 1],
                    end: o[t.index]
                }).start, n.end)) ? da("h" === r ? n.end.x - n.start.x : n.end.y - n.start.y) / 2 : null
            }(n, a)) ? r.start(e, n, a.index, !a.bendpoint) : o.start(e, n, a.index), !0
        }

        function a(e, t, r) {
            yt.bind(e, t, (function(e) {
                n.triggerMouseEvent(t, e, r), e.stopPropagation()
            }))
        }

        function s(e, n) {
            var r = t.getLayer("overlays"),
                o = xt('.djs-bendpoints[data-element-id="' + ya()(e.id) + '"]', r);
            return !o && n && (_n(o = Mn("g"), {
                "data-element-id": e.id
            }), On(o).add("djs-bendpoints"), vn(r, o), a(o, "mousedown", e), a(o, "click", e), a(o, "dblclick", e)), o
        }

        function u(e, t) {
            return xt('.djs-segment-dragger[data-segment-idx="' + e + '"]', t)
        }

        function c(e, t) {
            t.waypoints.forEach((function(t, n) {
                var r = la(e);
                vn(e, r), Dr(r, t.x, t.y)
            })), la(e, "floating")
        }

        function l(e, t) {
            for (var n, r, o, i = t.waypoints, s = 1; s < i.length; s++) xi(n = i[s - 1], r = i[s]) && (_n(o = fa(e, n, r), {
                "data-segment-idx": s
            }), a(o, "mousemove", t))
        }

        function p(e) {
            var t = s(e);
            return t || (c(t = s(e, !0), e), l(t, e)), t
        }

        function f(e) {
            var t = s(e);
            t && (! function(e) {
                v(Et(".djs-segment-dragger", e), (function(e) {
                    jn(e)
                }))
            }(t), function(e) {
                v(Et(".djs-bendpoint", e), (function(e) {
                    jn(e)
                }))
            }(t), l(t, e), c(t, e))
        }

        function d(e, t, n) {
            var r, o, i = u(t.index, e),
                a = n[t.index - 1],
                s = n[t.index],
                c = t.point,
                l = Ei(a, s),
                p = xi(a, s);
            i && (r = function(e) {
                return xt(".djs-visual", e)
            }(i), o = {
                x: c.x - l.x,
                y: c.y - l.y
            }, "v" === p && (o = {
                x: o.y,
                y: o.x
            }), Dr(r, o.x, o.y))
        }
        e.on("connection.changed", (function(e) {
            f(e.element)
        })), e.on("connection.remove", (function(e) {
            var t = s(e.element);
            t && jn(t)
        })), e.on("element.marker.update", (function(e) {
            var t, n = e.element;
            n.waypoints && (t = p(n), e.add ? On(t).add(e.marker) : On(t).remove(e.marker))
        })), e.on("element.mousemove", (function(e) {
            var n, r, o = e.element,
                i = o.waypoints;
            if (i) {
                if (n = s(o, !0), !(r = ca(t, i, e.originalEvent))) return;
                ! function(e, t) {
                    var n = xt(".floating", e),
                        r = t.point;
                    n && Dr(n, r.x, r.y)
                }(n, r), r.bendpoint || d(n, r, i)
            }
        })), e.on("element.mousedown", (function(e) {
            var t = e.originalEvent,
                n = e.element;
            if (n.waypoints) return i(t, n)
        })), e.on("selection.changed", (function(e) {
            var t = e.newSelection[0];
            t && t.waypoints && p(t)
        })), e.on("element.hover", (function(e) {
            var t = e.element;
            t.waypoints && (p(t), n.registerEvent(e.gfx, "mousemove", "element.mousemove"))
        })), e.on("element.out", (function(e) {
            n.unregisterEvent(e.gfx, "mousemove", "element.mousemove")
        })), e.on("element.updateId", (function(e) {
            var t = e.element,
                n = e.newId;
            if (t.waypoints) {
                var r = s(t);
                r && _n(r, {
                    "data-element-id": n
                })
            }
        })), this.addHandles = p, this.updateHandles = f, this.getBendpointsContainer = s, this.getSegmentDragger = u
    }
    ma.$inject = ["eventBus", "canvas", "interactionEvents", "bendpointMove", "connectionSegmentMove"];
    var va = Math.round;

    function ga(e, t, n, r, o, i) {
        this._injector = e, this.start = function(e, t, i, a) {
            var s, u = n.getGraphics(t),
                c = t.source,
                l = t.target,
                p = t.waypoints,
                f = "updateWaypoints" === (s = a || 0 !== i ? a || i !== p.length - 1 ? "updateWaypoints" : "reconnectEnd" : "reconnectStart") ? "connection.updateWaypoints" : "connection.reconnect",
                d = o.allowed(f, {
                    connection: t,
                    source: c,
                    target: l
                });
            !1 === d && (d = o.allowed(f, {
                connection: t,
                source: l,
                target: c
            })), !1 !== d && r.init(e, "bendpoint.move", {
                data: {
                    connection: t,
                    connectionGfx: u,
                    context: {
                        allowed: d,
                        bendpointIndex: i,
                        connection: t,
                        source: c,
                        target: l,
                        insert: a,
                        type: s
                    }
                }
            })
        }, t.on("bendpoint.move.hover", (function(e) {
            var t, n = e.context,
                r = n.connection,
                i = r.source,
                a = r.target,
                s = e.hover,
                u = n.type;
            if (n.hover = s, s) {
                var c = "updateWaypoints" === u ? "connection.updateWaypoints" : "connection.reconnect";
                if (t = n.allowed = o.allowed(c, {
                        connection: r,
                        source: "reconnectStart" === u ? s : i,
                        target: "reconnectEnd" === u ? s : a
                    })) return n.source = "reconnectStart" === u ? s : i, void(n.target = "reconnectEnd" === u ? s : a);
                !1 === t && (t = n.allowed = o.allowed(c, {
                    connection: r,
                    source: "reconnectEnd" === u ? s : a,
                    target: "reconnectStart" === u ? s : i
                })), t && (n.source = "reconnectEnd" === u ? s : a, n.target = "reconnectStart" === u ? s : i)
            }
        })), t.on(["bendpoint.move.out", "bendpoint.move.cleanup"], (function(e) {
            var t = e.context;
            t.hover = null, t.source = null, t.target = null, t.allowed = !1
        })), t.on("bendpoint.move.end", (function(e) {
            var t = e.context,
                n = t.allowed,
                r = t.bendpointIndex,
                o = t.connection,
                a = t.insert,
                s = o.waypoints.slice(),
                u = t.source,
                c = t.target,
                l = t.type,
                p = t.hints || {},
                f = {
                    x: va(e.x),
                    y: va(e.y)
                };
            if (!n) return !1;
            "updateWaypoints" === l ? (a ? s.splice(r, 0, f) : s[r] = f, p.bendpointMove = {
                insert: a,
                bendpointIndex: r
            }, s = this.cropWaypoints(o, s), i.updateWaypoints(o, function(e) {
                e = e.slice();
                for (var t, n, r, o = 0; e[o];) t = e[o], n = e[o - 1], 0 === _i(t, r = e[o + 1]) || wi(n, r, t) ? e.splice(o, 1) : o++;
                return e
            }(s), p)) : ("reconnectStart" === l ? (p.docking = "source", ba(t) && (p.docking = "target", p.newWaypoints = s.reverse())) : "reconnectEnd" === l && (p.docking = "target", ba(t) && (p.docking = "source", p.newWaypoints = s.reverse())), i.reconnect(o, u, c, f, p))
        }), this)
    }

    function ba(e) {
        var t = e.hover,
            n = e.source,
            r = e.target,
            o = e.type;
        return "reconnectStart" === o ? t && r && t === r && n !== r : "reconnectEnd" === o ? t && n && t === n && n !== r : void 0
    }
    ga.$inject = ["injector", "eventBus", "canvas", "dragging", "rules", "modeling"], ga.prototype.cropWaypoints = function(e, t) {
        var n = this._injector.get("connectionDocking", !1);
        if (!n) return t;
        var r = e.waypoints;
        return e.waypoints = t, e.waypoints = n.getCroppedWaypoints(e), t = e.waypoints, e.waypoints = r, t
    };

    function _a(e, t, n, r) {
        this._injector = t;
        var o = t.get("connectionPreview", !1);
        n.on("bendpoint.move.start", (function(e) {
            var t = e.context,
                n = t.bendpointIndex,
                o = t.connection,
                i = t.insert,
                a = o.waypoints,
                s = a.slice();
            t.waypoints = a, i && s.splice(n, 0, {
                x: e.x,
                y: e.y
            }), o.waypoints = s, On(t.draggerGfx = la(r.getLayer("overlays"))).add("djs-dragging"), r.addMarker(o, "djs-element-hidden"), r.addMarker(o, "djs-updating")
        })), n.on("bendpoint.move.hover", (function(e) {
            var t = e.context,
                n = t.allowed,
                o = t.hover,
                i = t.type;
            if (o) {
                if (r.addMarker(o, "connect-hover"), "updateWaypoints" === i) return;
                n ? (r.removeMarker(o, "connect-not-ok"), r.addMarker(o, "connect-ok")) : !1 === n && (r.removeMarker(o, "connect-ok"), r.addMarker(o, "connect-not-ok"))
            }
        })), n.on(["bendpoint.move.out", "bendpoint.move.cleanup"], 1100, (function(e) {
            var t = e.context,
                n = t.hover,
                o = t.target;
            n && (r.removeMarker(n, "connect-hover"), r.removeMarker(n, o ? "connect-ok" : "connect-not-ok"))
        })), n.on("bendpoint.move.move", (function(t) {
            var n = t.context,
                r = n.allowed,
                i = n.bendpointIndex,
                a = n.draggerGfx,
                s = n.hover,
                u = n.type,
                c = n.connection,
                l = c.source,
                p = c.target,
                f = c.waypoints.slice(),
                d = {
                    x: t.x,
                    y: t.y
                },
                h = n.hints || {},
                y = {};
            o && (h.connectionStart && (y.connectionStart = h.connectionStart), h.connectionEnd && (y.connectionEnd = h.connectionEnd), "reconnectStart" === u ? ba(n) ? (y.connectionEnd = y.connectionEnd || d, y.source = p, y.target = s || l, f = f.reverse()) : (y.connectionStart = y.connectionStart || d, y.source = s || l, y.target = p) : "reconnectEnd" === u ? ba(n) ? (y.connectionStart = y.connectionStart || d, y.source = s || p, y.target = l, f = f.reverse()) : (y.connectionEnd = y.connectionEnd || d, y.source = l, y.target = s || p) : (y.noCropping = !0, y.noLayout = !0, f[i] = d), "updateWaypoints" === u && (f = e.cropWaypoints(c, f)), y.waypoints = f, o.drawPreview(n, r, y)), Dr(a, t.x, t.y)
        }), this), n.on(["bendpoint.move.end", "bendpoint.move.cancel"], 1100, (function(e) {
            var t = e.context,
                n = t.connection,
                i = t.draggerGfx,
                a = t.hover,
                s = t.target,
                u = t.waypoints;
            n.waypoints = u, jn(i), r.removeMarker(n, "djs-updating"), r.removeMarker(n, "djs-element-hidden"), a && (r.removeMarker(a, "connect-ok"), r.removeMarker(a, s ? "connect-ok" : "connect-not-ok")), o && o.cleanUp(t)
        }))
    }
    _a.$inject = ["bendpointMove", "injector", "eventBus", "canvas"];

    function wa(e, t, n) {
        return xa(e, t, e[t] + n)
    }

    function xa(e, t, n) {
        return {
            x: "x" === t ? n : e.x,
            y: "y" === t ? n : e.y
        }
    }

    function Ea(e) {
        return "x" === e ? "y" : "x"
    }

    function Ca(e, t, n) {
        var r, o;
        return e.original ? e.original : (r = Pi(t), xa(e, o = Ea(n), r[o]))
    }

    function Oa(e, t, n, r, o, i) {
        var a = e.get("connectionDocking", !1);

        function s(e, t) {
            if (!a) return t;
            var n, r = e.waypoints;
            return e.waypoints = t, n = a.getCroppedWaypoints(e), e.waypoints = r, n
        }

        function u(e) {
            o.update("connection", e.connection, e.connectionGfx)
        }

        function c(e, t, n) {
            var r = e.newWaypoints,
                o = function(e, t, n, r) {
                    var o = Math.max(t[r], n[r]),
                        i = Math.min(t[r], n[r]);
                    return xa(t, r, Math.min(Math.max(i + 20, e[r]), o - 20))
                }(n, r[e.segmentStartIndex + t], r[e.segmentEndIndex + t], Ea(e.axis));
            Dr(e.draggerGfx, o.x, o.y)
        }
        this.start = function(e, t, o) {
            var i, a, s, u, c = n.getGraphics(t),
                l = o - 1,
                p = o,
                f = t.waypoints,
                d = f[l],
                h = f[p],
                y = ca(n, f, e);
            (a = xi(d, h)) && (s = "v" === a ? "x" : "y", 0 === l && (d = Ca(d, t.source, s)), p === f.length - 1 && (h = Ca(h, t.target, s)), i = {
                connection: t,
                segmentStartIndex: l,
                segmentEndIndex: p,
                segmentStart: d,
                segmentEnd: h,
                axis: s,
                dragPosition: u = y ? y.point : {
                    x: (d.x + h.x) / 2,
                    y: (d.y + h.y) / 2
                }
            }, r.init(e, u, "connectionSegment.move", {
                cursor: "x" === s ? "resize-ew" : "resize-ns",
                data: {
                    connection: t,
                    connectionGfx: c,
                    context: i
                }
            }))
        }, t.on("connectionSegment.move.start", (function(e) {
            var t = e.context,
                r = e.connection,
                o = n.getLayer("overlays");
            t.originalWaypoints = r.waypoints.slice(), t.draggerGfx = fa(o, t.segmentStart, t.segmentEnd), On(t.draggerGfx).add("djs-dragging"), n.addMarker(r, "djs-updating")
        })), t.on("connectionSegment.move.move", (function(e) {
            var t, n, r = e.context,
                o = r.connection,
                i = r.segmentStartIndex,
                a = r.segmentEndIndex,
                l = r.segmentStart,
                p = r.segmentEnd,
                f = r.axis,
                d = r.originalWaypoints.slice(),
                h = wa(l, f, e["d" + f]),
                y = wa(p, f, e["d" + f]),
                m = d.length,
                v = 0;
            d[i] = h, d[a] = y, i < 2 && (t = Ti(o.source, h), 1 === i ? "intersect" === t && (d.shift(), d[0] = h, v--) : "intersect" !== t && (d.unshift(l), v++)), a > m - 3 && (n = Ti(o.target, y), a === m - 2 ? "intersect" === n && (d.pop(), d[d.length - 1] = y) : "intersect" !== n && d.push(p)), r.newWaypoints = o.waypoints = s(o, d), c(r, v, e), r.newSegmentStartIndex = i + v, u(e)
        })), t.on("connectionSegment.move.hover", (function(e) {
            e.context.hover = e.hover, n.addMarker(e.hover, "connect-hover")
        })), t.on(["connectionSegment.move.out", "connectionSegment.move.cleanup"], (function(e) {
            var t = e.context.hover;
            t && n.removeMarker(t, "connect-hover")
        })), t.on("connectionSegment.move.cleanup", (function(e) {
            var t = e.context,
                r = t.connection;
            t.draggerGfx && jn(t.draggerGfx), n.removeMarker(r, "djs-updating")
        })), t.on(["connectionSegment.move.cancel", "connectionSegment.move.end"], (function(e) {
            var t = e.context;
            t.connection.waypoints = t.originalWaypoints, u(e)
        })), t.on("connectionSegment.move.end", (function(e) {
            var t = e.context,
                n = t.connection,
                r = t.newWaypoints,
                o = t.newSegmentStartIndex,
                a = function(e, t) {
                    var n = 0;
                    return {
                        waypoints: e.filter((function(r, o) {
                            return !wi(e[o - 1], e[o + 1], r) || (n = o <= t ? n - 1 : n, !1)
                        })),
                        segmentOffset: n
                    }
                }(r = r.map((function(e) {
                    return {
                        original: e.original,
                        x: Math.round(e.x),
                        y: Math.round(e.y)
                    }
                })), o),
                u = s(n, a.waypoints),
                c = a.segmentOffset,
                l = {
                    segmentMove: {
                        segmentStartIndex: t.segmentStartIndex,
                        newSegmentStartIndex: o + c
                    }
                };
            i.updateWaypoints(n, u, l)
        }))
    }
    Oa.$inject = ["injector", "eventBus", "canvas", "dragging", "graphicsFactory", "modeling"];
    var Sa = Math.abs,
        ja = Math.round;

    function ka(e, t) {
        return !e || isNaN(e.x) || isNaN(e.y) ? t : {
            x: ja(e.x + e.width / 2),
            y: ja(e.y + e.height / 2)
        }
    }

    function Pa(e, t) {
        var n = e.snapped;
        return !!n && ("string" == typeof t ? n[t] : n.x && n.y)
    }

    function Ta(e, t, n) {
        if ("string" != typeof t) throw new Error("axis must be in [x, y]");
        if ("number" != typeof n && !1 !== n) throw new Error("value must be Number or false");
        var r, o = e[t],
            i = e.snapped = e.snapped || {};
        return !1 === n ? i[t] = !1 : (i[t] = !0, r = n - o, e[t] += r, e["d" + t] += r), o
    }

    function Da(e) {
        return e.children || []
    }
    var Ra = Math.abs,
        Ma = Math.round;

    function Aa(e) {
        function t(e, t) {
            if (c(e)) {
                for (var n = e.length; n--;)
                    if (Ra(e[n] - t) <= 10) return e[n]
            } else {
                var r = t % (e = +e);
                if (r < 10) return t - r;
                if (r > e - 10) return t - r + e
            }
            return t
        }

        function n(e) {
            if (e.width) return {
                x: Ma(e.width / 2 + e.x),
                y: Ma(e.height / 2 + e.y)
            }
        }
        e.on("connectionSegment.move.move", 1500, (function(e) {
            var r, o, i = function(e) {
                    var t = e.snapPoints,
                        r = e.connection,
                        o = r.waypoints,
                        i = e.segmentStart,
                        a = e.segmentStartIndex,
                        s = e.segmentEnd,
                        u = e.segmentEndIndex,
                        c = e.axis;
                    if (t) return t;
                    var l = [o[a - 1], i, s, o[u + 1]];
                    return a < 2 && l.unshift(n(r.source)), u > o.length - 3 && l.unshift(n(r.target)), e.snapPoints = t = {
                        horizontal: [],
                        vertical: []
                    }, v(l, (function(e) {
                        e && (e = e.original || e, "y" === c && t.horizontal.push(e.y), "x" === c && t.vertical.push(e.x))
                    })), t
                }(e.context),
                a = e.x,
                s = e.y;
            if (i) {
                var u = a - (r = t(i.vertical, a)),
                    c = s - (o = t(i.horizontal, s));
                I(e, {
                    dx: e.dx - u,
                    dy: e.dy - c,
                    x: r,
                    y: o
                }), (u || -1 !== i.vertical.indexOf(a)) && Ta(e, "x", r), (c || -1 !== i.horizontal.indexOf(s)) && Ta(e, "y", o)
            }
        })), e.on(["bendpoint.move.move", "bendpoint.move.end"], 1500, (function(e) {
            var r, o, i = e.context,
                a = function(e) {
                    var t = e.snapPoints,
                        n = e.connection.waypoints,
                        r = e.bendpointIndex;
                    if (t) return t;
                    var o = [n[r - 1], n[r + 1]];
                    return e.snapPoints = t = {
                        horizontal: [],
                        vertical: []
                    }, v(o, (function(e) {
                        e && (e = e.original || e, t.horizontal.push(e.y), t.vertical.push(e.x))
                    })), t
                }(i),
                s = i.hover,
                u = s && n(s),
                c = e.x,
                l = e.y;
            if (a) {
                var p = c - (r = t(u ? a.vertical.concat([u.x]) : a.vertical, c)),
                    f = l - (o = t(u ? a.horizontal.concat([u.y]) : a.horizontal, l));
                I(e, {
                    dx: e.dx - p,
                    dy: e.dy - f,
                    x: e.x - p,
                    y: e.y - f
                }), (p || -1 !== a.vertical.indexOf(c)) && Ta(e, "x", r), (f || -1 !== a.horizontal.indexOf(l)) && Ta(e, "y", o)
            }
        }))
    }
    Aa.$inject = ["eventBus"];
    var Na = {
        __depends__: [ea, ia],
        __init__: ["bendpoints", "bendpointSnapping", "bendpointMovePreview"],
        bendpoints: ["type", ma],
        bendpointMove: ["type", ga],
        bendpointMovePreview: ["type", _a],
        connectionSegmentMove: ["type", Oa],
        bendpointSnapping: ["type", Aa]
    };

    function Ia(e, t, n) {
        this._eventBus = t, this._overlays = n;
        var r = s(e && e.scale) ? e.scale : {
            min: 1,
            max: 1.5
        };
        this._overlaysConfig = {
            position: {
                right: -9,
                top: -6
            },
            scale: r
        }, this._current = null, this._init()
    }
    Ia.$inject = ["config.contextPad", "eventBus", "overlays"], Ia.prototype._init = function() {
        var e = this._eventBus,
            t = this;
        e.on("selection.changed", (function(e) {
            var n = e.newSelection;
            1 === n.length ? t.open(n[0]) : t.close()
        })), e.on("elements.delete", (function(e) {
            v(e.elements, (function(e) {
                t.isOpen(e) && t.close()
            }))
        })), e.on("element.changed", (function(e) {
            var n = e.element,
                r = t._current;
            r && r.element === n && t.open(n, !0)
        }))
    }, Ia.prototype.registerProvider = function(e, t) {
        t || (t = e, e = 1e3), this._eventBus.on("contextPad.getProviders", e, (function(e) {
            e.providers.push(t)
        }))
    }, Ia.prototype.getEntries = function(e) {
        var t = this._getProviders(),
            n = {};
        return v(t, (function(t) {
            var r = t.getContextPadEntries(e);
            f(r) ? n = r(n) : v(r, (function(e, t) {
                n[t] = e
            }))
        })), n
    }, Ia.prototype.trigger = function(e, t, n) {
        var r, o, i = this._current.element,
            a = this._current.entries,
            s = t.delegateTarget || t.target;
        if (!s) return t.preventDefault();
        if (r = a[et(s, "data-action")].action, o = t.originalEvent || t, f(r)) {
            if ("click" === e) return r(o, i, n)
        } else if (r[e]) return r[e](o, i, n);
        t.preventDefault()
    }, Ia.prototype.open = function(e, t) {
        !t && this.isOpen(e) || (this.close(), this._updateAndOpen(e))
    }, Ia.prototype._getProviders = function(e) {
        var t = this._eventBus.createEvent({
            type: "contextPad.getProviders",
            providers: []
        });
        return this._eventBus.fire(t), t.providers
    }, Ia.prototype._updateAndOpen = function(e) {
        var t = this.getEntries(e),
            n = this.getPad(e),
            r = n.html;
        v(t, (function(e, t) {
            var n, o = e.group || "default",
                i = bt(e.html || '<div class="entry" draggable="true"></div>');
            et(i, "data-action", t), (n = xt("[data-group=" + o + "]", r)) || (n = bt('<div class="group" data-group="' + o + '"></div>'), r.appendChild(n)), n.appendChild(i), e.className && function(e, t) {
                var n = it(e);
                (c(t) ? t : t.split(/\s+/g)).forEach((function(e) {
                    n.add(e)
                }))
            }(i, e.className), e.title && et(i, "title", e.title), e.imageUrl && i.appendChild(bt('<img src="' + e.imageUrl + '">'))
        })), it(r).add("open"), this._current = {
            element: e,
            pad: n,
            entries: t
        }, this._eventBus.fire("contextPad.open", {
            current: this._current
        })
    }, Ia.prototype.getPad = function(e) {
        if (this.isOpen()) return this._current.pad;
        var t = this,
            n = this._overlays,
            r = bt('<div class="djs-context-pad"></div>'),
            o = I({
                html: r
            }, this._overlaysConfig);
        gt.bind(r, ".entry", "click", (function(e) {
            t.trigger("click", e)
        })), gt.bind(r, ".entry", "dragstart", (function(e) {
            t.trigger("dragstart", e)
        })), yt.bind(r, "mousedown", (function(e) {
            e.stopPropagation()
        })), this._overlayId = n.add(e, "context-pad", o);
        var i = n.get(this._overlayId);
        return this._eventBus.fire("contextPad.create", {
            element: e,
            pad: i
        }), i
    }, Ia.prototype.close = function() {
        this.isOpen() && (this._overlays.remove(this._overlayId), this._overlayId = null, this._eventBus.fire("contextPad.close", {
            current: this._current
        }), this._current = null)
    }, Ia.prototype.isOpen = function(e) {
        return !(!this._current || e && this._current.element !== e)
    };
    var La = {
        __depends__: [lo, Oo],
        contextPad: ["type", Ia]
    };

    function Ba(e, t, n, r) {
        function o(e, t) {
            return r.allowed("connection.create", {
                source: e,
                target: t
            })
        }
        e.on("connect.hover", (function(e) {
            var t, n = e.context,
                r = n.start,
                i = e.hover;
            if (n.hover = i, !u(t = n.canExecute = o(r, i))) {
                if (!1 !== t) return n.source = r, void(n.target = i);
                u(t = n.canExecute = o(i, r)) || !1 !== t && (n.source = i, n.target = r)
            }
        })), e.on(["connect.out", "connect.cleanup"], (function(e) {
            var t = e.context;
            t.hover = null, t.source = null, t.target = null, t.canExecute = !1
        })), e.on("connect.end", (function(e) {
            var t = e.context,
                r = t.canExecute,
                o = t.connectionStart,
                i = {
                    x: e.x,
                    y: e.y
                },
                a = t.source,
                s = t.target;
            if (!r) return !1;
            var u = null,
                c = {
                    connectionStart: $a(t) ? i : o,
                    connectionEnd: $a(t) ? o : i
                };
            l(r) && (u = r), n.connect(a, s, u, c)
        })), this.start = function(e, n, r, o) {
            l(r) || (o = r, r = Pi(n)), t.init(e, "connect", {
                autoActivate: o,
                data: {
                    shape: n,
                    context: {
                        start: n,
                        connectionStart: r
                    }
                }
            })
        }
    }

    function $a(e) {
        var t = e.hover,
            n = e.source,
            r = e.target;
        return t && n && t === n && n !== r
    }
    Ba.$inject = ["eventBus", "dragging", "modeling", "rules"];

    function Va(e, t, n) {
        var r = e.get("connectionPreview", !1);
        r && t.on("connect.move", (function(e) {
            var t = e.context,
                n = t.canExecute,
                o = t.hover,
                i = t.source,
                a = t.start,
                s = t.startPosition,
                u = t.connectionStart,
                c = t.connectionEnd,
                l = t.target;
            u || (u = $a(t) ? {
                x: e.x,
                y: e.y
            } : s), c || (c = $a(t) ? s : {
                x: e.x,
                y: e.y
            }), r.drawPreview(t, n, {
                source: i || a,
                target: l || o,
                connectionStart: u,
                connectionEnd: c
            })
        })), t.on("connect.hover", 900, (function(e) {
            var t = e.context,
                r = e.hover,
                o = t.canExecute;
            null !== o && n.addMarker(r, o ? "connect-ok" : "connect-not-ok")
        })), t.on(["connect.out", "connect.cleanup"], 1100, (function(e) {
            var t = e.hover;
            t && (n.removeMarker(t, "connect-ok"), n.removeMarker(t, "connect-not-ok"))
        })), r && t.on("connect.cleanup", (function(e) {
            r.cleanUp(e.context)
        }))
    }
    Va.$inject = ["injector", "eventBus", "canvas"];
    var za = {
            __depends__: [go, ia, ea],
            __init__: ["connectPreview"],
            connect: ["type", Ba],
            connectPreview: ["type", Va]
        },
        Fa = ["marker-start", "marker-mid", "marker-end"],
        qa = ["circle", "ellipse", "line", "path", "polygon", "polyline", "rect"];

    function Ha(e, t, n, r) {
        this._elementRegistry = e, this._canvas = n, this._styles = r, this._clonedMarkers = {};
        var o = this;
        t.on("drag.cleanup", (function() {
            v(o._clonedMarkers, (function(e) {
                jn(e)
            })), o._clonedMarkers = {}
        }))
    }
    Ha.$inject = ["elementRegistry", "eventBus", "canvas", "styles"], Ha.prototype.getGfx = function(e) {
        return this._elementRegistry.getGraphics(e)
    }, Ha.prototype.addDragger = function(e, t, n) {
        var r = Pn(n = n || this.getGfx(e)),
            o = n.getBoundingClientRect();
        return this._cloneMarkers(Tr(r)), _n(r, this._styles.cls("djs-dragger", [], {
            x: o.top,
            y: o.left
        })), vn(t, r), r
    }, Ha.prototype.addFrame = function(e, t) {
        var n = Mn("rect", {
            class: "djs-resize-overlay",
            width: e.width,
            height: e.height,
            x: e.x,
            y: e.y
        });
        return vn(t, n), n
    }, Ha.prototype._cloneMarkers = function(e) {
        var t, n = this;
        if (e.childNodes)
            for (var r = 0; r < e.childNodes.length; r++) n._cloneMarkers(e.childNodes[r]);
        (t = e, -1 !== qa.indexOf(t.nodeName)) && Fa.forEach((function(t) {
            if (_n(e, t)) {
                var r = function(e, t, n) {
                    return xt("marker#" + (r = _n(e, t), r.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]), n || document);
                    var r
                }(e, t, n._canvas.getContainer());
                n._cloneMarker(e, r, t)
            }
        }))
    }, Ha.prototype._cloneMarker = function(e, t, n) {
        var r = t.id,
            o = this._clonedMarkers[r];
        if (!o) {
            var i = r + "-clone";
            (o = Pn(t)).id = i, On(o).add("djs-dragger").add("djs-dragger-marker"), this._clonedMarkers[r] = o;
            var a = xt("defs", this._canvas._svg);
            a || (a = Mn("defs"), vn(this._canvas._svg, a)), vn(a, o)
        }
        _n(e, n, "url(#" + this._clonedMarkers[r].id + ")")
    };
    var Ua = {
            __init__: ["previewSupport"],
            previewSupport: ["type", Ha]
        },
        Wa = "drop-ok",
        Ga = "drop-not-ok",
        Ka = "attach-ok",
        Xa = "new-parent";

    function Ya(e, t, n, r, o) {
        function i(t, n) {
            [Ka, Wa, Ga, Xa].forEach((function(r) {
                r === n ? e.addMarker(t, r) : e.removeMarker(t, r)
            }))
        }

        function a() {
            var e = t.context();
            e && "create" === e.prefix && t.cancel()
        }
        n.on(["create.move", "create.hover"], (function(e) {
            var t = e.context,
                n = t.elements,
                r = e.hover,
                a = t.source,
                s = t.hints || {};
            if (!r) return t.canExecute = !1, void(t.target = null);
            Ja(e);
            var u = {
                    x: e.x,
                    y: e.y
                },
                c = t.canExecute = r && function(e, t, n, r, i) {
                    if (!t) return !1;
                    var a = y(e = m(e, (function(t) {
                            var n = t.labelTarget;
                            return !(t.parent || function(e) {
                                return !!e.labelTarget
                            }(t) && -1 !== e.indexOf(n))
                        })), (function(e) {
                            return !Za(e)
                        })),
                        s = !1,
                        u = !1,
                        c = !1;
                    Qa(e) && (s = o.allowed("shape.attach", {
                        position: n,
                        shape: a,
                        target: t
                    })), s || (c = Qa(e) ? o.allowed("shape.create", {
                        position: n,
                        shape: a,
                        source: r,
                        target: t
                    }) : o.allowed("elements.create", {
                        elements: e,
                        position: n,
                        target: t
                    }));
                    var l = i.connectionTarget;
                    return c || s ? (a && r && (u = o.allowed("connection.create", {
                        source: l === r ? a : r,
                        target: l === r ? r : a,
                        hints: {
                            targetParent: t,
                            targetAttach: s
                        }
                    })), {
                        attach: s,
                        connect: u
                    }) : (null === c || null === s) && null
                }(n, r, u, a, s);
            r && null !== c && (t.target = r, c && c.attach ? i(r, Ka) : i(r, c ? Xa : Ga))
        })), n.on(["create.end", "create.out", "create.cleanup"], (function(e) {
            var t = e.hover;
            t && i(t, null)
        })), n.on("create.end", (function(e) {
            var t = e.context,
                n = t.source,
                o = t.shape,
                i = t.elements,
                a = t.target,
                s = t.canExecute,
                u = s && s.attach,
                c = s && s.connect,
                l = t.hints || {};
            if (!1 === s || !a) return !1;
            Ja(e);
            var p = {
                x: e.x,
                y: e.y
            };
            o = c ? r.appendShape(n, o, p, a, {
                attach: u,
                connection: !0 === c ? {} : c,
                connectionTarget: l.connectionTarget
            }) : y(i = r.createElements(i, p, a, I({}, l, {
                attach: u
            })), (function(e) {
                return !Za(e)
            })), I(t, {
                elements: i,
                shape: o
            }), I(e, {
                elements: i,
                shape: o
            })
        })), n.on("create.init", (function() {
            n.on("elements.changed", a), n.once(["create.cancel", "create.end"], 2e3, (function() {
                n.off("elements.changed", a)
            }))
        })), this.start = function(e, n, r) {
            c(n) || (n = [n]);
            var o = y(n, (function(e) {
                return !Za(e)
            }));
            if (o) {
                r = I({
                    elements: n,
                    hints: {},
                    shape: o
                }, r || {}), v(n, (function(e) {
                    p(e.x) || (e.x = 0), p(e.y) || (e.y = 0)
                }));
                var i = Qn(n);
                v(n, (function(e) {
                    Za(e) && (e.waypoints = w(e.waypoints, (function(e) {
                        return {
                            x: e.x - i.x - i.width / 2,
                            y: e.y - i.y - i.height / 2
                        }
                    }))), I(e, {
                        x: e.x - i.x - i.width / 2,
                        y: e.y - i.y - i.height / 2
                    })
                })), t.init(e, "create", {
                    cursor: "grabbing",
                    autoActivate: !0,
                    data: {
                        shape: o,
                        elements: n,
                        context: r
                    }
                })
            }
        }
    }

    function Ja(e) {
        var t = e.context.createConstraints;
        t && (t.left && (e.x = Math.max(e.x, t.left)), t.right && (e.x = Math.min(e.x, t.right)), t.top && (e.y = Math.max(e.y, t.top)), t.bottom && (e.y = Math.min(e.y, t.bottom)))
    }

    function Za(e) {
        return !!e.waypoints
    }

    function Qa(e) {
        return e && 1 === e.length && !Za(e[0])
    }
    Ya.$inject = ["canvas", "dragging", "eventBus", "modeling", "rules"];

    function es(e, t, n, r, o) {
        t.on("create.move", 750, (function(t) {
            var i = t.hover,
                a = t.context,
                s = a.elements,
                u = a.dragGroup;
            u || (u = a.dragGroup = function(e) {
                var t = Mn("g");
                _n(t, o.cls("djs-drag-group", ["no-events"]));
                var i = Mn("g");
                return e.forEach((function(e) {
                    var o;
                    e.hidden || (e.waypoints ? (o = n._createContainer("connection", i), n.drawConnection(Tr(o), e)) : (o = n._createContainer("shape", i), n.drawShape(Tr(o), e), Dr(o, e.x, e.y)), r.addDragger(e, t, o))
                })), t
            }(s)), i ? (u.parentNode || vn(e.getDefaultLayer(), u), Dr(u, t.x, t.y)) : jn(u)
        })), t.on("create.cleanup", (function(e) {
            var t = e.context.dragGroup;
            t && jn(t)
        }))
    }
    es.$inject = ["canvas", "eventBus", "graphicsFactory", "previewSupport", "styles"];
    var ts = {
            __depends__: [ea, Ua, ia, go],
            __init__: ["create", "createPreview"],
            create: ["type", Ya],
            createPreview: ["type", es]
        },
        ns = ["contextPad.close", "canvas.viewbox.changing", "commandStack.changed"];

    function rs(e, t, n) {
        var r = s(e && e.scale) ? e.scale : {
            min: 1,
            max: 1.5
        };
        this._config = {
            scale: r
        }, this._eventBus = t, this._canvas = n, this._providers = {}, this._current = {}
    }
    rs.$inject = ["config.popupMenu", "eventBus", "canvas"], rs.prototype.registerProvider = function(e, t, n) {
        n || (n = t, t = 1e3), this._eventBus.on("popupMenu.getProviders." + e, t, (function(e) {
            e.providers.push(n)
        }))
    }, rs.prototype.isEmpty = function(e, t) {
        if (!e) throw new Error("element parameter is missing");
        if (!t) throw new Error("providerId parameter is missing");
        var n = this._getProviders(t);
        if (!n) return !0;
        var r = this._getEntries(e, n),
            o = this._getHeaderEntries(e, n),
            i = E(r) > 0,
            a = o && E(o) > 0;
        return !i && !a
    }, rs.prototype.open = function(e, t, n) {
        var r = this._getProviders(t);
        if (!e) throw new Error("Element is missing");
        if (!r || !r.length) throw new Error("No registered providers for: " + t);
        if (!n) throw new Error("the position argument is missing");
        this.isOpen() && this.close(), this._emit("open");
        var o = this._current = {
                className: t,
                element: e,
                position: n
            },
            i = this._getEntries(e, r),
            a = this._getHeaderEntries(e, r);
        o.entries = I({}, i, a), o.container = this._createContainer(), E(a) && o.container.appendChild(this._createEntries(a, "djs-popup-header")), E(i) && o.container.appendChild(this._createEntries(i, "djs-popup-body"));
        var s = this._canvas.getContainer();
        this._attachContainer(o.container, s, n.cursor), this._bindAutoClose()
    }, rs.prototype.close = function() {
        this.isOpen() && (this._emit("close"), this._unbindAutoClose(), Ct(this._current.container), this._current.container = null)
    }, rs.prototype.isOpen = function() {
        return !!this._current.container
    }, rs.prototype.trigger = function(e) {
        e.preventDefault();
        var t = et(e.delegateTarget || e.target, "data-id"),
            n = this._getEntry(t);
        if (n.action) return n.action.call(null, e, n)
    }, rs.prototype._getProviders = function(e) {
        var t = this._eventBus.createEvent({
            type: "popupMenu.getProviders." + e,
            providers: []
        });
        return this._eventBus.fire(t), t.providers
    }, rs.prototype._getEntries = function(e, t) {
        var n = {};
        return v(t, (function(t) {
            if (t.getPopupMenuEntries) {
                var r = t.getPopupMenuEntries(e);
                f(r) ? n = r(n) : v(r, (function(e, t) {
                    n[t] = e
                }))
            } else v(t.getEntries(e), (function(e) {
                var t = e.id;
                if (!t) throw new Error("every entry must have the id property set");
                n[t] = B(e, ["id"])
            }))
        })), n
    }, rs.prototype._getHeaderEntries = function(e, t) {
        var n = {};
        return v(t, (function(t) {
            if (t.getPopupMenuHeaderEntries) {
                var r = t.getPopupMenuHeaderEntries(e);
                f(r) ? n = r(n) : v(r, (function(e, t) {
                    n[t] = e
                }))
            } else {
                if (!t.getHeaderEntries) return;
                v(t.getHeaderEntries(e), (function(e) {
                    var t = e.id;
                    if (!t) throw new Error("every entry must have the id property set");
                    n[t] = B(e, ["id"])
                }))
            }
        })), n
    }, rs.prototype._getEntry = function(e) {
        var t = this._current.entries[e];
        if (!t) throw new Error("entry not found");
        return t
    }, rs.prototype._emit = function(e) {
        this._eventBus.fire("popupMenu." + e)
    }, rs.prototype._createContainer = function() {
        var e = bt('<div class="djs-popup">'),
            t = this._current.position,
            n = this._current.className;
        return I(e.style, {
            position: "absolute",
            left: t.x + "px",
            top: t.y + "px",
            visibility: "hidden"
        }), it(e).add(n), e
    }, rs.prototype._attachContainer = function(e, t, n) {
        var r = this;
        gt.bind(e, ".entry", "click", (function(e) {
            r.trigger(e)
        })), this._updateScale(e), t.appendChild(e), n && this._assureIsInbounds(e, n)
    }, rs.prototype._updateScale = function(e) {
        var t, n, r, o, i = this._canvas.zoom(),
            a = this._config.scale,
            u = i;
        !0 !== a && (!1 === a ? (t = 1, n = 1) : (t = a.min, n = a.max), s(t) && i < t && (u = t), s(n) && i > n && (u = n)), o = "scale(" + u + ")", (r = e).style["transform-origin"] = "top left", ["", "-ms-", "-webkit-"].forEach((function(e) {
            r.style[e + "transform"] = o
        }))
    }, rs.prototype._assureIsInbounds = function(e, t) {
        var n, r, o = this._canvas._container.getBoundingClientRect(),
            i = e.offsetLeft,
            a = e.offsetTop,
            s = e.scrollWidth,
            u = e.scrollHeight,
            c = {},
            l = t.x - o.left,
            p = t.y - o.top;
        i + s > o.width && (c.x = !0), a + u > o.height && (c.y = !0), c.x && c.y ? (n = l - s + "px", r = p - u + "px") : c.x ? (n = l - s + "px", r = p + "px") : c.y && p < u ? (n = l + "px", r = "10px") : c.y && (n = l + "px", r = p - u + "px"), I(e.style, {
            left: n,
            top: r
        }, {
            visibility: "visible",
            "z-index": 1e3
        })
    }, rs.prototype._createEntries = function(e, t) {
        var n = bt("<div>"),
            r = this;
        return it(n).add(t), v(e, (function(e, t) {
            var o = r._createEntry(e, t);
            n.appendChild(o)
        })), n
    }, rs.prototype._createEntry = function(e, t) {
        var n = bt("<div>"),
            r = it(n);
        if (r.add("entry"), e.className && e.className.split(" ").forEach((function(e) {
                r.add(e)
            })), et(n, "data-id", t), e.label) {
            var o = bt("<span>");
            o.textContent = e.label, n.appendChild(o)
        }
        return e.imageUrl && n.appendChild(bt('<img src="' + e.imageUrl + '" />')), !0 === e.active && r.add("active"), !0 === e.disabled && r.add("disabled"), e.title && (n.title = e.title), n
    }, rs.prototype._bindAutoClose = function() {
        this._eventBus.once(ns, this.close, this)
    }, rs.prototype._unbindAutoClose = function() {
        this._eventBus.off(ns, this.close, this)
    };
    var os = {
            __init__: ["popupMenu"],
            popupMenu: ["type", rs]
        },
        is = Math.round;

    function as(e) {
        this._modeling = e
    }
    as.$inject = ["modeling"], as.prototype.replaceElement = function(e, t, n) {
        if (e.waypoints) return null;
        var r = this._modeling,
            o = t.width || e.width,
            i = t.height || e.height,
            a = t.x || e.x,
            s = t.y || e.y,
            u = is(a + o / 2),
            c = is(s + i / 2);
        return r.replaceShape(e, I({}, t, {
            x: u,
            y: c,
            width: o,
            height: i
        }), n)
    };
    var ss = {
        __init__: ["replace"],
        replace: ["type", as]
    };

    function us(e, t, n, r) {
        this.replaceElement = function(n, r, o) {
            o = o || {};
            var i = r.type,
                a = n.businessObject,
                s = e.create(i),
                u = {
                    type: i,
                    businessObject: s
                };
            if (u.width = n.width, u.height = n.height, s.name = a.name, r.table) {
                var c = e.create("dmn:DecisionTable");
                s.decisionLogic = c, c.$parent = s;
                var l = e.create("dmn:OutputClause");
                l.typeRef = "string", l.$parent = c, c.output = [l];
                var p = e.create("dmn:InputClause");
                p.$parent = c;
                var f = e.create("dmn:LiteralExpression", {
                    typeRef: "string"
                });
                p.inputExpression = f, f.$parent = p, c.input = [p]
            }
            return r.expression && (s.decisionLogic = e.create("dmn:LiteralExpression"), s.variable = e.create("dmn:InformationItem")), t.replaceElement(n, u, o)
        }
    }
    us.$inject = ["drdFactory", "replace", "selection", "modeling"];
    var cs = {
            __depends__: [ss, go],
            drdReplace: ["type", us]
        },
        ls = [{
            label: "Empty",
            actionName: "replace-with-empty-decision",
            className: "dmn-icon-clear",
            target: {
                type: "dmn:Decision",
                table: !1,
                expression: !1
            }
        }, {
            label: "Decision Table",
            actionName: "replace-with-decision-table",
            className: "dmn-icon-decision-table",
            target: {
                type: "dmn:Decision",
                table: !0,
                expression: !1
            }
        }, {
            label: "Literal Expression",
            actionName: "replace-with-literal-expression",
            className: "dmn-icon-literal-expression",
            target: {
                type: "dmn:Decision",
                table: !1,
                expression: !0
            }
        }];

    function ps(e, t, n, r, o, i) {
        this._popupMenu = e, this._modeling = t, this._moddle = n, this._drdReplace = r, this._rules = o, this._translate = i, this.register()
    }
    ps.$inject = ["popupMenu", "modeling", "moddle", "drdReplace", "rules", "translate"], ps.prototype.register = function() {
        this._popupMenu.registerProvider("dmn-replace", this)
    }, ps.prototype.getEntries = function(e) {
        var t = e.businessObject;
        if (!this._rules.allowed("shape.replace", {
                element: e
            })) return [];
        if (Vt(t, "dmn:Decision")) {
            var n = m(ls, (function(e) {
                var n = "replace-with-empty-decision" === e.actionName && t.decisionLogic,
                    r = "replace-with-decision-table" === e.actionName && !Vt(t.decisionLogic, "dmn:DecisionTable"),
                    o = "replace-with-literal-expression" === e.actionName && !Vt(t.decisionLogic, "dmn:LiteralExpression");
                return n || r || o
            }));
            return this._createEntries(e, n)
        }
        return []
    }, ps.prototype._createEntries = function(e, t) {
        var n = [],
            r = this;
        return v(t, (function(t) {
            var o = r._createMenuEntry(t, e);
            n.push(o)
        })), n
    }, ps.prototype._createMenuEntry = function(e, t, n) {
        var r = this._drdReplace.replaceElement;
        return n = n || function() {
            return r(t, e.target)
        }, {
            label: (0, this._translate)(e.label),
            className: e.className,
            id: e.actionName,
            action: n
        }
    }, ps.prototype.getHeaderEntries = function(e) {
        return []
    };
    var fs = {
        __depends__: [to, os, cs],
        __init__: ["replaceMenuProvider"],
        replaceMenuProvider: ["type", ps]
    };

    function ds(e, t, n, r, o, i, a, s, u, c, l, p) {
        l = l || {}, t.registerProvider(this), this._contextPad = t, this._modeling = n, this._elementFactory = r, this._connect = o, this._create = i, this._rules = a, this._popupMenu = s, this._canvas = u, this._translate = c, !1 !== l.autoPlace && (this._autoPlace = p.get("autoPlace", !1)), e.on("create.end", 250, (function(e) {
            var n = e.context.shape;
            if (so(e)) {
                var r = t.getEntries(n);
                r.replace && r.replace.action.click(e, n)
            }
        }))
    }
    ds.$inject = ["eventBus", "contextPad", "modeling", "elementFactory", "connect", "create", "rules", "popupMenu", "canvas", "translate", "config.contextPad", "injector"], ds.prototype.getContextPadEntries = function(e) {
        var t = this._modeling,
            n = this._elementFactory,
            r = this._connect,
            o = this._create,
            i = this._popupMenu,
            a = this._canvas,
            s = this._contextPad,
            u = this._rules,
            l = this._translate,
            p = this._autoPlace,
            f = {};
        if ("label" === e.type) return f;
        var d = e.businessObject;

        function h(e, t, n) {
            r.start(e, t, n)
        }

        function y(e, t, r, i) {
            function a(t, r) {
                var a = n.createShape(I({
                    type: e
                }, i));
                o.start(t, a, {
                    source: r,
                    hints: {
                        connectionTarget: r
                    }
                })
            }
            return "string" != typeof r && (i = r, r = l("Append {type}", {
                type: e.replace(/^dmn:/, "")
            })), {
                group: "model",
                className: t,
                title: r,
                action: {
                    dragstart: a,
                    click: p ? function(t, r) {
                        var o = n.createShape(I({
                            type: e
                        }, i));
                        p.append(r, o, {
                            connectionTarget: r
                        })
                    } : a
                }
            }
        }
        Vt(d, "dmn:Decision") && I(f, {
            "append.decision": y("dmn:Decision", "dmn-icon-decision")
        }), Ht(d, ["dmn:BusinessKnowledgeModel", "dmn:Decision", "dmn:KnowledgeSource"]) && I(f, {
            "append.knowledge-source": y("dmn:KnowledgeSource", "dmn-icon-knowledge-source")
        }), Ht(d, ["dmn:BusinessKnowledgeModel", "dmn:Decision"]) && I(f, {
            "append.business-knowledge-model": y("dmn:BusinessKnowledgeModel", "dmn-icon-business-knowledge")
        }), Ht(d, ["dmn:Decision", "dmn:KnowledgeSource"]) && I(f, {
            "append.input-data": y("dmn:InputData", "dmn-icon-input-data")
        }), Vt(d, "dmn:DRGElement") && I(f, {
            "append.text-annotation": y("dmn:TextAnnotation", "dmn-icon-text-annotation"),
            connect: {
                group: "connect",
                className: "dmn-icon-connection-multi",
                title: l("Connect using Information/Knowledge/Authority Requirement or Association"),
                action: {
                    click: h,
                    dragstart: h
                }
            }
        }), i.isEmpty(e, "dmn-replace") || I(f, {
            replace: {
                group: "edit",
                className: "dmn-icon-screw-wrench",
                title: l("Change type"),
                action: {
                    click: function(e, t) {
                        var n = I(function(e) {
                            var t = a.getContainer(),
                                n = s.getPad(e).html,
                                r = t.getBoundingClientRect(),
                                o = n.getBoundingClientRect(),
                                i = o.top - r.top;
                            return {
                                x: o.left - r.left,
                                y: i + o.height + 5
                            }
                        }(t), {
                            cursor: {
                                x: e.x,
                                y: e.y
                            }
                        });
                        i.open(t, "dmn-replace", n)
                    }
                }
            }
        });
        var m = u.allowed("elements.delete", {
            elements: [e]
        });
        return c(m) && (m = m[0] === e), m && I(f, {
            delete: {
                group: "edit",
                className: "dmn-icon-trash",
                title: l("Remove"),
                action: {
                    click: function(n) {
                        t.removeElements([e])
                    }
                }
            }
        }), f
    };
    var hs = {
        __depends__: [to, La, go, za, ts, fs],
        __init__: ["contextPadProvider"],
        contextPadProvider: ["type", ds]
    };

    function ys(e, t, n, r) {
        this._canvas = t, this._graphicsFactory = n, this._elementFactory = r, this._connectionDocking = e.get("connectionDocking", !1), this._layouter = e.get("layouter", !1)
    }
    ys.$inject = ["injector", "canvas", "graphicsFactory", "elementFactory"], ys.prototype.drawPreview = function(e, t, n) {
        n = n || {};
        var r, o, i, a = e.connectionPreviewGfx,
            s = e.getConnection,
            u = n.source,
            c = n.target,
            l = n.waypoints,
            p = n.connectionStart,
            f = n.connectionEnd,
            d = n.noLayout,
            h = n.noCropping,
            y = n.noNoop,
            m = this;
        a || (a = e.connectionPreviewGfx = this.createConnectionPreviewGfx()), kn(a), s || (s = e.getConnection = (o = function(e, t, n) {
            return m.getConnection(e, t, n)
        }, i = {}, function(e) {
            var t = JSON.stringify(e),
                n = i[t];
            return n || (n = i[t] = o.apply(null, arguments)), n
        })), t && (r = s(t, u, c)), r ? (r.waypoints = l || [], this._layouter && !d && (r.waypoints = this._layouter.layoutConnection(r, {
            source: u,
            target: c,
            connectionStart: p,
            connectionEnd: f,
            waypoints: n.waypoints || r.waypoints
        })), r.waypoints && r.waypoints.length || (r.waypoints = [u ? Pi(u) : p, c ? Pi(c) : f]), this._connectionDocking && (u || c) && !h && (r.waypoints = this._connectionDocking.getCroppedWaypoints(r, u, c)), this._graphicsFactory.drawConnection(a, r)) : !y && this.drawNoopPreview(a, n)
    }, ys.prototype.drawNoopPreview = function(e, t) {
        var n = t.source,
            r = t.target,
            o = t.connectionStart || Pi(n),
            i = t.connectionEnd || Pi(r),
            a = this.cropWaypoints(o, i, n, r);
        vn(e, this.createNoopConnection(a[0], a[1]))
    }, ys.prototype.cropWaypoints = function(e, t, n, r) {
        var o = this._graphicsFactory,
            i = n && o.getShapePath(n),
            a = r && o.getShapePath(r),
            s = o.getConnectionPath({
                waypoints: [e, t]
            });
        return [e = n && Di(i, s, !0) || e, t = r && Di(a, s, !1) || t]
    }, ys.prototype.cleanUp = function(e) {
        e && e.connectionPreviewGfx && jn(e.connectionPreviewGfx)
    }, ys.prototype.getConnection = function(e) {
        var t = function(e) {
            return l(e) ? e : {}
        }(e);
        return this._elementFactory.createConnection(t)
    }, ys.prototype.createConnectionPreviewGfx = function() {
        var e = Mn("g");
        return _n(e, {
            pointerEvents: "none"
        }), On(e).add("djs-connection-preview"), vn(this._canvas.getDefaultLayer(), e), e
    }, ys.prototype.createNoopConnection = function(e, t) {
        var n = Mn("polyline");
        return _n(n, {
            stroke: "#333",
            strokeDasharray: [1],
            strokeWidth: 2,
            "pointer-events": "none"
        }), _n(n, {
            points: [e.x, e.y, t.x, t.y]
        }), n
    };
    var ms = {
        __init__: ["connectionPreview"],
        connectionPreview: ["type", ys]
    };

    function vs(e, t, n) {
        this._eventBus = e, this._modeling = t, this._canvas = n, e.on("definitionIdView.create", (function(e) {
            var t = e.html,
                n = xt(".dmn-definitions-name", t),
                r = xt(".dmn-definitions-id", t);
            this._setup(n, "name"), this._setup(r, "id")
        }), this)
    }
    vs.$inject = ["eventBus", "modeling", "canvas"], vs.prototype.update = function(e, t) {
        var n = {};
        n[e] = t, this._modeling.updateProperties(this._canvas.getRootElement(), n)
    }, vs.prototype._setup = function(e, t) {
        var n = this;
        e.setAttribute("contenteditable", !0), e.addEventListener("input", M((function(e) {
            var r = e.target.value || e.target.textContent;
            n.update(t, r.trim())
        }), 300)), e.addEventListener("keydown", (function(t) {
            13 === t.keyCode && (e.blur(), window.getSelection().removeAllRanges())
        }))
    };
    var gs = {
            __init__: ["definitionPropertiesEdit", "definitionPropertiesPaletteAdapter"],
            definitionPropertiesEdit: ["type", vs],
            definitionPropertiesPaletteAdapter: ["type", jo]
        },
        bs = {
            horizontal: ["x", "width"],
            vertical: ["y", "height"]
        };

    function _s(e) {
        this._modeling = e, this._filters = [], this.registerFilter((function(e, t, n) {
            var r, o = 0,
                i = 0;
            return v(e, (function(e) {
                e.waypoints || e.labelTarget || (o += e[n], i += 1)
            })), r = Math.round(o / i), m(e, (function(e) {
                return e[n] < r + 50
            }))
        }))
    }
    _s.$inject = ["modeling"], _s.prototype.registerFilter = function(e) {
        if ("function" != typeof e) throw new Error("the filter has to be a function");
        this._filters.push(e)
    }, _s.prototype.trigger = function(e, t) {
        var n, r, o = this._modeling;
        if (!(e.length < 3 || (this._setOrientation(t), r = this._filterElements(e), (n = this._createGroups(r)).length <= 2))) return o.distributeElements(n, this._axis, this._dimension), n
    }, _s.prototype._filterElements = function(e) {
        var t = this._filters,
            n = this._axis,
            r = this._dimension,
            o = [].concat(e);
        return t.length ? (v(t, (function(e) {
            o = e(o, n, r)
        })), o) : e
    }, _s.prototype._createGroups = function(e) {
        var t = [],
            n = this,
            r = this._axis,
            o = this._dimension;
        if (!r) throw new Error('must have a defined "axis" and "dimension"');
        return v(j(e, r), (function(e, i) {
            var a, s = n._findRange(e, r, o),
                u = t[t.length - 1];
            u && n._hasIntersection(u.range, s) ? t[t.length - 1].elements.push(e) : (a = {
                range: s,
                elements: [e]
            }, t.push(a))
        })), t
    }, _s.prototype._setOrientation = function(e) {
        var t = bs[e];
        this._axis = t[0], this._dimension = t[1]
    }, _s.prototype._hasIntersection = function(e, t) {
        return Math.max(e.min, e.max) >= Math.min(t.min, t.max) && Math.min(e.min, e.max) <= Math.max(t.min, t.max)
    }, _s.prototype._findRange = function(e) {
        var t = e[this._axis];
        return {
            min: t + 5,
            max: t + e[this._dimension] - 5
        }
    };
    var ws = {
        __init__: ["distributeElements"],
        distributeElements: ["type", _s]
    };

    function xs(e) {
        e.registerFilter((function(e) {
            return m(e, (function(e) {
                var t = Ht(e, ["dmn:AuthorityRequirement", "dmn:InformationRequirement", "dmn:KnowledgeRequirement", "dmn:Association", "dmn:TextAnnotation"]);
                return !(e.labelTarget || t)
            }))
        }))
    }
    xs.$inject = ["distributeElements"];
    var Es = {
        __depends__: [ws],
        __init__: ["drdDistributeElements"],
        drdDistributeElements: ["type", xs]
    };

    function Cs(e, t) {
        this._actions = {};
        var n = this;
        e.on("diagram.init", (function() {
            n._registerDefaultActions(t), e.fire("editorActions.init", {
                editorActions: n
            })
        }))
    }

    function Os(e, t) {
        return new Error(e + " " + t)
    }
    Cs.$inject = ["eventBus", "injector"], Cs.prototype._registerDefaultActions = function(e) {
        var t = e.get("commandStack", !1),
            n = e.get("modeling", !1),
            r = e.get("selection", !1),
            o = e.get("zoomScroll", !1),
            i = e.get("copyPaste", !1),
            a = e.get("canvas", !1),
            s = e.get("rules", !1),
            u = e.get("keyboardMove", !1),
            l = e.get("keyboardMoveSelection", !1);
        t && (this.register("undo", (function() {
            t.undo()
        })), this.register("redo", (function() {
            t.redo()
        }))), i && r && this.register("copy", (function() {
            var e = r.get();
            i.copy(e)
        })), i && this.register("paste", (function() {
            i.paste()
        })), o && this.register("stepZoom", (function(e) {
            o.stepZoom(e.value)
        })), a && this.register("zoom", (function(e) {
            a.zoom(e.value)
        })), n && r && s && this.register("removeSelection", (function() {
            var e = r.get();
            if (e.length) {
                var t, o = s.allowed("elements.delete", {
                    elements: e
                });
                !1 !== o && (t = c(o) ? o : e).length && n.removeElements(t.slice())
            }
        })), u && this.register("moveCanvas", (function(e) {
            u.moveCanvas(e)
        })), l && this.register("moveSelection", (function(e) {
            l.moveSelection(e.direction, e.accelerated)
        }))
    }, Cs.prototype.trigger = function(e, t) {
        if (!this._actions[e]) throw Os(e, "is not a registered action");
        return this._actions[e](t)
    }, Cs.prototype.register = function(e, t) {
        var n = this;
        if ("string" == typeof e) return this._registerAction(e, t);
        v(e, (function(e, t) {
            n._registerAction(t, e)
        }))
    }, Cs.prototype._registerAction = function(e, t) {
        if (this.isRegistered(e)) throw Os(e, "is already registered");
        this._actions[e] = t
    }, Cs.prototype.unregister = function(e) {
        if (!this.isRegistered(e)) throw Os(e, "is not a registered action");
        this._actions[e] = void 0
    }, Cs.prototype.getActions = function() {
        return Object.keys(this._actions)
    }, Cs.prototype.isRegistered = function(e) {
        return !!this._actions[e]
    };
    var Ss = {
        __init__: ["editorActions"],
        editorActions: ["type", Cs]
    };

    function js(e) {
        e.invoke(Cs, this)
    }
    en()(js, Cs), js.$inject = ["injector"], js.prototype._registerDefaultActions = function(e) {
        Cs.prototype._registerDefaultActions.call(this, e);
        var t = e.get("canvas", !1),
            n = e.get("elementRegistry", !1),
            r = e.get("selection", !1),
            o = e.get("lassoTool", !1),
            i = e.get("directEditing", !1),
            a = e.get("distributeElements", !1),
            s = e.get("alignElements", !1);
        t && n && r && this._registerAction("selectElements", (function() {
            var e = t.getRootElement(),
                o = n.filter((function(t) {
                    return t !== e
                }));
            return r.select(o), o
        })), r && a && this._registerAction("distributeElements", (function(e) {
            var t = r.get(),
                n = e.type;
            t.length > 2 && a.trigger(t, n)
        })), r && s && this._registerAction("alignElements", (function(e) {
            var t = r.get(),
                n = e.type;
            t.length > 1 && s.trigger(t, n)
        })), o && this._registerAction("lassoTool", (function() {
            o.toggle()
        })), r && i && this._registerAction("directEditing", (function() {
            var e = r.get();
            e.length && i.activate(e[0])
        }))
    };
    var ks = {
        __depends__: [Ss],
        editorActions: ["type", js]
    };

    function Ps(e) {
        return e.dmnDI && e.dmnDI.diagrams && e.dmnDI.diagrams[0]
    }

    function Ts(e, t, n, r) {
        n.on("import.start", (function(n) {
            var o = n.definitions;
            Ps(o) || function(n) {
                var o = n.dmnDI;
                o || (o = e.create("dmndi:DMNDI"), n.set("dmnDI", o));
                var i = e.create("dmndi:DMNDiagram");
                o.set("diagrams", [i]);
                var a = 0;
                v(n.get("drgElement"), (function(n) {
                    if (Vt(n, "dmn:Decision")) {
                        var o = t._getDefaultSize(n),
                            s = e.createDiShape(n, {
                                x: 150 + 30 * a,
                                y: 150 + 30 * a,
                                width: o.width,
                                height: o.height
                            });
                        r.updateDiParent(s, i), a++
                    }
                }))
            }(o)
        }))
    }
    Ts.$inject = ["drdFactory", "elementFactory", "eventBus", "drdUpdater"];
    var Ds = {
        __init__: ["diGenerator"],
        diGenerator: ["type", Ts]
    };

    function Rs(e) {
        return !e.altKey && (e.ctrlKey || e.metaKey)
    }

    function Ms(e, t) {
        return -1 !== (e = c(e) ? e : [e]).indexOf(t.key) || -1 !== e.indexOf(t.keyCode)
    }

    function As(e) {
        return e.shiftKey
    }

    function Ns(e, t, n) {
        return n || (n = "round"), Math[n](e / t) * t
    }

    function Is(e, t, n) {
        var r = !n || !1 !== n.active;
        this._eventBus = t;
        var o = this;
        t.on("diagram.init", 800, (function() {
            o.setActive(r)
        })), t.on(["create.move", "create.end", "bendpoint.move.move", "bendpoint.move.end", "connect.move", "connect.end", "connectionSegment.move.move", "connectionSegment.move.end", "resize.move", "resize.end", "shape.move.move", "shape.move.end"], 1200, (function(t) {
            var n = t.originalEvent;
            if (!(!o.active || n && Rs(n))) {
                var r = t.context,
                    i = r.gridSnappingContext;
                i || (i = r.gridSnappingContext = {}), ["x", "y"].forEach((function(n) {
                    var r = {},
                        i = function(e, t, n) {
                            var r = e.context,
                                o = e.shape,
                                i = r.gridSnappingContext,
                                a = i.snapLocation,
                                s = i.snapOffset;
                            if (s && p(s[t])) return s[t];
                            s || (s = i.snapOffset = {});
                            p(s[t]) || (s[t] = 0);
                            if (!o) return s[t];
                            n.get(o.id) || (Ls(t) ? s[t] += o[t] + o.width / 2 : s[t] += o[t] + o.height / 2);
                            if (!a) return s[t];
                            "x" === t ? /left/.test(a) ? s[t] -= o.width / 2 : /right/.test(a) && (s[t] += o.width / 2) : /top/.test(a) ? s[t] -= o.height / 2 : /bottom/.test(a) && (s[t] += o.height / 2);
                            return s[t]
                        }(t, n, e);
                    i && (r.offset = i);
                    var a = function(e, t) {
                        var n = e.context,
                            r = n.createConstraints,
                            o = n.resizeConstraints || {},
                            i = n.gridSnappingContext,
                            a = i.snapConstraints;
                        if (a && a[t]) return a[t];
                        a || (a = i.snapConstraints = {});
                        a[t] || (a[t] = {});
                        var s = n.direction;
                        r && (Ls(t) ? (a.x.min = r.left, a.x.max = r.right) : (a.y.min = r.top, a.y.max = r.bottom));
                        var u = o.min,
                            c = o.max;
                        u && (Ls(t) ? $s(s) ? a.x.max = u.left : a.x.min = u.right : Bs(s) ? a.y.max = u.top : a.y.min = u.bottom);
                        c && (Ls(t) ? $s(s) ? a.x.min = c.left : a.x.max = c.right : Bs(s) ? a.y.min = c.top : a.y.max = c.bottom);
                        return a[t]
                    }(t, n);
                    a && I(r, a), Pa(t, n) || o.snapEvent(t, n, r)
                }))
            }
        }))
    }

    function Ls(e) {
        return "x" === e
    }

    function Bs(e) {
        return -1 !== e.indexOf("n")
    }

    function $s(e) {
        return -1 !== e.indexOf("w")
    }
    Is.prototype.snapEvent = function(e, t, n) {
        Ta(e, t, this.snapValue(e[t], n))
    }, Is.prototype.getGridSpacing = function() {
        return 10
    }, Is.prototype.snapValue = function(e, t) {
        var n, r, o = 0;
        return t && t.offset && (o = t.offset), e = Ns(e += o, 10), t && t.min && p(n = t.min) && (n = Ns(n + o, 10, "ceil"), e = Math.max(e, n)), t && t.max && p(r = t.max) && (r = Ns(r + o, 10, "floor"), e = Math.min(e, r)), e -= o
    }, Is.prototype.isActive = function() {
        return this.active
    }, Is.prototype.setActive = function(e) {
        this.active = e, this._eventBus.fire("gridSnapping.toggle", {
            active: e
        })
    }, Is.prototype.toggleActive = function() {
        this.setActive(!this.active)
    }, Is.$inject = ["elementRegistry", "eventBus", "config.gridSnapping"];

    function Vs(e) {
        this._eventBus = e
    }
    Vs.$inject = ["eventBus"], Vs.prototype.on = function(e, t, n, r, o, i) {
        if ((f(t) || p(t)) && (i = o, o = r, r = n, n = t, t = null), f(n) && (i = o, o = r, r = n, n = 1e3), l(o) && (i = o, o = !1), !f(r)) throw new Error("handlerFn must be a function");
        c(e) || (e = [e]);
        var a = this._eventBus;
        v(e, (function(e) {
            var s = ["commandStack", e, t].filter((function(e) {
                return e
            })).join(".");
            a.on(s, n, o ? function(e, t) {
                return function(n) {
                    return e.call(t || null, n.context, n.command, n)
                }
            }(r, i) : r, i)
        }))
    };

    function zs(e, t) {
        Vs.call(this, e), this._gridSnapping = t;
        var n = this;
        this.preExecute("shape.resize", (function(e) {
            var t = e.context,
                r = (t.hints || {}).autoResize;
            if (r) {
                var o = t.shape,
                    i = t.newBounds;
                d(r) ? t.newBounds = n.snapComplex(i, r) : t.newBounds = n.snapSimple(o, i)
            }
        }))
    }
    v(["canExecute", "preExecute", "preExecuted", "execute", "executed", "postExecute", "postExecuted", "revert", "reverted"], (function(e) {
        Vs.prototype[e] = function(t, n, r, o, i) {
            (f(t) || p(t)) && (i = o, o = r, r = n, n = t, t = null), this.on(t, e, n, r, o, i)
        }
    })), zs.$inject = ["eventBus", "gridSnapping", "modeling"], en()(zs, Vs), zs.prototype.snapSimple = function(e, t) {
        var n = this._gridSnapping;
        return t.width = n.snapValue(t.width, {
            min: t.width
        }), t.height = n.snapValue(t.height, {
            min: t.height
        }), t.x = e.x + e.width / 2 - t.width / 2, t.y = e.y + e.height / 2 - t.height / 2, t
    }, zs.prototype.snapComplex = function(e, t) {
        return /w|e/.test(t) && (e = this.snapHorizontally(e, t)), /n|s/.test(t) && (e = this.snapVertically(e, t)), e
    }, zs.prototype.snapHorizontally = function(e, t) {
        var n = this._gridSnapping,
            r = /w/.test(t),
            o = /e/.test(t),
            i = {};
        return i.width = n.snapValue(e.width, {
            min: e.width
        }), o && (r ? (i.x = n.snapValue(e.x, {
            max: e.x
        }), i.width += n.snapValue(e.x - i.x, {
            min: e.x - i.x
        })) : e.x = e.x + e.width - i.width), I(e, i), e
    }, zs.prototype.snapVertically = function(e, t) {
        var n = this._gridSnapping,
            r = /n/.test(t),
            o = /s/.test(t),
            i = {};
        return i.height = n.snapValue(e.height, {
            min: e.height
        }), r && (o ? (i.y = n.snapValue(e.y, {
            max: e.y
        }), i.height += n.snapValue(e.y - i.y, {
            min: e.y - i.y
        })) : e.y = e.y + e.height - i.height), I(e, i), e
    };

    function Fs(e, t) {
        e.on(["spaceTool.move", "spaceTool.end"], 2e3, (function(e) {
            var n, r = e.context;
            r.initialized && ("x" === r.axis ? (n = t.snapValue(e.dx), e.x = e.x + n - e.dx, e.dx = n) : (n = t.snapValue(e.dy), e.y = e.y + n - e.dy, e.dy = n))
        }))
    }
    Fs.$inject = ["eventBus", "gridSnapping"];
    var qs = {
        __depends__: [{
            __init__: ["gridSnappingResizeBehavior", "gridSnappingSpaceToolBehavior"],
            gridSnappingResizeBehavior: ["type", zs],
            gridSnappingSpaceToolBehavior: ["type", Fs]
        }],
        __init__: ["gridSnapping"],
        gridSnapping: ["type", Is]
    };

    function Hs(e, t) {
        var n = this;
        this._config = e || {}, this._eventBus = t, this._keydownHandler = this._keydownHandler.bind(this), this._keyupHandler = this._keyupHandler.bind(this), t.on("diagram.destroy", (function() {
            n._fire("destroy"), n.unbind()
        })), t.on("diagram.init", (function() {
            n._fire("init")
        })), t.on("attach", (function() {
            e && e.bindTo && n.bind(e.bindTo)
        })), t.on("detach", (function() {
            n.unbind()
        }))
    }
    Hs.$inject = ["config.keyboard", "eventBus"], Hs.prototype._keydownHandler = function(e) {
        this._keyHandler(e, "keyboard.keydown")
    }, Hs.prototype._keyupHandler = function(e) {
        this._keyHandler(e, "keyboard.keyup")
    }, Hs.prototype._keyHandler = function(e, t) {
        if (! function(e) {
                return e && (lt(e, "input, textarea") || "true" === e.contentEditable)
            }(e.target)) {
            var n = {
                keyEvent: e
            };
            this._eventBus.fire(t || "keyboard.keydown", n) && e.preventDefault()
        }
    }, Hs.prototype.bind = function(e) {
        this.unbind(), this._node = e, yt.bind(e, "keydown", this._keydownHandler, !0), yt.bind(e, "keyup", this._keyupHandler, !0), this._fire("bind")
    }, Hs.prototype.getBinding = function() {
        return this._node
    }, Hs.prototype.unbind = function() {
        var e = this._node;
        e && (this._fire("unbind"), yt.unbind(e, "keydown", this._keydownHandler, !0), yt.unbind(e, "keyup", this._keyupHandler, !0)), this._node = null
    }, Hs.prototype._fire = function(e) {
        this._eventBus.fire("keyboard." + e, {
            node: this._node
        })
    }, Hs.prototype.addListener = function(e, t, n) {
        f(e) && (n = t, t = e, e = 1e3), this._eventBus.on(n || "keyboard.keydown", e, t)
    }, Hs.prototype.removeListener = function(e, t) {
        this._eventBus.off(t || "keyboard.keydown", e)
    }, Hs.prototype.hasModifier = function(e) {
        return e.ctrlKey || e.metaKey || e.shiftKey || e.altKey
    }, Hs.prototype.isCmd = Rs, Hs.prototype.isShift = As, Hs.prototype.isKey = Ms;
    var Us = ["c", "C", 67],
        Ws = ["v", "V", 86],
        Gs = ["y", "Y", 89],
        Ks = ["z", "Z", 90];

    function Xs(e, t) {
        var n = this;
        e.on("editorActions.init", 500, (function(e) {
            var r = e.editorActions;
            n.registerBindings(t, r)
        }))
    }
    Xs.$inject = ["eventBus", "keyboard"], Xs.prototype.registerBindings = function(e, t) {
        function n(n, r) {
            t.isRegistered(n) && e.addListener(r)
        }
        n("undo", (function(e) {
            var n = e.keyEvent;
            if (Rs(n) && !As(n) && Ms(Ks, n)) return t.trigger("undo"), !0
        })), n("redo", (function(e) {
            var n = e.keyEvent;
            if (Rs(n) && (Ms(Gs, n) || Ms(Ks, n) && As(n))) return t.trigger("redo"), !0
        })), n("copy", (function(e) {
            var n = e.keyEvent;
            if (Rs(n) && Ms(Us, n)) return t.trigger("copy"), !0
        })), n("paste", (function(e) {
            var n = e.keyEvent;
            if (Rs(n) && Ms(Ws, n)) return t.trigger("paste"), !0
        })), n("stepZoom", (function(e) {
            var n = e.keyEvent;
            if (Ms(["+", "Add"], n) && Rs(n)) return t.trigger("stepZoom", {
                value: 1
            }), !0
        })), n("stepZoom", (function(e) {
            var n = e.keyEvent;
            if (Ms(["-", "Subtract"], n) && Rs(n)) return t.trigger("stepZoom", {
                value: -1
            }), !0
        })), n("zoom", (function(e) {
            var n = e.keyEvent;
            if (Ms("0", n) && Rs(n)) return t.trigger("zoom", {
                value: 1
            }), !0
        })), n("removeSelection", (function(e) {
            if (Ms(["Delete", "Del"], e.keyEvent)) return t.trigger("removeSelection"), !0
        }))
    };
    var Ys = {
        __init__: ["keyboard", "keyboardBindings"],
        keyboard: ["type", Hs],
        keyboardBindings: ["type", Xs]
    };

    function Js(e) {
        e.invoke(Xs, this)
    }
    en()(Js, Xs), Js.$inject = ["injector"], Js.prototype.registerBindings = function(e, t) {
        function n(n, r) {
            t.isRegistered(n) && e.addListener(r)
        }
        Xs.prototype.registerBindings.call(this, e, t), n("selectElements", (function(n) {
            var r = n.keyEvent;
            if (e.isKey(["a", "A"], r) && e.isCmd(r)) return t.trigger("selectElements"), !0
        })), n("lassoTool", (function(n) {
            var r = n.keyEvent;
            if (!e.hasModifier(r)) return e.isKey(["l", "L"], r) ? (t.trigger("lassoTool"), !0) : void 0
        })), n("directEditing", (function(n) {
            var r = n.keyEvent;
            if (!e.hasModifier(r)) return e.isKey(["e", "E"], r) ? (t.trigger("directEditing"), !0) : void 0
        }))
    };
    var Zs = {
            __depends__: [Ys],
            __init__: ["keyboardBindings"],
            keyboardBindings: ["type", Js]
        },
        Qs = {
            moveSpeed: 50,
            moveSpeedAccelerated: 200
        };

    function eu(e, t, n) {
        var r = this;
        this._config = I({}, Qs, e || {}), t.addListener((function(e) {
            var n = e.keyEvent,
                o = r._config;
            if (!t.isCmd(n)) return;
            if (t.isKey(["ArrowLeft", "Left", "ArrowUp", "Up", "ArrowDown", "Down", "ArrowRight", "Right"], n)) {
                var i, a = t.isShift(n) ? o.moveSpeedAccelerated : o.moveSpeed;
                switch (n.key) {
                    case "ArrowLeft":
                    case "Left":
                        i = "left";
                        break;
                    case "ArrowUp":
                    case "Up":
                        i = "up";
                        break;
                    case "ArrowRight":
                    case "Right":
                        i = "right";
                        break;
                    case "ArrowDown":
                    case "Down":
                        i = "down"
                }
                return r.moveCanvas({
                    speed: a,
                    direction: i
                }), !0
            }
        })), this.moveCanvas = function(e) {
            var t = 0,
                r = 0,
                o = e.speed / Math.min(Math.sqrt(n.viewbox().scale), 1);
            switch (e.direction) {
                case "left":
                    t = o;
                    break;
                case "up":
                    r = o;
                    break;
                case "right":
                    t = -o;
                    break;
                case "down":
                    r = -o
            }
            n.scroll({
                dx: t,
                dy: r
            })
        }
    }
    eu.$inject = ["config.keyboardMove", "keyboard", "canvas"];
    var tu = {
            __depends__: [Ys],
            __init__: ["keyboardMove"],
            keyboardMove: ["type", eu]
        },
        nu = {
            moveSpeed: 1,
            moveSpeedAccelerated: 10
        },
        ru = {
            ArrowLeft: "left",
            Left: "left",
            ArrowUp: "up",
            Up: "up",
            ArrowRight: "right",
            Right: "right",
            ArrowDown: "down",
            Down: "down"
        },
        ou = {
            left: function(e) {
                return {
                    x: -e,
                    y: 0
                }
            },
            up: function(e) {
                return {
                    x: 0,
                    y: -e
                }
            },
            right: function(e) {
                return {
                    x: e,
                    y: 0
                }
            },
            down: function(e) {
                return {
                    x: 0,
                    y: e
                }
            }
        };

    function iu(e, t, n, r, o) {
        var i = this;
        this._config = I({}, nu, e || {}), t.addListener(1500, (function(e) {
            var n = e.keyEvent,
                r = ru[n.key];
            if (r && !t.isCmd(n)) {
                var o = t.isShift(n);
                return i.moveSelection(r, o), !0
            }
        })), this.moveSelection = function(e, t) {
            var i = o.get();
            if (i.length) {
                var a = this._config[t ? "moveSpeedAccelerated" : "moveSpeed"],
                    s = ou[e](a);
                r.allowed("elements.move", {
                    shapes: i
                }) && n.moveElements(i, s)
            }
        }
    }
    iu.$inject = ["config.keyboardMoveSelection", "keyboard", "modeling", "rules", "selection"];
    var au = {
        __depends__: [Ys, go],
        __init__: ["keyboardMoveSelection"],
        keyboardMoveSelection: ["type", iu]
    };

    function su(e, t) {
        this._handlerMap = {}, this._stack = [], this._stackIdx = -1, this._currentExecution = {
            actions: [],
            dirty: []
        }, this._injector = t, this._eventBus = e, this._uid = 1, e.on(["diagram.destroy", "diagram.clear"], (function() {
            this.clear(!1)
        }), this)
    }
    su.$inject = ["eventBus", "injector"], su.prototype.execute = function(e, t) {
        if (!e) throw new Error("command required");
        var n = {
            command: e,
            context: t
        };
        this._pushAction(n), this._internalExecute(n), this._popAction(n)
    }, su.prototype.canExecute = function(e, t) {
        var n = {
                command: e,
                context: t
            },
            r = this._getHandler(e),
            o = this._fire(e, "canExecute", n);
        if (void 0 === o) {
            if (!r) return !1;
            r.canExecute && (o = r.canExecute(t))
        }
        return o
    }, su.prototype.clear = function(e) {
        this._stack.length = 0, this._stackIdx = -1, !1 !== e && this._fire("changed")
    }, su.prototype.undo = function() {
        var e, t = this._getUndoAction();
        if (t) {
            for (this._pushAction(t); t && (this._internalUndo(t), (e = this._getUndoAction()) && e.id === t.id);) t = e;
            this._popAction()
        }
    }, su.prototype.redo = function() {
        var e, t = this._getRedoAction();
        if (t) {
            for (this._pushAction(t); t && (this._internalExecute(t, !0), (e = this._getRedoAction()) && e.id === t.id);) t = e;
            this._popAction()
        }
    }, su.prototype.register = function(e, t) {
        this._setHandler(e, t)
    }, su.prototype.registerHandler = function(e, t) {
        if (!e || !t) throw new Error("command and handlerCls must be defined");
        var n = this._injector.instantiate(t);
        this.register(e, n)
    }, su.prototype.canUndo = function() {
        return !!this._getUndoAction()
    }, su.prototype.canRedo = function() {
        return !!this._getRedoAction()
    }, su.prototype._getRedoAction = function() {
        return this._stack[this._stackIdx + 1]
    }, su.prototype._getUndoAction = function() {
        return this._stack[this._stackIdx]
    }, su.prototype._internalUndo = function(e) {
        var t = this,
            n = e.command,
            r = e.context,
            o = this._getHandler(n);
        this._atomicDo((function() {
            t._fire(n, "revert", e), o.revert && t._markDirty(o.revert(r)), t._revertedAction(e), t._fire(n, "reverted", e)
        }))
    }, su.prototype._fire = function(e, t, n) {
        arguments.length < 3 && (n = t, t = null);
        var r, o, i, a = t ? [e + "." + t, t] : [e];
        for (n = this._eventBus.createEvent(n), r = 0;
            (o = a[r]) && (i = this._eventBus.fire("commandStack." + o, n), !n.cancelBubble); r++);
        return i
    }, su.prototype._createId = function() {
        return this._uid++
    }, su.prototype._atomicDo = function(e) {
        var t = this._currentExecution;
        t.atomic = !0;
        try {
            e()
        } finally {
            t.atomic = !1
        }
    }, su.prototype._internalExecute = function(e, t) {
        var n = this,
            r = e.command,
            o = e.context,
            i = this._getHandler(r);
        if (!i) throw new Error("no command handler registered for <" + r + ">");
        this._pushAction(e), t || (this._fire(r, "preExecute", e), i.preExecute && i.preExecute(o), this._fire(r, "preExecuted", e)), this._atomicDo((function() {
            n._fire(r, "execute", e), i.execute && n._markDirty(i.execute(o)), n._executedAction(e, t), n._fire(r, "executed", e)
        })), t || (this._fire(r, "postExecute", e), i.postExecute && i.postExecute(o), this._fire(r, "postExecuted", e)), this._popAction(e)
    }, su.prototype._pushAction = function(e) {
        var t = this._currentExecution,
            n = t.actions,
            r = n[0];
        if (t.atomic) throw new Error("illegal invocation in <execute> or <revert> phase (action: " + e.command + ")");
        e.id || (e.id = r && r.id || this._createId()), n.push(e)
    }, su.prototype._popAction = function() {
        var e = this._currentExecution,
            t = e.actions,
            n = e.dirty;
        t.pop(), t.length || (this._eventBus.fire("elements.changed", {
            elements: S("id", n.reverse())
        }), n.length = 0, this._fire("changed"))
    }, su.prototype._markDirty = function(e) {
        var t = this._currentExecution;
        e && (e = c(e) ? e : [e], t.dirty = t.dirty.concat(e))
    }, su.prototype._executedAction = function(e, t) {
        var n = ++this._stackIdx;
        t || this._stack.splice(n, this._stack.length, e)
    }, su.prototype._revertedAction = function(e) {
        this._stackIdx--
    }, su.prototype._getHandler = function(e) {
        return this._handlerMap[e]
    }, su.prototype._setHandler = function(e, t) {
        if (!e || !t) throw new Error("command and handler required");
        if (this._handlerMap[e]) throw new Error("overriding handler for command <" + e + ">");
        this._handlerMap[e] = t
    };
    var uu = {
        commandStack: ["type", su]
    };

    function cu(e, t, n, r) {
        e.on("element.changed", (function(r) {
            var o = r.element;
            (o.parent || o === t.getRootElement()) && (r.gfx = n.getGraphics(o)), r.gfx && e.fire(er(o) + ".changed", r)
        })), e.on("elements.changed", (function(t) {
            var n = t.elements;
            n.forEach((function(t) {
                e.fire("element.changed", {
                    element: t
                })
            })), r.updateContainments(n)
        })), e.on("shape.changed", (function(e) {
            r.update("shape", e.element, e.gfx)
        })), e.on("connection.changed", (function(e) {
            r.update("connection", e.element, e.gfx)
        }))
    }
    cu.$inject = ["eventBus", "canvas", "elementRegistry", "graphicsFactory"];
    var lu = {
            __init__: ["changeSupport"],
            changeSupport: ["type", cu]
        },
        pu = Math.min,
        fu = Math.max;

    function du(e) {
        e.preventDefault()
    }

    function hu(e) {
        e.stopPropagation()
    }

    function yu(e) {
        this.container = e.container, this.parent = bt('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'), this.content = xt("[contenteditable]", this.parent), this.keyHandler = e.keyHandler || function() {}, this.resizeHandler = e.resizeHandler || function() {}, this.autoResize = A(this.autoResize, this), this.handlePaste = A(this.handlePaste, this)
    }

    function mu(e, t) {
        this._eventBus = e, this._providers = [], this._textbox = new yu({
            container: t.getContainer(),
            keyHandler: A(this._handleKey, this),
            resizeHandler: A(this._handleResize, this)
        })
    }
    yu.prototype.create = function(e, t, n, r) {
        var o = this.parent,
            i = this.content,
            a = this.container;
        r = this.options = r || {};
        var s = L(t = this.style = t || {}, ["width", "height", "maxWidth", "maxHeight", "minWidth", "minHeight", "left", "top", "backgroundColor", "position", "overflow", "border", "wordWrap", "textAlign", "outline", "transform"]);
        I(o.style, {
            width: e.width + "px",
            height: e.height + "px",
            maxWidth: e.maxWidth + "px",
            maxHeight: e.maxHeight + "px",
            minWidth: e.minWidth + "px",
            minHeight: e.minHeight + "px",
            left: e.x + "px",
            top: e.y + "px",
            backgroundColor: "#ffffff",
            position: "absolute",
            overflow: "visible",
            border: "1px solid #ccc",
            boxSizing: "border-box",
            wordWrap: "normal",
            textAlign: "center",
            outline: "none"
        }, s);
        var u = L(t, ["fontFamily", "fontSize", "fontWeight", "lineHeight", "padding", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft"]);
        return I(i.style, {
            boxSizing: "border-box",
            width: "100%",
            outline: "none",
            wordWrap: "break-word"
        }, u), r.centerVertically && I(i.style, {
            position: "absolute",
            top: "50%",
            transform: "translate(0, -50%)"
        }, u), i.innerText = n, yt.bind(i, "keydown", this.keyHandler), yt.bind(i, "mousedown", hu), yt.bind(i, "paste", this.handlePaste), r.autoResize && yt.bind(i, "input", this.autoResize), r.resizable && this.resizable(t), a.appendChild(o), this.setSelection(i.lastChild, i.lastChild && i.lastChild.length), o
    }, yu.prototype.handlePaste = function(e) {
        var t, n = this.options,
            r = this.style;
        if (e.preventDefault(), t = e.clipboardData ? e.clipboardData.getData("text/plain") : window.clipboardData.getData("Text"), this.insertText(t), n.autoResize) {
            var o = this.autoResize(r);
            o && this.resizeHandler(o)
        }
    }, yu.prototype.insertText = function(e) {
        document.execCommand("insertText", !1, e) || this._insertTextIE(e)
    }, yu.prototype._insertTextIE = function(e) {
        var t, n, r, o = this.getSelection(),
            i = o.startContainer,
            a = o.endContainer,
            s = o.startOffset,
            u = o.endOffset,
            c = o.commonAncestorContainer,
            l = (t = c.childNodes, [].slice.call(t));
        if (c.nodeType === Node.TEXT_NODE) {
            var p = i.textContent;
            i.textContent = p.substring(0, s) + e + p.substring(u), n = i, r = s + e.length
        } else if (i === this.content && a === this.content) {
            var f = document.createTextNode(e);
            this.content.insertBefore(f, l[s]), n = f, r = f.textContent.length
        } else {
            var d = l.indexOf(i),
                h = l.indexOf(a);
            l.forEach((function(t, n) {
                n === d ? t.textContent = i.textContent.substring(0, s) + e + a.textContent.substring(u) : n > d && n <= h && Ct(t)
            })), n = i, r = s + e.length
        }
        n && void 0 !== r && setTimeout((function() {
            self.setSelection(n, r)
        }))
    }, yu.prototype.autoResize = function() {
        var e = this.parent,
            t = this.content,
            n = parseInt(this.style.fontSize) || 12;
        if (t.scrollHeight > e.offsetHeight || t.scrollHeight < e.offsetHeight - n) {
            var r = e.getBoundingClientRect(),
                o = t.scrollHeight;
            e.style.height = o + "px", this.resizeHandler({
                width: r.width,
                height: r.height,
                dx: 0,
                dy: o - r.height
            })
        }
    }, yu.prototype.resizable = function() {
        var e = this,
            t = this.parent,
            n = this.resizeHandle,
            r = parseInt(this.style.minWidth) || 0,
            o = parseInt(this.style.minHeight) || 0,
            i = parseInt(this.style.maxWidth) || 1 / 0,
            a = parseInt(this.style.maxHeight) || 1 / 0;
        if (!n) {
            var s, u, c, l;
            n = this.resizeHandle = bt('<div class="djs-direct-editing-resize-handle"></div>');
            var p = function(n) {
                    du(n), hu(n);
                    var p = pu(fu(c + n.clientX - s, r), i),
                        f = pu(fu(l + n.clientY - u, o), a);
                    t.style.width = p + "px", t.style.height = f + "px", e.resizeHandler({
                        width: c,
                        height: l,
                        dx: n.clientX - s,
                        dy: n.clientY - u
                    })
                },
                f = function(e) {
                    du(e), hu(e), yt.unbind(document, "mousemove", p, !1), yt.unbind(document, "mouseup", f, !1)
                };
            yt.bind(n, "mousedown", (function(e) {
                du(e), hu(e), s = e.clientX, u = e.clientY;
                var n = t.getBoundingClientRect();
                c = n.width, l = n.height, yt.bind(document, "mousemove", p), yt.bind(document, "mouseup", f)
            }))
        }
        I(n.style, {
            position: "absolute",
            bottom: "0px",
            right: "0px",
            cursor: "nwse-resize",
            width: "0",
            height: "0",
            borderTop: (parseInt(this.style.fontSize) / 4 || 3) + "px solid transparent",
            borderRight: (parseInt(this.style.fontSize) / 4 || 3) + "px solid #ccc",
            borderBottom: (parseInt(this.style.fontSize) / 4 || 3) + "px solid #ccc",
            borderLeft: (parseInt(this.style.fontSize) / 4 || 3) + "px solid transparent"
        }), t.appendChild(n)
    }, yu.prototype.destroy = function() {
        var e = this.parent,
            t = this.content,
            n = this.resizeHandle;
        t.innerText = "", e.removeAttribute("style"), t.removeAttribute("style"), yt.unbind(t, "keydown", this.keyHandler), yt.unbind(t, "mousedown", hu), yt.unbind(t, "input", this.autoResize), yt.unbind(t, "paste", this.handlePaste), n && (n.removeAttribute("style"), Ct(n)), Ct(e)
    }, yu.prototype.getValue = function() {
        return this.content.innerText.trim()
    }, yu.prototype.getSelection = function() {
        return window.getSelection().getRangeAt(0)
    }, yu.prototype.setSelection = function(e, t) {
        var n = document.createRange();
        null === e ? n.selectNodeContents(this.content) : (n.setStart(e, t), n.setEnd(e, t));
        var r = window.getSelection();
        r.removeAllRanges(), r.addRange(n)
    }, mu.$inject = ["eventBus", "canvas"], mu.prototype.registerProvider = function(e) {
        this._providers.push(e)
    }, mu.prototype.isActive = function() {
        return !!this._active
    }, mu.prototype.cancel = function() {
        this._active && (this._fire("cancel"), this.close())
    }, mu.prototype._fire = function(e, t) {
        this._eventBus.fire("directEditing." + e, t || {
            active: this._active
        })
    }, mu.prototype.close = function() {
        this._textbox.destroy(), this._fire("deactivate"), this._active = null, this.resizable = void 0
    }, mu.prototype.complete = function() {
        var e = this._active;
        if (e) {
            var t, n = e.context.bounds,
                r = this.$textbox.getBoundingClientRect(),
                o = this.getValue();
            o === e.context.text && r.height === n.height && r.width === n.width || (t = this._textbox.container.getBoundingClientRect(), e.provider.update(e.element, o, e.context.text, {
                x: r.left - t.left,
                y: r.top - t.top,
                width: r.width,
                height: r.height
            })), this._fire("complete"), this.close()
        }
    }, mu.prototype.getValue = function() {
        return this._textbox.getValue()
    }, mu.prototype._handleKey = function(e) {
        e.stopPropagation();
        var t = e.keyCode || e.charCode;
        return 27 === t ? (e.preventDefault(), this.cancel()) : 13 !== t || e.shiftKey ? void 0 : (e.preventDefault(), this.complete())
    }, mu.prototype._handleResize = function(e) {
        this._fire("resize", e)
    }, mu.prototype.activate = function(e) {
        var t;
        this.isActive() && this.cancel();
        var n = y(this._providers, (function(n) {
            return (t = n.activate(e)) ? n : null
        }));
        return t && (this.$textbox = this._textbox.create(t.bounds, t.style, t.text, t.options), this._active = {
            element: e,
            context: t,
            provider: n
        }, t.options && t.options.resizable && (this.resizable = !0), this._fire("activate")), !!t
    };
    var vu = {
        __depends__: [lo],
        __init__: ["directEditing"],
        directEditing: ["type", mu]
    };

    function gu(e) {
        return Vt(e, "dmn:Decision") || Vt(e, "dmn:BusinessKnowledgeModel") || Vt(e, "dmn:InputData") || Vt(e, "dmn:KnowledgeSource") ? "name" : Vt(e, "dmn:TextAnnotation") ? "text" : void 0
    }

    function bu(e) {
        var t = e.businessObject,
            n = gu(t);
        if (n) return t[n] || ""
    }

    function _u(e, t, n, r, o) {
        this._canvas = e, this._modeling = r, this._textRenderer = o, t.registerProvider(this), n.on("element.dblclick", (function(e) {
            t.activate(e.element)
        })), n.on(["autoPlace.start", "canvas.viewbox.changing", "drag.init", "element.mousedown", "popupMenu.open"], (function() {
            t.complete()
        })), n.on(["commandStack.changed"], (function() {
            t.cancel()
        })), n.on("create.end", 500, (function(e) {
            var n = e.shape;
            (Vt(n, "dmn:Decision") || Vt(n, "dmn:InputData") || Vt(n, "dmn:BusinessKnowledgeModel") || Vt(n, "dmn:KnowledgeSource") || Vt(n, "dmn:TextAnnotation")) && t.activate(n)
        })), n.on("autoPlace.end", 500, (function(e) {
            t.activate(e.shape)
        }))
    }
    _u.$inject = ["canvas", "directEditing", "eventBus", "modeling", "textRenderer"], _u.prototype.activate = function(e) {
        var t = bu(e);
        if (s(t)) {
            var n = {
                text: t
            };
            I(n, this.getEditingBBox(e));
            var r = {};
            return Vt(e, "dmn:DRGElement") && I(r, {
                centerVertically: !0
            }), Vt(e, "dmn:TextAnnotation") && I(r, {
                resizable: !0
            }), I(n, {
                options: r
            }), n
        }
    }, _u.prototype.getEditingBBox = function(e) {
        var t = this._canvas,
            n = e.label || e,
            r = t.getAbsoluteBBox(n),
            o = {
                x: r.x,
                y: r.y
            },
            i = t.zoom(),
            a = this._textRenderer.getDefaultStyle(),
            s = a.fontSize * i,
            u = a.lineHeight,
            c = {
                fontFamily: this._textRenderer.getDefaultStyle().fontFamily,
                fontWeight: this._textRenderer.getDefaultStyle().fontWeight
            };
        return Vt(e, "dmn:DRGElement") && (I(o, {
            width: r.width,
            height: r.height
        }), I(c, {
            fontSize: s + "px",
            lineHeight: u,
            paddingTop: 7 * i + "px",
            paddingBottom: 7 * i + "px",
            paddingLeft: 5 * i + "px",
            paddingRight: 5 * i + "px"
        })), Vt(e, "dmn:TextAnnotation") && (I(o, {
            width: r.width,
            height: r.height,
            minWidth: 30 * i,
            minHeight: 10 * i
        }), I(c, {
            textAlign: "left",
            paddingTop: 5 * i + "px",
            paddingBottom: 7 * i + "px",
            paddingLeft: 7 * i + "px",
            paddingRight: 5 * i + "px",
            fontSize: s + "px",
            lineHeight: u
        })), {
            bounds: o,
            style: c
        }
    }, _u.prototype.update = function(e, t, n, r) {
        var o, i, a;
        Vt(e, "dmn:TextAnnotation") && (i = this._canvas.getAbsoluteBBox(e), o = {
            x: e.x,
            y: e.y,
            width: e.width / i.width * r.width,
            height: e.height / i.height * r.height
        }), (a = t) && a.trim() || (t = null), this._modeling.updateLabel(e, t, o)
    };
    var wu = {
        __depends__: [uu, lu, vu],
        __init__: ["labelEditingProvider"],
        labelEditingProvider: ["type", _u]
    };

    function xu(e, t) {
        t.invoke(Vs, this), this.preExecute("connection.create", (function(t) {
            var n = t.connection,
                r = n.businessObject,
                o = t.source,
                i = t.target;
            Vt(n, "dmn:Association") ? ((r.sourceRef = e.create("dmn:DMNElementReference", {
                href: "#" + o.id
            })).$parent = r, (r.targetRef = e.create("dmn:DMNElementReference", {
                href: "#" + i.id
            })).$parent = r) : (r["required" + function(e) {
                if (Vt(e, "dmn:BusinessKnowledgeModel")) return "Knowledge";
                if (Vt(e, "dmn:Decision")) return "Decision";
                if (Vt(e, "dmn:InputData")) return "Input";
                if (Vt(e, "dmn:KnowledgeSource")) return "Authority"
            }(o)] = e.create("dmn:DMNElementReference", {
                href: "#" + o.id
            })).$parent = r
        }), !0)
    }
    xu.$inject = ["drdFactory", "injector"], en()(xu, Vs);

    function Eu(e, t, n, r) {
        function o(e, r, o) {
            r || (r = e.incoming.filter((function(e) {
                return Vt(e, "dmn:InformationRequirement")
            })));
            var i = {};
            o ? i[o] = r : i = function(e, t) {
                var n = {};
                return t.forEach((function(t) {
                    var r = Ti(t.source, e).split("-").shift();
                    n[r] || (n[r] = []), n[r].push(t)
                })), n
            }(e, r), v(i, (function(r, o) {
                var i = function(e, t, n) {
                    return e.map((function(r, o) {
                        var i = r.source,
                            a = Pi(i),
                            s = ji(i),
                            u = ji(t),
                            c = e.length;
                        return n.includes("bottom") ? {
                            start: {
                                x: a.x,
                                y: s.top
                            },
                            end: {
                                x: u.left + t.width / (c + 1) * (o + 1),
                                y: u.bottom
                            }
                        } : n.includes("top") ? {
                            start: {
                                x: a.x,
                                y: s.bottom
                            },
                            end: {
                                x: u.left + t.width / (c + 1) * (o + 1),
                                y: u.top
                            }
                        } : n.includes("right") ? {
                            start: {
                                x: s.left,
                                y: a.y
                            },
                            end: {
                                x: u.right,
                                y: u.top + t.height / (c + 1) * (o + 1)
                            }
                        } : {
                            start: {
                                x: s.right,
                                y: a.y
                            },
                            end: {
                                x: u.left,
                                y: u.top + t.height / (c + 1) * (o + 1)
                            }
                        }
                    }))
                }(r = function(e, t) {
                    var n;
                    n = t.includes("top") || t.includes("bottom") ? "x" : "y";
                    return e.sort((function(e, t) {
                        return Pi(e.source)[n] - Pi(t.source)[n]
                    }))
                }(r, o), e, o);
                r.forEach((function(e, r) {
                    var o = i[r].start,
                        a = i[r].end,
                        s = t.layoutConnection(e, {
                            connectionStart: o,
                            connectionEnd: a
                        });
                    n.updateWaypoints(e, s)
                }))
            }))
        }
        e.invoke(Vs, this), this.preExecute(["connection.create", "connection.reconnect"], (function(e) {
            var t = e.connection,
                n = e.newSource || e.source,
                o = e.newTarget || e.target;
            if ((!Vt(t, "dmn:InformationRequirement") || r.allowed("connection.connect", {
                    connection: t,
                    source: n,
                    target: o
                })) && Vt(t, "dmn:InformationRequirement")) {
                var i = Ti(n, o);
                e.hints || (e.hints = {}), I(e.hints, function(e, t, n) {
                    var r = Pi(e),
                        o = Pi(t);
                    n.includes("bottom") ? (r.y = e.y, o.y = t.y + t.height) : n.includes("top") ? (r.y = e.y + e.height, o.y = t.y) : n.includes("right") ? (r.x = e.x, o.x = t.x + t.width) : (r.x = e.x + e.width, o.x = t.x);
                    return {
                        connectionStart: r,
                        connectionEnd: o
                    }
                }(n, o, i))
            }
        }), !0), this.postExecuted(["connection.create", "connection.delete", "connection.reconnect"], (function(e) {
            var t = e.connection,
                n = t.source || e.source,
                r = t.target || e.target;
            if (Vt(t, "dmn:InformationRequirement")) {
                var i = Ti(n, r),
                    a = r.incoming.filter((function(e) {
                        var t = Ti(e.source, e.target);
                        return Vt(e, "dmn:InformationRequirement") && Cu(t, i)
                    }));
                a.length && o(r, a, i)
            }
        }), !0), this.preExecute("connection.reconnect", (function(e) {
            var t = e.connection,
                n = t.source,
                r = t.target;
            if (Vt(t, "dmn:InformationRequirement")) {
                var i = Ti(n, r),
                    a = r.incoming.filter((function(e) {
                        var n = Ti(e.source, e.target);
                        return e !== t && Vt(e, "dmn:InformationRequirement") && Cu(n, i)
                    }));
                a.length && o(r, a, i)
            }
        }), !0), this.postExecuted("elements.move", 500, (function(e) {
            var t = e.shapes,
                n = e.closure.enclosedConnections;
            t.forEach((function(e) {
                if (Ht(e, ["dmn:Decision", "dmn:InputData"])) {
                    var t = e.incoming.filter((function(e) {
                        return Vt(e, "dmn:InformationRequirement") && !n[e.id]
                    }));
                    t.length && o(e, t), e.outgoing.forEach((function(e) {
                        Vt(e, "dmn:InformationRequirement") && !n[e.id] && o(e.target)
                    }))
                }
            }))
        }), !0)
    }

    function Cu(e, t) {
        return e && t && e.split("-").shift() === t.split("-").shift()
    }

    function Ou(e, t, n) {
        e.invoke(Vs, this), this.preExecute("connection.reconnect", (function(e) {
            var r = e.connection,
                o = e.newSource || r.source,
                i = e.newTarget || r.target,
                a = r.waypoints.slice(),
                s = n.allowed("connection.reconnect", {
                    connection: r,
                    source: o,
                    target: i
                });
            s && s.type !== r.type && (e.connection = t.connect(o, i, {
                type: s.type,
                waypoints: a
            }), t.removeConnection(r))
        }), !0)
    }

    function Su(e, t) {
        Vs.call(this, e), this._modeling = t, this.postExecuted(["shape.replace"], 1500, (function(e) {
            var n = e.context,
                r = n.oldShape,
                o = n.newShape;
            t.unclaimId(r.businessObject.id, r.businessObject), t.updateProperties(o, {
                id: r.id
            })
        }))
    }

    function ju(e) {
        return (ju = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function ku(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Pu(e) {
        return (Pu = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Tu(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Du(e, t) {
        return (Du = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    Eu.$inject = ["injector", "layouter", "modeling", "rules"], en()(Eu, Vs), en()(Ou, Vs), Ou.$inject = ["injector", "modeling", "rules"], en()(Su, Vs), Su.$inject = ["eventBus", "modeling"];
    var Ru = function(e) {
        function t(e) {
            var n;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (n = function(e, t) {
                return !t || "object" !== ju(t) && "function" != typeof t ? Tu(e) : t
            }(this, Pu(t).call(this, e))).executed("element.updateProperties", n.updateIds.bind(Tu(n))), n
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Du(e, t)
        }(t, e), n = t, (r = [{
            key: "updateIds",
            value: function(e) {
                var t = e.context,
                    n = t.element,
                    r = t.oldProperties,
                    o = t.properties,
                    i = qt(n);
                if (!this.shouldSkipUpdate(i, r, o)) {
                    var a = function(e) {
                        for (var t = e; !Vt(t, "dmn:Definitions");) t = t.$parent;
                        return t
                    }(i);
                    a.get("drgElement").forEach((function(e) {
                        ! function(e, t, n) {
                            v({
                                authorityRequirement: function() {
                                    e.authorityRequirement.forEach((function(e) {
                                        var r = e.requiredAuthority,
                                            o = e.requiredDecision,
                                            i = e.requiredInput;
                                        r && r.href === "#".concat(t) && (r.href = "#".concat(n)), o && o.href === "#".concat(t) && (o.href = "#".concat(n)), i && i.href === "#".concat(t) && (i.href = "#".concat(n))
                                    }))
                                },
                                informationRequirement: function() {
                                    e.informationRequirement.forEach((function(e) {
                                        var r = e.requiredDecision,
                                            o = e.requiredInput;
                                        r && r.href === "#".concat(t) && (r.href = "#".concat(n)), o && o.href === "#".concat(t) && (o.href = "#".concat(n))
                                    }))
                                },
                                knowledgeRequirement: function() {
                                    e.knowledgeRequirement.forEach((function(e) {
                                        var r = e.requiredKnowledge;
                                        r && r.href === "#".concat(t) && (r.href = "#".concat(n))
                                    }))
                                }
                            }, (function(t, n) {
                                e[n] && t()
                            }))
                        }(e, r.id, o.id)
                    })), a.get("artifact").forEach((function(e) {
                        ! function(e, t, n) {
                            v({
                                sourceRef: function() {
                                    var r = e.sourceRef;
                                    r.href === "#".concat(t) && (r.href = "#".concat(n))
                                },
                                targetRef: function() {
                                    var r = e.targetRef;
                                    r.href === "#".concat(t) && (r.href = "#".concat(n))
                                }
                            }, (function(t, n) {
                                e[n] && t()
                            }))
                        }(e, r.id, o.id)
                    }))
                }
            }
        }, {
            key: "shouldSkipUpdate",
            value: function(e, t, n) {
                return ! function(e, t) {
                    return "id" in e && "id" in t
                }(t, n) || !Vt(e, "dmn:DRGElement") && !Vt(e, "dmn:TextAnnotation")
            }
        }]) && ku(n.prototype, r), o && ku(n, o), t
    }(Vs);
    Ru.$inject = ["eventBus"];
    var Mu = {
        __init__: ["createConnectionBehavior", "idChangeBehavior", "layoutConnectionBehavior", "replaceConnectionBehavior", "replaceElementBehavior"],
        createConnectionBehavior: ["type", xu],
        idChangeBehavior: ["type", Ru],
        layoutConnectionBehavior: ["type", Eu],
        replaceConnectionBehavior: ["type", Ou],
        replaceElementBehavior: ["type", Su]
    };

    function Au(e) {
        Vs.call(this, e), this.init()
    }

    function Nu(e) {
        e.invoke(Au, this)
    }

    function Iu(e, t) {
        if (!e || $u(e) || !t || $u(t)) return null;
        if (e === t) return !1;
        if (Vt(e, "dmn:BusinessKnowledgeModel") && Ht(t, ["dmn:BusinessKnowledgeModel", "dmn:Decision"])) return {
            type: "dmn:KnowledgeRequirement"
        };
        if (Vt(e, "dmn:Decision")) {
            if (Vt(t, "dmn:Decision")) return {
                type: "dmn:InformationRequirement"
            };
            if (Vt(t, "dmn:KnowledgeSource")) return {
                type: "dmn:AuthorityRequirement"
            }
        }
        if (Vt(e, "dmn:Definitions") || Vt(t, "dmn:Definitions")) return !1;
        if (Vt(e, "dmn:InputData")) {
            if (Vt(t, "dmn:Decision")) return {
                type: "dmn:InformationRequirement"
            };
            if (Vt(t, "dmn:KnowledgeSource")) return {
                type: "dmn:AuthorityRequirement"
            }
        }
        return Vt(e, "dmn:KnowledgeSource") && Ht(t, ["dmn:BusinessKnowledgeModel", "dmn:Decision", "dmn:KnowledgeSource"]) ? {
            type: "dmn:AuthorityRequirement"
        } : !!(Vt(e, "dmn:TextAnnotation") && !Vt(t, "dmn:TextAnnotation") || !Vt(e, "dmn:TextAnnotation") && Vt(t, "dmn:TextAnnotation")) && {
            type: "dmn:Association"
        }
    }

    function Lu(e, t) {
        return Ht(e, ["dmn:BusinessKnowledgeModel", "dmn:Decision", "dmn:InputData", "dmn:KnowledgeSource", "dmn:TextAnnotation"]) && Vt(t, "dmn:Definitions")
    }

    function Bu(e, t) {
        return c(e) || (e = [e]), !t || !(!b(e, (function(e) {
            return Ht(e, ["dmn:BusinessKnowledgeModel", "dmn:Decision", "dmn:InputData", "dmn:KnowledgeSource", "dmn:TextAnnotation", "dmn:InformationRequirement", "dmn:AuthorityRequirement", "dmn:KnowledgeRequirement", "dmn:Association"])
        })) || !Vt(t, "dmn:Definitions"))
    }

    function $u(e) {
        return !!e.labelTarget
    }
    Au.$inject = ["eventBus"], en()(Au, Vs), Au.prototype.addRule = function(e, t, n) {
        var r = this;
        "string" == typeof e && (e = [e]), e.forEach((function(e) {
            r.canExecute(e, t, (function(e, t, r) {
                return n(e)
            }), !0)
        }))
    }, Au.prototype.init = function() {}, en()(Nu, Au), Nu.$inject = ["injector"], Nu.prototype.init = function() {
        this.addRule("connection.create", (function(e) {
            return Iu(e.source, e.target)
        })), this.addRule("connection.reconnect", (function(e) {
            e.connection;
            return Iu(e.source, e.target)
        })), this.addRule("connection.updateWaypoints", (function(e) {
            var t = e.connection;
            return {
                type: t.type,
                businessObject: t.businessObject
            }
        })), this.addRule("elements.move", (function(e) {
            var t = e.target,
                n = e.shapes;
            e.position;
            return Bu(n, t)
        })), this.addRule("shape.create", (function(e) {
            return Lu(e.shape, e.target)
        })), this.addRule("shape.resize", (function(e) {
            return Vt(e.shape, "dmn:TextAnnotation")
        }))
    }, Nu.prototype.canConnect = Iu, Nu.prototype.canCreate = Lu, Nu.prototype.canMove = Bu;
    var Vu = {
        __depends__: [ia],
        __init__: ["drdRules"],
        drdRules: ["type", Nu]
    };

    function zu(e) {
        this._model = e
    }

    function Fu(e, t, n, r, o) {
        o.invoke(Vs, this), this._definitionPropertiesView = t, this._drdFactory = n, this._drdRules = r;
        var i = this;

        function a(e) {
            var t = e.connection,
                n = e.parent,
                r = e.shape;
            t && !Vt(t, "dmn:Association") && (n = t.target), i.updateParent(r || t, n)
        }

        function s(e) {
            var t = e.connection,
                n = e.shape,
                r = e.parent || e.newParent;
            t && !Vt(t, "dmn:Association") && (r = t.target), i.updateParent(n || t, r)
        }

        function u(e) {
            var t = e.shape;
            (Vt(t, "dmn:DRGElement") || Vt(t, "dmn:TextAnnotation")) && i.updateBounds(t)
        }

        function c(e) {
            i.updateConnectionWaypoints(e)
        }
        this.executed(["connection.create", "connection.layout"], (function(t) {
            var n = t.connection;
            t.cropped || (n.waypoints = e.getCroppedWaypoints(n), t.cropped = !0)
        }), !0), this.reverted(["connection.layout"], (function(e) {
            delete e.cropped
        }), !0), this.executed(["connection.create", "connection.delete", "connection.move", "shape.create", "shape.delete"], a, !0), this.reverted(["connection.create", "connection.delete", "connection.move", "shape.create", "shape.delete"], s, !0), this.executed(["shape.create", "shape.move"], u, !0), this.reverted(["shape.create", "shape.move"], u, !0), this.executed(["connection.create", "connection.layout", "connection.move", "connection.updateWaypoints"], c, !0), this.reverted(["connection.create", "connection.layout", "connection.move", "connection.updateWaypoints"], c, !0), this.executed("connection.create", (function(e) {
            var t = e.connection,
                n = t.businessObject,
                r = e.target.businessObject;
            Vt(t, "dmn:Association") ? a(e) : i.updateSemanticParent(n, r)
        }), !0), this.reverted("connection.create", (function(e) {
            s(e)
        }), !0), this.executed("connection.reconnect", (function(e) {
            var t = e.connection.businessObject,
                n = e.newTarget.businessObject;
            i.updateSemanticParent(t, n)
        }), !0), this.reverted("connection.reconnect", (function(e) {
            var t = e.connection.businessObject,
                n = e.oldTarget.businessObject;
            i.updateSemanticParent(t, n)
        }), !0), this.executed("element.updateProperties", (function(e) {
            t.update()
        }), !0), this.reverted("element.updateProperties", (function(e) {
            t.update()
        }), !0)
    }

    function qu(e, t) {
        this._modeling = e, this._canvas = t
    }

    function Hu(e) {
        this._modeling = e
    }

    function Uu(e, t) {
        this._canvas = e, this._layouter = t
    }
    zu.$inject = ["moddle"], zu.prototype._needsId = function(e) {
        return Ht(e, ["dmn:Artifact", "dmn:DMNElement", "dmn:DRGElement", "dmndi:DMNDiagram", "dmndi:DMNDiagramElement"])
    }, zu.prototype._ensureId = function(e) {
        var t = (e.$type || "").replace(/^[^:]*:/g, "") + "_";
        !e.id && this._needsId(e) && (e.id = this._model.ids.nextPrefixed(t, e))
    }, zu.prototype.create = function(e, t) {
        var n = this._model.create(e, t || {});
        return this._ensureId(n), n
    }, zu.prototype.createDiShape = function(e, t, n) {
        return this.create("dmndi:DMNShape", I({
            dmnElementRef: e,
            bounds: this.createDiBounds(t)
        }, n))
    }, zu.prototype.createDiBounds = function(e) {
        return this.create("dc:Bounds", e)
    }, zu.prototype.createDiEdge = function(e, t, n) {
        return this.create("dmndi:DMNEdge", {
            dmnElementRef: e,
            waypoint: this.createDiWaypoints(t)
        }, n)
    }, zu.prototype.createDiWaypoints = function(e) {
        var t = this;
        return e.map((function(e) {
            return t.createDiWaypoint(e)
        }))
    }, zu.prototype.createDiWaypoint = function(e) {
        return this.create("dc:Point", L(e, ["x", "y"]))
    }, zu.prototype.createExtensionElements = function() {
        return this.create("dmn:ExtensionElements", {
            values: []
        })
    }, en()(Fu, Vs), Fu.$inject = ["connectionDocking", "definitionPropertiesView", "drdFactory", "drdRules", "injector"], Fu.prototype.updateBounds = function(e) {
        I(e.businessObject.di.bounds, {
            x: e.x,
            y: e.y,
            width: e.width,
            height: e.height
        })
    }, Fu.prototype.updateConnectionWaypoints = function(e) {
        var t = this._drdFactory,
            n = e.connection,
            r = n.businessObject.di;
        r.waypoint = t.createDiWaypoints(n.waypoints).map((function(e) {
            return e.$parent = r, e
        }))
    }, Fu.prototype.updateParent = function(e, t) {
        var n = e.parent;
        Vt(e, "dmn:DRGElement") || Vt(e, "dmn:Artifact") || (n = t);
        var r = e.businessObject,
            o = n && n.businessObject;
        this.updateSemanticParent(r, o), this.updateDiParent(r.di, o && o.di)
    }, Fu.prototype.updateSemanticParent = function(e, t) {
        var n, r;
        e.$parent !== t && (Vt(e, "dmn:DRGElement") ? r = "drgElement" : Vt(e, "dmn:Artifact") ? r = "artifact" : Vt(e, "dmn:InformationRequirement") ? r = "informationRequirement" : Vt(e, "dmn:AuthorityRequirement") ? r = "authorityRequirement" : Vt(e, "dmn:KnowledgeRequirement") && (r = "knowledgeRequirement"), e.$parent && ir(n = e.$parent.get(r), e), t ? (n = t.get(r)) && (n.push(e), e.$parent = t) : e.$parent = null)
    }, Fu.prototype.updateDiParent = function(e, t) {
        if (e.$parent !== t) {
            if (!Ht(e, ["dmndi:DMNEdge", "dmndi:DMNShape"])) throw new Error("unsupported");
            for (var n = t || e; !Vt(n, "dmndi:DMNDiagram");) n = n.$parent;
            var r = n.get("diagramElements");
            t ? (e.$parent = n, ar(r, e)) : (e.$parent = null, ir(r, e))
        }
    }, qu.$inject = ["modeling", "canvas"], qu.prototype.preExecute = function(e) {
        var t = this._modeling,
            n = e.elements,
            r = e.alignment;
        v(n, (function(e) {
            var n = {
                x: 0,
                y: 0
            };
            r.left ? n.x = r.left - e.x : r.right ? n.x = r.right - e.width - e.x : r.center ? n.x = r.center - Math.round(e.width / 2) - e.x : r.top ? n.y = r.top - e.y : r.bottom ? n.y = r.bottom - e.height - e.y : r.middle && (n.y = r.middle - Math.round(e.height / 2) - e.y), t.moveElements([e], n, e.parent)
        }))
    }, qu.prototype.postExecute = function(e) {}, Hu.$inject = ["modeling"], Hu.prototype.preExecute = function(e) {
        var t = e.source;
        if (!t) throw new Error("source required");
        var n = e.target || t.parent,
            r = e.shape,
            o = e.hints || {};
        r = e.shape = this._modeling.createShape(r, e.position, n, {
            attach: o.attach
        }), e.shape = r
    }, Hu.prototype.postExecute = function(e) {
        var t, n, r = e.hints || {};
        t = e.source, n = e.shape, _(t.outgoing, (function(e) {
            return e.target === n
        })) || (r.connectionTarget === e.source ? this._modeling.connect(e.shape, e.source, e.connection) : this._modeling.connect(e.source, e.shape, e.connection))
    }, Uu.$inject = ["canvas", "layouter"], Uu.prototype.execute = function(e) {
        var t = e.connection,
            n = e.source,
            r = e.target,
            o = e.parent,
            i = e.parentIndex,
            a = e.hints;
        if (!n || !r) throw new Error("source and target required");
        if (!o) throw new Error("parent required");
        return t.source = n, t.target = r, t.waypoints || (t.waypoints = this._layouter.layoutConnection(t, a)), this._canvas.addConnection(t, o, i), t
    }, Uu.prototype.revert = function(e) {
        var t = e.connection;
        return this._canvas.removeConnection(t), t.source = null, t.target = null, t
    };
    var Wu = Math.round;

    function Gu(e) {
        this._modeling = e
    }

    function Ku(e) {
        return !!e.waypoints
    }
    Gu.$inject = ["modeling"], Gu.prototype.preExecute = function(e) {
        var t = e.elements,
            n = e.parent,
            r = e.parentIndex,
            o = e.position,
            i = e.hints,
            a = this._modeling;
        v(t, (function(e) {
            p(e.x) || (e.x = 0), p(e.y) || (e.y = 0)
        }));
        var s = Qn(t);
        v(t, (function(e) {
            Ku(e) && (e.waypoints = w(e.waypoints, (function(e) {
                return {
                    x: Wu(e.x - s.x - s.width / 2 + o.x),
                    y: Wu(e.y - s.y - s.height / 2 + o.y)
                }
            }))), I(e, {
                x: Wu(e.x - s.x - s.width / 2 + o.x),
                y: Wu(e.y - s.y - s.height / 2 + o.y)
            })
        }));
        var u = Xn(t),
            c = {};
        v(t, (function(e) {
            if (Ku(e)) c[e.id] = p(r) ? a.createConnection(c[e.source.id], c[e.target.id], r, e, e.parent || n, i) : a.createConnection(c[e.source.id], c[e.target.id], e, e.parent || n, i);
            else {
                var t = I({}, i); - 1 === u.indexOf(e) && (t.autoResize = !1), c[e.id] = p(r) ? a.createShape(e, L(e, ["x", "y", "width", "height"]), e.parent || n, r, t) : a.createShape(e, L(e, ["x", "y", "width", "height"]), e.parent || n, t)
            }
        })), e.elements = C(c)
    };
    var Xu = Math.round;

    function Yu(e) {
        this._canvas = e
    }

    function Ju(e) {
        Yu.call(this, e)
    }
    Yu.$inject = ["canvas"], Yu.prototype.execute = function(e) {
        var t = e.shape,
            n = e.position,
            r = e.parent,
            o = e.parentIndex;
        if (!r) throw new Error("parent required");
        if (!n) throw new Error("position required");
        return void 0 !== n.width ? I(t, n) : I(t, {
            x: n.x - Xu(t.width / 2),
            y: n.y - Xu(t.height / 2)
        }), this._canvas.addShape(t, r, o), t
    }, Yu.prototype.revert = function(e) {
        var t = e.shape;
        return this._canvas.removeShape(t), t
    }, en()(Ju, Yu), Ju.$inject = ["canvas"];
    var Zu = Yu.prototype.execute;
    Ju.prototype.execute = function(e) {
        var t = e.shape;
        return function(e) {
            ["width", "height"].forEach((function(t) {
                void 0 === e[t] && (e[t] = 0)
            }))
        }(t), t.labelTarget = e.labelTarget, Zu.call(this, e)
    };
    var Qu = Yu.prototype.revert;

    function ec(e, t) {
        this._canvas = e, this._modeling = t
    }

    function tc(e, t) {
        this._modeling = e, this._elementRegistry = t
    }

    function nc(e, t) {
        if ("function" != typeof t) throw new Error("removeFn iterator must be a function");
        if (e) {
            for (var n; n = e[0];) t(n);
            return e
        }
    }

    function rc(e, t) {
        this._canvas = e, this._modeling = t
    }

    function oc(e) {
        this._modeling = e
    }
    Ju.prototype.revert = function(e) {
        return e.shape.labelTarget = null, Qu.call(this, e)
    }, ec.$inject = ["canvas", "modeling"], ec.prototype.execute = function(e) {
        var t = e.connection,
            n = t.parent;
        return e.parent = n, e.parentIndex = sr(n.children, t), e.source = t.source, e.target = t.target, this._canvas.removeConnection(t), t.source = null, t.target = null, t
    }, ec.prototype.revert = function(e) {
        var t = e.connection,
            n = e.parent,
            r = e.parentIndex;
        return t.source = e.source, t.target = e.target, ar(n.children, t, r), this._canvas.addConnection(t, n), t
    }, tc.$inject = ["modeling", "elementRegistry"], tc.prototype.postExecute = function(e) {
        var t = this._modeling,
            n = this._elementRegistry;
        v(e.elements, (function(e) {
            n.get(e.id) && (e.waypoints ? t.removeConnection(e) : t.removeShape(e))
        }))
    }, rc.$inject = ["canvas", "modeling"], rc.prototype.preExecute = function(e) {
        var t = this._modeling,
            n = e.shape;
        nc(n.incoming, (function(e) {
            t.removeConnection(e, {
                nested: !0
            })
        })), nc(n.outgoing, (function(e) {
            t.removeConnection(e, {
                nested: !0
            })
        })), nc(n.children, (function(e) {
            e.waypoints ? t.removeConnection(e, {
                nested: !0
            }) : t.removeShape(e, {
                nested: !0
            })
        }))
    }, rc.prototype.execute = function(e) {
        var t = this._canvas,
            n = e.shape,
            r = n.parent;
        return e.oldParent = r, e.oldParentIndex = sr(r.children, n), t.removeShape(n), n
    }, rc.prototype.revert = function(e) {
        var t = this._canvas,
            n = e.shape,
            r = e.oldParent,
            o = e.oldParentIndex;
        return ar(r.children, n, o), t.addShape(n, r), n
    }, oc.$inject = ["modeling"];
    var ic = {
        x: "y",
        y: "x"
    };

    function ac(e, t) {
        this._layouter = e, this._canvas = t
    }

    function sc() {}

    function uc(e, t, n) {
        var r = ei(t),
            o = ei(n),
            i = ti(e, r),
            a = i.x * (n.width / t.width),
            s = i.y * (n.height / t.height);
        return Si({
            x: o.x + a,
            y: o.y + s
        })
    }

    function cc(e, t, n) {
        var r = hc(e),
            o = yc(r, t),
            i = r[0];
        return o.length ? o[o.length - 1] : uc(i.original || i, n, t)
    }

    function lc(e, t, n) {
        var r = hc(e),
            o = yc(r, t),
            i = r[r.length - 1];
        return o.length ? o[0] : uc(i.original || i, n, t)
    }

    function pc(e, t, n) {
        var r = hc(e),
            o = dc(t, n),
            i = r[0];
        return uc(i.original || i, o, t)
    }

    function fc(e, t, n) {
        var r = hc(e),
            o = dc(t, n),
            i = r[r.length - 1];
        return uc(i.original || i, o, t)
    }

    function dc(e, t) {
        return {
            x: e.x - t.x,
            y: e.y - t.y,
            width: e.width,
            height: e.height
        }
    }

    function hc(e) {
        var t = e.waypoints;
        if (!t.length) throw new Error("connection#" + e.id + ": no waypoints");
        return t
    }

    function yc(e, t) {
        return m(w(e, mc), (function(e) {
            return function(e, t) {
                return "intersect" === Ti(t, e, 1)
            }(e, t)
        }))
    }

    function mc(e) {
        return e.original || e
    }

    function vc() {
        this.allShapes = {}, this.allConnections = {}, this.enclosedElements = {}, this.enclosedConnections = {}, this.topLevel = {}
    }

    function gc(e) {
        this._modeling = e
    }

    function bc(e) {
        this._helper = new gc(e)
    }

    function _c(e) {
        this._modeling = e, this._helper = new gc(e)
    }

    function wc(e) {
        this._modeling = e
    }

    function xc(e) {
        return e.original || e
    }

    function Ec(e, t) {
        this._modeling = e, this._rules = t
    }

    function Cc(e) {
        this._modeling = e
    }

    function Oc(e, t) {
        return -1 !== e.indexOf(t)
    }

    function Sc(e) {
        this._modeling = e
    }

    function jc(e) {
        return I({}, e)
    }

    function kc(e) {
        switch (e) {
            case "n":
                return "y";
            case "w":
                return "x";
            case "s":
                return "y";
            case "e":
                return "x"
        }
    }

    function Pc(e, t, n) {
        var r = kc(n);
        return /e|s/.test(n) ? e[r] > t : /n|w/.test(n) ? e[r] < t : void 0
    }

    function Tc(e, t) {
        return -1 !== e.indexOf(t)
    }

    function Dc(e) {
        this._modeling = e
    }

    function Rc(e) {
        this._modeling = e
    }

    function Mc(e, t) {
        return ir(e && e.attachers, t)
    }

    function Ac(e, t, n) {
        if (e) {
            var r = e.attachers;
            r || (e.attachers = r = []), ar(r, t, n)
        }
    }

    function Nc() {}

    function Ic(e, t, n) {
        this._eventBus = e, this._elementFactory = t, this._commandStack = n;
        var r = this;
        e.on("diagram.init", (function() {
            r.registerHandlers(n)
        }))
    }

    function Lc(e) {
        this._moddle = e
    }

    function Bc() {
        function e(e, t) {
            var n = e.label || e,
                r = e.labelTarget || e;
            return function(e, t, n) {
                var r = e.businessObject,
                    o = gu(r);
                o && (r[o] = t), n && (e.hidden = !t)
            }(n, t, r !== n), [n, r]
        }
        this.execute = function(t) {
            return t.oldLabel = bu(t.element), e(t.element, t.newLabel)
        }, this.revert = function(t) {
            return e(t.element, t.oldLabel)
        }
    }
    oc.prototype.preExecute = function(e) {
        var t = this._modeling,
            n = e.groups,
            r = e.axis,
            o = e.dimension;

        function i(e, t) {
            e.range.min = Math.min(t[r], e.range.min), e.range.max = Math.max(t[r] + t[o], e.range.max)
        }

        function a(e) {
            return e[r] + e[o] / 2
        }

        function s(e) {
            return e.length - 1
        }

        function u(e) {
            return e.max - e.min
        }
        var c, l, p = n[0],
            f = s(n),
            d = n[f],
            h = 0;
        v(n, (function(e, c) {
            var l, p, d;
            e.elements.length < 2 ? c && c !== n.length - 1 && (i(e, e.elements[0]), h += u(e.range)) : (p = (l = j(e.elements, r))[0], c === f && (p = l[s(l)]), d = a(p), e.range = null, v(l, (function(n) {
                ! function(e, n) {
                    var o = {
                        y: 0
                    };
                    o[r] = e - a(n), o[r] && (o[ic[r]] = 0, t.moveElements([n], o, n.parent))
                }(d, n), null !== e.range ? i(e, n) : e.range = {
                    min: n[r],
                    max: n[r] + n[o]
                }
            })), c && c !== n.length - 1 && (h += u(e.range)))
        })), l = Math.abs(d.range.min - p.range.max), (c = Math.round((l - h) / (n.length - 1))) < n.length - 1 || v(n, (function(e, i) {
            var a, s = {};
            e !== p && e !== d && (a = n[i - 1], e.range.max = 0, v(e.elements, (function(n, i) {
                s[ic[r]] = 0, s[r] = a.range.max - n[r] + c, e.range.min !== n[r] && (s[r] += n[r] - e.range.min), s[r] && t.moveElements([n], s, n.parent), e.range.max = Math.max(n[r] + n[o], i ? e.range.max : 0)
            })))
        }))
    }, oc.prototype.postExecute = function(e) {}, ac.$inject = ["layouter", "canvas"], ac.prototype.execute = function(e) {
        var t = e.connection;
        return I(e, {
            oldWaypoints: t.waypoints
        }), t.waypoints = this._layouter.layoutConnection(t, e.hints), t
    }, ac.prototype.revert = function(e) {
        var t = e.connection;
        return t.waypoints = e.oldWaypoints, t
    }, sc.prototype.execute = function(e) {
        var t = e.connection,
            n = e.delta,
            r = e.newParent || t.parent,
            o = e.newParentIndex,
            i = t.parent;
        return e.oldParent = i, e.oldParentIndex = ir(i.children, t), ar(r.children, t, o), t.parent = r, v(t.waypoints, (function(e) {
            e.x += n.x, e.y += n.y, e.original && (e.original.x += n.x, e.original.y += n.y)
        })), t
    }, sc.prototype.revert = function(e) {
        var t = e.connection,
            n = t.parent,
            r = e.oldParent,
            o = e.oldParentIndex,
            i = e.delta;
        return ir(n.children, t), ar(r.children, t, o), t.parent = r, v(t.waypoints, (function(e) {
            e.x -= i.x, e.y -= i.y, e.original && (e.original.x -= i.x, e.original.y -= i.y)
        })), t
    }, vc.prototype.add = function(e, t) {
        return this.addAll([e], t)
    }, vc.prototype.addAll = function(e, t) {
        return I(this, function(e, t, n) {
            a(t) && (t = !0), l(t) && (n = t, t = !0);
            var r = nr((n = n || {}).allShapes),
                o = nr(n.allConnections),
                i = nr(n.enclosedElements),
                s = nr(n.enclosedConnections),
                u = nr(n.topLevel, t && O(e, (function(e) {
                    return e.id
                })));

            function c(e) {
                u[e.source.id] && u[e.target.id] && (u[e.id] = [e]), r[e.source.id] && r[e.target.id] && (s[e.id] = i[e.id] = e), o[e.id] = e
            }
            return Jn(e, (function(e) {
                if (i[e.id] = e, !e.waypoints) return r[e.id] = e, v(e.incoming, c), v(e.outgoing, c), e.children;
                s[e.id] = o[e.id] = e
            })), {
                allShapes: r,
                allConnections: o,
                topLevel: u,
                enclosedConnections: s,
                enclosedElements: i
            }
        }(e, !!t, this)), this
    }, gc.prototype.moveRecursive = function(e, t, n) {
        return e ? this.moveClosure(this.getClosure(e), t, n) : []
    }, gc.prototype.moveClosure = function(e, t, n, r, o) {
        var i = this._modeling,
            a = e.allShapes,
            s = e.allConnections,
            u = e.enclosedConnections,
            c = e.topLevel,
            l = !1;
        o && o.parent === n && (l = !0), v(a, (function(e) {
            i.moveShape(e, t, c[e.id] && !l && n, {
                recurse: !1,
                layout: !1
            })
        })), v(s, (function(e) {
            var r = !!a[e.source.id],
                o = !!a[e.target.id];
            u[e.id] && r && o ? i.moveConnection(e, t, c[e.id] && !l && n) : i.layoutConnection(e, {
                connectionStart: r && pc(e, e.source, t),
                connectionEnd: o && fc(e, e.target, t)
            })
        }))
    }, gc.prototype.getClosure = function(e) {
        return (new vc).addAll(e, !0)
    }, bc.$inject = ["modeling"], bc.prototype.preExecute = function(e) {
        e.closure = this._helper.getClosure(e.shapes)
    }, bc.prototype.postExecute = function(e) {
        var t, n = e.hints;
        n && n.primaryShape && (t = n.primaryShape, n.oldParent = t.parent), this._helper.moveClosure(e.closure, e.delta, e.newParent, e.newHost, t)
    }, _c.$inject = ["modeling"], _c.prototype.execute = function(e) {
        var t = e.shape,
            n = e.delta,
            r = e.newParent || t.parent,
            o = e.newParentIndex,
            i = t.parent;
        return e.oldBounds = L(t, ["x", "y", "width", "height"]), e.oldParent = i, e.oldParentIndex = ir(i.children, t), ar(r.children, t, o), I(t, {
            parent: r,
            x: t.x + n.x,
            y: t.y + n.y
        }), t
    }, _c.prototype.postExecute = function(e) {
        var t = e.shape,
            n = e.delta,
            r = e.hints,
            o = this._modeling;
        !1 !== r.layout && (v(t.incoming, (function(e) {
            o.layoutConnection(e, {
                connectionEnd: fc(e, t, n)
            })
        })), v(t.outgoing, (function(e) {
            o.layoutConnection(e, {
                connectionStart: pc(e, t, n)
            })
        }))), !1 !== r.recurse && this.moveChildren(e)
    }, _c.prototype.revert = function(e) {
        var t = e.shape,
            n = e.oldParent,
            r = e.oldParentIndex,
            o = e.delta;
        return ar(n.children, t, r), I(t, {
            parent: n,
            x: t.x - o.x,
            y: t.y - o.y
        }), t
    }, _c.prototype.moveChildren = function(e) {
        var t = e.delta,
            n = e.shape;
        this._helper.moveRecursive(n.children, t, null)
    }, _c.prototype.getNewParent = function(e) {
        return e.newParent || e.shape.parent
    }, wc.$inject = ["modeling"], wc.prototype.execute = function(e) {
        var t = e.newSource,
            n = e.newTarget,
            r = e.connection,
            o = e.dockingOrPoints;
        if (!t && !n) throw new Error("newSource or newTarget required");
        return c(o) && (e.oldWaypoints = r.waypoints, r.waypoints = o), t && (e.oldSource = r.source, r.source = t), n && (e.oldTarget = r.target, r.target = n), r
    }, wc.prototype.postExecute = function(e) {
        var t = e.connection,
            n = e.newSource,
            r = e.newTarget,
            o = e.dockingOrPoints,
            i = e.hints || {},
            a = {};
        i.connectionStart && (a.connectionStart = i.connectionStart), i.connectionEnd && (a.connectionEnd = i.connectionEnd), !1 !== i.layoutConnection && (!n || r && "source" !== i.docking || (a.connectionStart = a.connectionStart || xc(c(o) ? o[0] : o)), !r || n && "target" !== i.docking || (a.connectionEnd = a.connectionEnd || xc(c(o) ? o[o.length - 1] : o)), i.newWaypoints && (a.waypoints = i.newWaypoints), this._modeling.layoutConnection(t, a))
    }, wc.prototype.revert = function(e) {
        var t = e.oldSource,
            n = e.oldTarget,
            r = e.oldWaypoints,
            o = e.connection;
        return t && (o.source = t), n && (o.target = n), r && (o.waypoints = r), o
    }, Ec.$inject = ["modeling", "rules"], Ec.prototype.preExecute = function(e) {
        var t, n = this,
            r = this._modeling,
            o = this._rules,
            i = e.oldShape,
            a = e.newData,
            s = e.hints || {};

        function u(e, t, n) {
            return o.allowed("connection.reconnect", {
                connection: n,
                source: e,
                target: t
            })
        }
        var c, l = {
                x: a.x,
                y: a.y
            },
            p = {
                x: i.x,
                y: i.y,
                width: i.width,
                height: i.height
            };
        t = e.newShape = e.newShape || n.createShape(a, l, i.parent, s), i.host && r.updateAttachment(t, i.host), !1 !== s.moveChildren && (c = i.children.slice(), r.moveElements(c, {
            x: 0,
            y: 0
        }, t, s));
        var f = i.incoming.slice(),
            d = i.outgoing.slice();
        v(f, (function(e) {
            u(e.source, t, e) && n.reconnectEnd(e, t, lc(e, t, p), s)
        })), v(d, (function(e) {
            var r = e.target;
            u(t, r, e) && n.reconnectStart(e, t, cc(e, t, p), s)
        }))
    }, Ec.prototype.postExecute = function(e) {
        var t = e.oldShape;
        this._modeling.removeShape(t)
    }, Ec.prototype.execute = function(e) {}, Ec.prototype.revert = function(e) {}, Ec.prototype.createShape = function(e, t, n, r) {
        return this._modeling.createShape(e, t, n, r)
    }, Ec.prototype.reconnectStart = function(e, t, n, r) {
        this._modeling.reconnectStart(e, t, n, r)
    }, Ec.prototype.reconnectEnd = function(e, t, n, r) {
        this._modeling.reconnectEnd(e, t, n, r)
    }, Cc.$inject = ["modeling"], Cc.prototype.execute = function(e) {
        var t = e.shape,
            n = e.newBounds,
            r = e.minBounds;
        if (void 0 === n.x || void 0 === n.y || void 0 === n.width || void 0 === n.height) throw new Error("newBounds must have {x, y, width, height} properties");
        if (r && (n.width < r.width || n.height < r.height)) throw new Error("width and height cannot be less than minimum height and width");
        if (!r && n.width < 10 || n.height < 10) throw new Error("width and height cannot be less than 10px");
        return e.oldBounds = {
            width: t.width,
            height: t.height,
            x: t.x,
            y: t.y
        }, I(t, {
            width: n.width,
            height: n.height,
            x: n.x,
            y: n.y
        }), t
    }, Cc.prototype.postExecute = function(e) {
        var t = this._modeling,
            n = e.shape,
            r = e.oldBounds;
        !1 !== (e.hints || {}).layout && (v(n.incoming, (function(e) {
            t.layoutConnection(e, {
                connectionEnd: lc(e, n, r)
            })
        })), v(n.outgoing, (function(e) {
            t.layoutConnection(e, {
                connectionStart: cc(e, n, r)
            })
        })))
    }, Cc.prototype.revert = function(e) {
        var t = e.shape,
            n = e.oldBounds;
        return I(t, {
            width: n.width,
            height: n.height,
            x: n.x,
            y: n.y
        }), t
    }, Sc.$inject = ["modeling"], Sc.prototype.preExecute = function(e) {
        var t = e.delta,
            n = e.direction,
            r = e.movingShapes,
            o = e.resizingShapes,
            i = e.start,
            a = {};
        this.moveShapes(r, t), v(o, (function(e) {
            a[e.id] = function(e) {
                return {
                    x: e.x,
                    y: e.y,
                    height: e.height,
                    width: e.width
                }
            }(e)
        })), this.resizeShapes(o, t, n), this.updateConnectionWaypoints(function(e, t) {
            var n = [];
            return v(e.concat(t), (function(r) {
                var o = r.incoming,
                    i = r.outgoing;
                v(o.concat(i), (function(r) {
                    var o = r.source,
                        i = r.target;
                    (Oc(e, o) || Oc(e, i) || Oc(t, o) || Oc(t, i)) && (Oc(n, r) || n.push(r))
                }))
            })), n
        }(r, o), t, n, i, r, o, a)
    }, Sc.prototype.execute = function() {}, Sc.prototype.revert = function() {}, Sc.prototype.moveShapes = function(e, t) {
        var n = this;
        v(e, (function(e) {
            n._modeling.moveShape(e, t, null, {
                autoResize: !1,
                layout: !1,
                recurse: !1
            })
        }))
    }, Sc.prototype.resizeShapes = function(e, t, n) {
        var r = this;
        v(e, (function(e) {
            var o = function(e, t, n) {
                var r = e.x,
                    o = e.y,
                    i = e.width,
                    a = e.height,
                    s = n.x,
                    u = n.y;
                switch (t) {
                    case "n":
                        return {
                            x: r,
                            y: o + u,
                            width: i,
                            height: a - u
                        };
                    case "s":
                        return {
                            x: r,
                            y: o,
                            width: i,
                            height: a + u
                        };
                    case "w":
                        return {
                            x: r + s,
                            y: o,
                            width: i - s,
                            height: a
                        };
                    case "e":
                        return {
                            x: r,
                            y: o,
                            width: i + s,
                            height: a
                        };
                    default:
                        throw new Error("unknown direction: " + t)
                }
            }(e, n, t);
            r._modeling.resizeShape(e, o, null, {
                attachSupport: !1,
                autoResize: !1,
                layout: !1
            })
        }))
    }, Sc.prototype.updateConnectionWaypoints = function(e, t, n, r, o, i, a) {
        var s = this,
            u = o.concat(i);
        v(e, (function(e) {
            var c = e.source,
                l = e.target,
                p = function(e) {
                    return w(e.waypoints, (function(e) {
                        return (e = jc(e)).original && (e.original = jc(e.original)), e
                    }))
                }(e),
                f = kc(n),
                d = {
                    labelBehavior: !1
                };
            Tc(u, c) && Tc(u, l) ? (p = w(p, (function(e) {
                return Pc(e, r, n) && (e[f] = e[f] + t[f]), e.original && Pc(e.original, r, n) && (e.original[f] = e.original[f] + t[f]), e
            })), s._modeling.updateWaypoints(e, p, {
                labelBehavior: !1
            })) : (Tc(u, c) || Tc(u, l)) && (Tc(o, c) ? d.connectionStart = pc(e, c, t) : Tc(o, l) ? d.connectionEnd = fc(e, l, t) : Tc(i, c) ? d.connectionStart = cc(e, c, a[c.id]) : Tc(i, l) && (d.connectionEnd = lc(e, l, a[l.id])), s._modeling.layoutConnection(e, d))
        }))
    }, Dc.$inject = ["modeling"], Dc.prototype.execute = function(e) {
        var t = e.shape,
            n = t.children;
        e.oldChildrenVisibility = function e(t) {
            var n = {};
            return v(t, (function(t) {
                n[t.id] = t.hidden, t.children && (n = I({}, n, e(t.children)))
            })), n
        }(n), t.collapsed = !t.collapsed;
        var r = function e(t, n) {
            var r = [];
            return v(t, (function(t) {
                t.hidden = n, r = r.concat(t), t.children && (r = r.concat(e(t.children, t.collapsed || n)))
            })), r
        }(n, t.collapsed);
        return [t].concat(r)
    }, Dc.prototype.revert = function(e) {
        var t = e.shape,
            n = e.oldChildrenVisibility,
            r = function e(t, n) {
                var r = [];
                return v(t, (function(t) {
                    t.hidden = n[t.id], r = r.concat(t), t.children && (r = r.concat(e(t.children, n)))
                })), r
            }(t.children, n);
        return t.collapsed = !t.collapsed, [t].concat(r)
    }, Rc.$inject = ["modeling"], Rc.prototype.execute = function(e) {
        var t = e.shape,
            n = e.newHost,
            r = t.host;
        return e.oldHost = r, e.attacherIdx = Mc(r, t), Ac(n, t), t.host = n, t
    }, Rc.prototype.revert = function(e) {
        var t = e.shape,
            n = e.newHost,
            r = e.oldHost,
            o = e.attacherIdx;
        return t.host = r, Mc(n, t), Ac(r, t, o), t
    }, Nc.prototype.execute = function(e) {
        var t = e.connection,
            n = e.newWaypoints;
        return e.oldWaypoints = t.waypoints, t.waypoints = n, t
    }, Nc.prototype.revert = function(e) {
        var t = e.connection,
            n = e.oldWaypoints;
        return t.waypoints = n, t
    }, Ic.$inject = ["eventBus", "elementFactory", "commandStack"], Ic.prototype.getHandlers = function() {
        return {
            "shape.append": Hu,
            "shape.create": Yu,
            "shape.delete": rc,
            "shape.move": _c,
            "shape.resize": Cc,
            "shape.replace": Ec,
            "shape.toggleCollapse": Dc,
            spaceTool: Sc,
            "label.create": Ju,
            "connection.create": Uu,
            "connection.delete": ec,
            "connection.move": sc,
            "connection.layout": ac,
            "connection.updateWaypoints": Nc,
            "connection.reconnect": wc,
            "elements.create": Gu,
            "elements.move": bc,
            "elements.delete": tc,
            "elements.distribute": oc,
            "elements.align": qu,
            "element.updateAttachment": Rc
        }
    }, Ic.prototype.registerHandlers = function(e) {
        v(this.getHandlers(), (function(t, n) {
            e.registerHandler(n, t)
        }))
    }, Ic.prototype.moveShape = function(e, t, n, r, o) {
        "object" == typeof r && (o = r, r = null);
        var i = {
            shape: e,
            delta: t,
            newParent: n,
            newParentIndex: r,
            hints: o || {}
        };
        this._commandStack.execute("shape.move", i)
    }, Ic.prototype.updateAttachment = function(e, t) {
        var n = {
            shape: e,
            newHost: t
        };
        this._commandStack.execute("element.updateAttachment", n)
    }, Ic.prototype.moveElements = function(e, t, n, r) {
        var o, i = (r = r || {}).attach,
            a = n;
        !0 === i ? (o = n, a = n.parent) : !1 === i && (o = null);
        var s = {
            shapes: e,
            delta: t,
            newParent: a,
            newHost: o,
            hints: r
        };
        this._commandStack.execute("elements.move", s)
    }, Ic.prototype.moveConnection = function(e, t, n, r, o) {
        "object" == typeof r && (o = r, r = void 0);
        var i = {
            connection: e,
            delta: t,
            newParent: n,
            newParentIndex: r,
            hints: o || {}
        };
        this._commandStack.execute("connection.move", i)
    }, Ic.prototype.layoutConnection = function(e, t) {
        var n = {
            connection: e,
            hints: t || {}
        };
        this._commandStack.execute("connection.layout", n)
    }, Ic.prototype.createConnection = function(e, t, n, r, o, i) {
        "object" == typeof n && (i = o, o = r, r = n, n = void 0);
        var a = {
            source: e,
            target: t,
            parent: o,
            parentIndex: n,
            connection: r = this._create("connection", r),
            hints: i
        };
        return this._commandStack.execute("connection.create", a), a.connection
    }, Ic.prototype.createShape = function(e, t, n, r, o) {
        "number" != typeof r && (o = r, r = void 0);
        var i, a, s = (o = o || {}).attach;
        e = this._create("shape", e), s ? (i = n.parent, a = n) : i = n;
        var u = {
            position: t,
            shape: e,
            parent: i,
            parentIndex: r,
            host: a,
            hints: o
        };
        return this._commandStack.execute("shape.create", u), u.shape
    }, Ic.prototype.createElements = function(e, t, n, r, o) {
        c(e) || (e = [e]), "number" != typeof r && (o = r, r = void 0);
        var i = {
            position: t,
            elements: e,
            parent: n,
            parentIndex: r,
            hints: o = o || {}
        };
        return this._commandStack.execute("elements.create", i), i.elements
    }, Ic.prototype.createLabel = function(e, t, n, r) {
        n = this._create("label", n);
        var o = {
            labelTarget: e,
            position: t,
            parent: r || e.parent,
            shape: n
        };
        return this._commandStack.execute("label.create", o), o.shape
    }, Ic.prototype.appendShape = function(e, t, n, r, o) {
        o = o || {};
        var i = {
            source: e,
            position: n,
            target: r,
            shape: t = this._create("shape", t),
            connection: o.connection,
            connectionParent: o.connectionParent,
            hints: o
        };
        return this._commandStack.execute("shape.append", i), i.shape
    }, Ic.prototype.removeElements = function(e) {
        var t = {
            elements: e
        };
        this._commandStack.execute("elements.delete", t)
    }, Ic.prototype.distributeElements = function(e, t, n) {
        var r = {
            groups: e,
            axis: t,
            dimension: n
        };
        this._commandStack.execute("elements.distribute", r)
    }, Ic.prototype.removeShape = function(e, t) {
        var n = {
            shape: e,
            hints: t || {}
        };
        this._commandStack.execute("shape.delete", n)
    }, Ic.prototype.removeConnection = function(e, t) {
        var n = {
            connection: e,
            hints: t || {}
        };
        this._commandStack.execute("connection.delete", n)
    }, Ic.prototype.replaceShape = function(e, t, n) {
        var r = {
            oldShape: e,
            newData: t,
            hints: n || {}
        };
        return this._commandStack.execute("shape.replace", r), r.newShape
    }, Ic.prototype.alignElements = function(e, t) {
        var n = {
            elements: e,
            alignment: t
        };
        this._commandStack.execute("elements.align", n)
    }, Ic.prototype.resizeShape = function(e, t, n, r) {
        var o = {
            shape: e,
            newBounds: t,
            minBounds: n,
            hints: r
        };
        this._commandStack.execute("shape.resize", o)
    }, Ic.prototype.createSpace = function(e, t, n, r, o) {
        var i = {
            delta: n,
            direction: r,
            movingShapes: e,
            resizingShapes: t,
            start: o
        };
        this._commandStack.execute("spaceTool", i)
    }, Ic.prototype.updateWaypoints = function(e, t, n) {
        var r = {
            connection: e,
            newWaypoints: t,
            hints: n || {}
        };
        this._commandStack.execute("connection.updateWaypoints", r)
    }, Ic.prototype.reconnect = function(e, t, n, r, o) {
        var i = {
            connection: e,
            newSource: t,
            newTarget: n,
            dockingOrPoints: r,
            hints: o || {}
        };
        this._commandStack.execute("connection.reconnect", i)
    }, Ic.prototype.reconnectStart = function(e, t, n, r) {
        r || (r = {}), this.reconnect(e, t, e.target, n, I(r, {
            docking: "source"
        }))
    }, Ic.prototype.reconnectEnd = function(e, t, n, r) {
        r || (r = {}), this.reconnect(e, e.source, t, n, I(r, {
            docking: "target"
        }))
    }, Ic.prototype.connect = function(e, t, n, r) {
        return this.createConnection(e, t, n || {}, e.parent, r)
    }, Ic.prototype._create = function(e, t) {
        return t instanceof Er ? t : this._elementFactory.create(e, t)
    }, Ic.prototype.toggleCollapse = function(e, t) {
        var n = {
            shape: e,
            hints: t || {}
        };
        this._commandStack.execute("shape.toggleCollapse", n)
    }, Lc.$inject = ["moddle"], Lc.prototype.execute = function(e) {
        var t = this._moddle.ids,
            n = e.id,
            r = e.element;
        e.claiming ? t.claim(n, r) : t.unclaim(n)
    }, Lc.prototype.revert = function(e) {
        var t = this._moddle.ids,
            n = e.id,
            r = e.element;
        e.claiming ? t.unclaim(n) : t.claim(n, r)
    };

    function $c(e, t) {
        this._elementRegistry = e, this._moddle = t
    }

    function Vc(e, t) {
        return "id" in e && e.id !== t.id
    }

    function zc(e, t) {
        v(t, (function(t, n) {
            e.set(n, t)
        }))
    }

    function Fc(e, t, n) {
        this._canvas = e, this._drdRules = t, n.invoke(Ic, this)
    }

    function qc() {}
    $c.$inject = ["elementRegistry", "moddle"], $c.prototype.execute = function(e) {
        var t = e.element,
            n = [t];
        if (!t) throw new Error("element required");
        var r = this._elementRegistry,
            o = this._moddle.ids,
            i = t.businessObject,
            a = e.properties,
            s = e.oldProperties || function(e, t) {
                return g(t, (function(t, n) {
                    return t[n] = e.get(n), t
                }), {})
            }(i, x(a));
        return Vc(a, i) && (o.unclaim(i.id), r.updateId(t, a.id), o.claim(a.id, i)), "name" in a && t.label && n.push(t.label), zc(i, a), e.oldProperties = s, e.changed = n, n
    }, $c.prototype.revert = function(e) {
        var t = e.element,
            n = e.properties,
            r = e.oldProperties,
            o = t.businessObject,
            i = this._elementRegistry,
            a = this._moddle.ids;
        return zc(o, r), Vc(n, o) && (a.unclaim(n.id), i.updateId(t, r.id), a.claim(r.id, o)), e.changed
    }, en()(Fc, Ic), Fc.$inject = ["canvas", "drdRules", "injector"], Fc.prototype.claimId = function(e, t) {
        this._commandStack.execute("id.updateClaim", {
            id: e,
            element: t,
            claiming: !0
        })
    }, Fc.prototype.connect = function(e, t, n, r) {
        var o = this._drdRules,
            i = this._canvas.getRootElement();
        return n || (n = o.canConnect(e, t) || {
            type: "dmn:Association"
        }), this.createConnection(e, t, n, i, r)
    }, Fc.prototype.getHandlers = function() {
        var e = Ic.prototype.getHandlers.call(this);
        return e["id.updateClaim"] = Lc, e["element.updateLabel"] = Bc, e["element.updateProperties"] = $c, e
    }, Fc.prototype.unclaimId = function(e, t) {
        this._commandStack.execute("id.updateClaim", {
            id: e,
            element: t
        })
    }, Fc.prototype.updateProperties = function(e, t) {
        this._commandStack.execute("element.updateProperties", {
            element: e,
            properties: t
        })
    }, Fc.prototype.updateLabel = function(e, t, n, r) {
        this._commandStack.execute("element.updateLabel", {
            element: e,
            newLabel: t,
            newBounds: n,
            hints: r || {}
        })
    }, qc.prototype.layoutConnection = function(e, t) {
        return [(t = t || {}).connectionStart || Pi(t.source || e.source), t.connectionEnd || Pi(t.target || e.target)]
    };

    function Hc(e) {
        this._connectionDocking = e
    }

    function Uc(e, t) {
        return e ? e.original || e : Pi(t)
    }

    function Wc(e) {
        return I({
            original: e.point.original || e.point
        }, e.actual)
    }

    function Gc(e, t) {
        this._elementRegistry = e, this._graphicsFactory = t
    }
    en()(Hc, qc), Hc.$inject = ["connectionDocking"], Hc.prototype.layoutConnection = function(e, t) {
        var n = this._connectionDocking;
        t || (t = {});
        var r = t.source || e.source,
            o = t.target || e.target,
            i = t.waypoints || e.waypoints || [],
            a = t.connectionStart,
            s = t.connectionEnd,
            u = Ti(r, o);
        if (a || (a = Uc(i[0], r)), s || (s = Uc(i[i.length - 1], o)), Vt(e, "dmn:InformationRequirement")) {
            i = [a, s];
            var c = n.getCroppedWaypoints(I({}, e, {
                    waypoints: i
                }), r, o),
                l = {
                    x: (s = c.pop()).x,
                    y: s.y
                };
            return u.includes("bottom") ? l.y += 20 : u.includes("top") ? l.y -= 20 : u.includes("right") ? l.x += 20 : l.x -= 20, i = c.concat([l, s])
        }
        return [a, s]
    }, Gc.$inject = ["elementRegistry", "graphicsFactory"], Gc.prototype.getCroppedWaypoints = function(e, t, n) {
        t = t || e.source, n = n || e.target;
        var r = this.getDockingPoint(e, t, !0),
            o = this.getDockingPoint(e, n),
            i = e.waypoints.slice(r.idx + 1, o.idx);
        return i.unshift(Wc(r)), i.push(Wc(o)), i
    }, Gc.prototype.getDockingPoint = function(e, t, n) {
        var r, o, i = e.waypoints;
        return {
            point: o = i[r = n ? 0 : i.length - 1],
            actual: this._getIntersection(t, e, n) || o,
            idx: r
        }
    }, Gc.prototype._getIntersection = function(e, t, n) {
        return Di(this._getShapePath(e), this._getConnectionPath(t), n)
    }, Gc.prototype._getConnectionPath = function(e) {
        return this._graphicsFactory.getConnectionPath(e)
    }, Gc.prototype._getShapePath = function(e) {
        return this._graphicsFactory.getShapePath(e)
    }, Gc.prototype._getGfx = function(e) {
        return this._elementRegistry.getGraphics(e)
    };
    var Kc = {
            __init__: ["modeling", "drdUpdater"],
            __depends__: [Mu, Vu, ko, uu, go, lu],
            drdFactory: ["type", zu],
            drdUpdater: ["type", Fu],
            elementFactory: ["type", qi],
            modeling: ["type", Fc],
            layouter: ["type", Hc],
            connectionDocking: ["type", Gc]
        },
        Xc = Math.round;

    function Yc(e, t, n, r, o) {
        function i(e, t, n, r) {
            return o.allowed("elements.move", {
                shapes: e,
                delta: t,
                position: n,
                target: r
            })
        }

        function a(e, n, r, o) {
            if (l(r) && (o = r, r = !1), !n.waypoints && n.parent) {
                var i = function(e) {
                    return {
                        x: e.x + Xc(e.width / 2),
                        y: e.y + Xc(e.height / 2)
                    }
                }(n);
                return t.init(e, i, "shape.move", {
                    cursor: "grabbing",
                    autoActivate: r,
                    data: {
                        shape: n,
                        context: o || {}
                    }
                }), !0
            }
        }
        e.on("shape.move.start", 1500, (function(e) {
            var t, n, o = e.context,
                i = e.shape,
                a = r.get().slice(); - 1 === a.indexOf(i) && (a = [i]), n = O(t = a, "id"), I(o, {
                shapes: a = m(t, (function(e) {
                    for (; e = e.parent;)
                        if (n[e.id]) return !1;
                    return !0
                })),
                validatedShapes: a,
                shape: i
            })
        })), e.on("shape.move.start", 1250, (function(e) {
            var t = e.context,
                n = t.validatedShapes;
            if (!(t.canExecute = i(n))) return !1
        })), e.on("shape.move.move", 500, (function(e) {
            var t, n = e.context,
                r = n.validatedShapes,
                o = e.hover,
                a = {
                    x: e.dx,
                    y: e.dy
                };
            t = i(r, a, {
                x: e.x,
                y: e.y
            }, o), n.delta = a, n.canExecute = t, n.target = null !== t ? o : null
        })), e.on("shape.move.end", (function(e) {
            var t = e.context,
                r = t.delta,
                o = t.canExecute,
                i = "attach" === o,
                a = t.shapes;
            if (!1 === o) return !1;
            r.x = Xc(r.x), r.y = Xc(r.y), 0 === r.x && 0 === r.y || n.moveElements(a, r, t.target, {
                primaryShape: t.shape,
                attach: i
            })
        })), e.on("element.mousedown", (function(e) {
            var t = ro(e);
            if (!t) throw new Error("must supply DOM mousedown event");
            return a(t, e.element)
        })), this.start = a
    }
    Yc.$inject = ["eventBus", "dragging", "modeling", "selection", "rules"];
    var Jc = "drop-ok",
        Zc = "drop-not-ok",
        Qc = "new-parent",
        el = "attach-ok";

    function tl(e, t, n, o) {
        function i(e) {
            return function(e) {
                return m(e, (function(t) {
                    return ! function(e) {
                        return e.waypoints
                    }(t) || y(e, k({
                        id: t.source.id
                    })) && y(e, k({
                        id: t.target.id
                    }))
                }))
            }(a(e))
        }

        function a(e) {
            var t = Zn(e, !!0, -1),
                n = w(t, (function(e) {
                    return (e.incoming || []).concat(e.outgoing || [])
                }));
            return r(t.concat(n))
        }

        function s(e, n) {
            [el, Jc, Zc, Qc].forEach((function(r) {
                r === n ? t.addMarker(e, r) : t.removeMarker(e, r)
            }))
        }
        e.on("shape.move.start", 499, (function(e) {
            var s = e.context,
                u = s.shapes,
                c = s.allDraggedElements,
                l = i(u);
            if (!s.dragGroup) {
                var p = Mn("g");
                _n(p, n.cls("djs-drag-group", ["no-events"])), vn(t.getDefaultLayer(), p), s.dragGroup = p
            }
            l.forEach((function(e) {
                o.addDragger(e, s.dragGroup)
            })), v(c = c ? r([c, a(u)]) : a(u), (function(e) {
                t.addMarker(e, "djs-dragging")
            })), s.allDraggedElements = c, s.differentParents = 1 !== E(O(u, (function(e) {
                return e.parent && e.parent.id
            })))
        })), e.on("shape.move.move", 499, (function(e) {
            var t = e.context,
                n = t.dragGroup,
                r = t.target,
                o = t.shape.parent,
                i = t.canExecute;
            r && ("attach" === i ? s(r, el) : t.canExecute && r && r.id !== o.id ? s(r, Qc) : s(r, t.canExecute ? Jc : Zc)), Dr(n, e.dx, e.dy)
        })), e.on(["shape.move.out", "shape.move.cleanup"], (function(e) {
            var t = e.context.target;
            t && s(t, null)
        })), e.on("shape.move.cleanup", (function(e) {
            var n = e.context,
                r = n.allDraggedElements,
                o = n.dragGroup;
            v(r, (function(e) {
                t.removeMarker(e, "djs-dragging")
            })), o && jn(o)
        })), this.makeDraggable = function(e, n, r) {
            o.addDragger(n, e.dragGroup), r && t.addMarker(n, "djs-dragging"), e.allDraggedElements ? e.allDraggedElements.push(n) : e.allDraggedElements = [n]
        }
    }
    tl.$inject = ["eventBus", "canvas", "styles", "previewSupport"];
    var nl = {
        __depends__: [lo, go, fo, ia, ea, Ua],
        __init__: ["move", "movePreview"],
        move: ["type", Yc],
        movePreview: ["type", tl]
    };

    function rl(e, t) {
        this._eventBus = e, this._canvas = t;
        var n = this;
        e.on("tool-manager.update", (function(e) {
            var t = e.tool;
            n.updateToolHighlight(t)
        })), e.on("i18n.changed", (function() {
            n._update()
        })), e.on("diagram.init", (function() {
            n._diagramInitialized = !0, n._rebuild()
        }))
    }

    function ol(e, t) {
        var n = t.getPaletteEntries();
        return f(n) ? n(e) : (v(n, (function(t, n) {
            e[n] = t
        })), e)
    }
    rl.$inject = ["eventBus", "canvas"], rl.prototype.registerProvider = function(e, t) {
        t || (t = e, e = 1e3), this._eventBus.on("palette.getProviders", e, (function(e) {
            e.providers.push(t)
        })), this._rebuild()
    }, rl.prototype.getEntries = function() {
        return this._getProviders().reduce(ol, {})
    }, rl.prototype._rebuild = function() {
        this._diagramInitialized && (this._getProviders().length && (this._container || this._init(), this._update()))
    }, rl.prototype._init = function() {
        var e = this,
            t = this._eventBus,
            n = this._getParentContainer(),
            r = this._container = bt(rl.HTML_MARKUP);
        n.appendChild(r), gt.bind(r, ".djs-palette-toggle, .entry", "click", (function(t) {
            var n = t.delegateTarget;
            if (lt(n, ".djs-palette-toggle")) return e.toggle();
            e.trigger("click", t)
        })), yt.bind(r, "mousedown", (function(e) {
            e.stopPropagation()
        })), gt.bind(r, ".entry", "dragstart", (function(t) {
            e.trigger("dragstart", t)
        })), t.on("canvas.resized", this._layoutChanged, this), t.fire("palette.create", {
            container: r
        })
    }, rl.prototype._getProviders = function(e) {
        var t = this._eventBus.createEvent({
            type: "palette.getProviders",
            providers: []
        });
        return this._eventBus.fire(t), t.providers
    }, rl.prototype._toggleState = function(e) {
        e = e || {};
        var t, n = this._getParentContainer(),
            r = this._container,
            o = this._eventBus,
            i = it(r);
        t = "twoColumn" in e ? e.twoColumn : this._needsCollapse(n.clientHeight, this._entries || {}), i.toggle("two-column", t), "open" in e && i.toggle("open", e.open), o.fire("palette.changed", {
            twoColumn: t,
            open: this.isOpen()
        })
    }, rl.prototype._update = function() {
        var e = xt(".djs-palette-entries", this._container),
            t = this._entries = this.getEntries();
        st(e), v(t, (function(t, n) {
            var r = t.group || "default",
                o = xt("[data-group=" + r + "]", e);
            o || (o = bt('<div class="group" data-group="' + r + '"></div>'), e.appendChild(o));
            var i, a, s, u = t.html || (t.separator ? '<hr class="separator" />' : '<div class="entry" draggable="true"></div>'),
                l = bt(u);
            o.appendChild(l), t.separator || (et(l, "data-action", n), t.title && et(l, "title", t.title), t.className && (i = l, a = t.className, s = it(i), (c(a) ? a : a.split(/\s+/g)).forEach((function(e) {
                s.add(e)
            }))), t.imageUrl && l.appendChild(bt('<img src="' + t.imageUrl + '">')))
        })), this.open()
    }, rl.prototype.trigger = function(e, t, n) {
        var r, o, i, a = this._entries,
            s = t.delegateTarget || t.target;
        if (!s) return t.preventDefault();
        (r = a[et(s, "data-action")]) && (o = r.action, i = t.originalEvent || t, f(o) ? "click" === e && o(i, n) : o[e] && o[e](i, n), t.preventDefault())
    }, rl.prototype._layoutChanged = function() {
        this._toggleState({})
    }, rl.prototype._needsCollapse = function(e, t) {
        return e < 46 * Object.keys(t).length + 50
    }, rl.prototype.close = function() {
        this._toggleState({
            open: !1,
            twoColumn: !1
        })
    }, rl.prototype.open = function() {
        this._toggleState({
            open: !0
        })
    }, rl.prototype.toggle = function(e) {
        this.isOpen() ? this.close() : this.open()
    }, rl.prototype.isActiveTool = function(e) {
        return e && this._activeTool === e
    }, rl.prototype.updateToolHighlight = function(e) {
        var t;
        this._toolsContainer || (t = xt(".djs-palette-entries", this._container), this._toolsContainer = xt("[data-group=tools]", t)), v(this._toolsContainer.children, (function(t) {
            var n = t.getAttribute("data-action");
            if (n) {
                var r = it(t);
                n = n.replace("-tool", ""), r.contains("entry") && n === e ? r.add("highlighted-entry") : r.remove("highlighted-entry")
            }
        }))
    }, rl.prototype.isOpen = function() {
        return it(this._container).has("open")
    }, rl.prototype._getParentContainer = function() {
        return this._canvas.getContainer()
    }, rl.HTML_MARKUP = '<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';
    var il = {
        __init__: ["palette"],
        palette: ["type", rl]
    };

    function al(e, t) {
        this._eventBus = e, this._dragging = t, this._tools = [], this._active = null
    }
    al.$inject = ["eventBus", "dragging"], al.prototype.registerTool = function(e, t) {
        var n = this._tools;
        if (!t) throw new Error('A tool has to be registered with it\'s "events"');
        n.push(e), this.bindEvents(e, t)
    }, al.prototype.isActive = function(e) {
        return e && this._active === e
    }, al.prototype.length = function(e) {
        return this._tools.length
    }, al.prototype.setActive = function(e) {
        var t = this._eventBus;
        this._active !== e && (this._active = e, t.fire("tool-manager.update", {
            tool: e
        }))
    }, al.prototype.bindEvents = function(e, t) {
        var n = this._eventBus,
            r = this._dragging,
            o = [];
        n.on(t.tool + ".init", (function(t) {
            if (!t.context.reactivate && this.isActive(e)) return this.setActive(null), void r.cancel();
            this.setActive(e)
        }), this), v(t, (function(e) {
            o.push(e + ".ended"), o.push(e + ".canceled")
        })), n.on(o, 250, (function(e) {
            var t = e.originalEvent;
            this._active && (t && pt(t.target, '.group[data-group="tools"]') || this.setActive(null))
        }), this)
    };
    var sl = {
        __depends__: [ea],
        __init__: ["toolManager"],
        toolManager: ["type", al]
    };

    function ul(e, t, n, r, o, i) {
        this._selection = o, this._dragging = n;
        var a = this,
            s = function(e) {
                var n, r = t.getDefaultLayer();
                _n(n = e.frame = Mn("rect"), {
                    class: "djs-lasso-overlay",
                    width: 1,
                    height: 1,
                    x: 0,
                    y: 0
                }), vn(r, n)
            },
            u = function(e) {
                var t = e.frame,
                    n = e.bbox;
                _n(t, {
                    x: n.x,
                    y: n.y,
                    width: n.width,
                    height: n.height
                })
            },
            c = function(e) {
                e.frame && jn(e.frame)
            };
        i.registerTool("lasso", {
            tool: "lasso.selection",
            dragging: "lasso"
        }), e.on("lasso.selection.end", (function(t) {
            var n = t.originalEvent.target;
            (t.hover || n instanceof SVGElement) && e.once("lasso.selection.ended", (function() {
                a.activateLasso(t.originalEvent, !0)
            }))
        })), e.on("lasso.end", (function(e) {
            var t = cl(e),
                n = r.filter((function(e) {
                    return e
                }));
            a.select(n, t)
        })), e.on("lasso.start", (function(e) {
            var t = e.context;
            t.bbox = cl(e), s(t)
        })), e.on("lasso.move", (function(e) {
            var t = e.context;
            t.bbox = cl(e), u(t)
        })), e.on("lasso.cleanup", (function(e) {
            var t = e.context;
            c(t)
        })), e.on("element.mousedown", 1500, (function(e) {
            if (function(e) {
                    var t = ro(e) || e;
                    return ao(e) && t.shiftKey
                }(e)) return a.activateLasso(e.originalEvent), !0
        }))
    }

    function cl(e) {
        var t = {
                x: e.x - e.dx,
                y: e.y - e.dy
            },
            n = {
                x: e.x,
                y: e.y
            };
        return t.x <= n.x && t.y < n.y || t.x < n.x && t.y <= n.y ? {
            x: t.x,
            y: t.y,
            width: n.x - t.x,
            height: n.y - t.y
        } : t.x >= n.x && t.y < n.y || t.x > n.x && t.y <= n.y ? {
            x: n.x,
            y: t.y,
            width: t.x - n.x,
            height: n.y - t.y
        } : t.x <= n.x && t.y > n.y || t.x < n.x && t.y >= n.y ? {
            x: t.x,
            y: n.y,
            width: n.x - t.x,
            height: t.y - n.y
        } : t.x >= n.x && t.y > n.y || t.x > n.x && t.y >= n.y ? {
            x: n.x,
            y: n.y,
            width: t.x - n.x,
            height: t.y - n.y
        } : {
            x: n.x,
            y: n.y,
            width: 0,
            height: 0
        }
    }
    ul.$inject = ["eventBus", "canvas", "dragging", "elementRegistry", "selection", "toolManager"], ul.prototype.activateLasso = function(e, t) {
        this._dragging.init(e, "lasso", {
            autoActivate: t,
            cursor: "crosshair",
            data: {
                context: {}
            }
        })
    }, ul.prototype.activateSelection = function(e) {
        this._dragging.init(e, "lasso.selection", {
            trapClick: !1,
            cursor: "crosshair",
            data: {
                context: {}
            }
        })
    }, ul.prototype.select = function(e, t) {
        var n = function(e, t) {
            var n = {};
            return v(e, (function(e) {
                var r = e;
                r.waypoints && (r = Qn(r)), !p(t.y) && r.x > t.x && (n[e.id] = e), !p(t.x) && r.y > t.y && (n[e.id] = e), r.x > t.x && r.y > t.y && (p(t.width) && p(t.height) && r.width + r.x < t.width + t.x && r.height + r.y < t.height + t.y ? n[e.id] = e : p(t.width) && p(t.height) || (n[e.id] = e))
            })), n
        }(e, t);
        this._selection.select(C(n))
    }, ul.prototype.toggle = function() {
        this.isActive() ? this._dragging.cancel() : this.activateSelection()
    }, ul.prototype.isActive = function() {
        var e = this._dragging.context();
        return e && /^lasso/.test(e.prefix)
    };
    var ll = {
        __depends__: [sl],
        __init__: ["lassoTool"],
        lassoTool: ["type", ul]
    };

    function pl(e, t, n, r, o) {
        this._palette = e, this._create = t, this._elementFactory = n, this._lassoTool = r, this._translate = o, e.registerProvider(this)
    }
    pl.$inject = ["palette", "create", "elementFactory", "lassoTool", "translate"], pl.prototype.getPaletteEntries = function(e) {
        var t = {},
            n = this._create,
            r = this._elementFactory,
            o = this._lassoTool,
            i = this._translate;

        function a(e, t, o, i, a) {
            function s(t) {
                var o = r.createShape(I({
                    type: e
                }, a));
                n.start(t, o)
            }
            return {
                group: t,
                className: o,
                title: i,
                action: {
                    dragstart: s,
                    click: s
                }
            }
        }
        return I(t, {
            "lasso-tool": {
                group: "tools",
                className: "dmn-icon-lasso-tool",
                title: i("Activate the lasso tool"),
                action: {
                    click: function(e) {
                        o.activateSelection(e)
                    }
                }
            },
            "tool-separator": {
                group: "tools",
                separator: !0
            },
            "create.decision": a("dmn:Decision", "drd", "dmn-icon-decision", i("Create Decision")),
            "create.input-data": a("dmn:InputData", "drd", "dmn-icon-input-data", i("Create Input Data")),
            "create.knowledge-source": a("dmn:KnowledgeSource", "drd", "dmn-icon-knowledge-source", i("Create Knowledge Source")),
            "create.business-knowledge-model": a("dmn:BusinessKnowledgeModel", "drd", "dmn-icon-business-knowledge", i("Create Knowledge Model"))
        }), t
    };
    var fl = {
            __depends__: [to, il, ts, ll],
            __init__: ["paletteProvider"],
            paletteProvider: ["type", pl]
        },
        dl = Math.max,
        hl = Math.min;

    function yl(e, t, n) {
        var r = t[e],
            o = n.min && n.min[e],
            i = n.max && n.max[e];
        return p(o) && (r = (/top|left/.test(e) ? hl : dl)(r, o)), p(i) && (r = (/top|left/.test(e) ? dl : hl)(r, i)), r
    }

    function ml(e, t) {
        return void 0 !== e ? e : 20
    }

    function vl(e) {
        return !e.waypoints && "label" !== e.type
    }

    function gl(e, t) {
        var n;
        if ((n = void 0 === e.length ? m(e.children, vl) : e).length) return function(e, t) {
            var n, r, o, i;
            return "object" == typeof t ? (n = ml(t.left), r = ml(t.right), o = ml(t.top), i = ml(t.bottom)) : n = r = o = i = ml(t), {
                x: e.x - n,
                y: e.y - o,
                width: e.width + n + r,
                height: e.height + o + i
            }
        }(Qn(n), t)
    }

    function bl(e, t, n, r) {
        this._dragging = r, this._rules = t;
        var o = this;

        function i(e, t) {
            var n, r = e.shape,
                i = e.direction,
                a = e.resizeConstraints;
            e.delta = t, n = function(e, t, n) {
                var r = n.x,
                    o = n.y,
                    i = {
                        x: e.x,
                        y: e.y,
                        width: e.width,
                        height: e.height
                    };
                return -1 !== t.indexOf("n") ? (i.y = e.y + o, i.height = e.height - o) : -1 !== t.indexOf("s") && (i.height = e.height + o), -1 !== t.indexOf("e") ? i.width = e.width + r : -1 !== t.indexOf("w") && (i.x = e.x + r, i.width = e.width - r), i
            }(r, i, t), e.newBounds = function(e, t) {
                if (!t) return e;
                var n = ji(e);
                return ki({
                    top: yl("top", n, t),
                    right: yl("right", n, t),
                    bottom: yl("bottom", n, t),
                    left: yl("left", n, t)
                })
            }(n, a), e.canExecute = o.canResize(e)
        }

        function a(e) {
            var t, r = e.shape,
                o = e.canExecute,
                i = e.newBounds;
            if (o) {
                if (t = i, ! function(e, t) {
                        return e.x !== t.x || e.y !== t.y || e.width !== t.width || e.height !== t.height
                    }(r, i = {
                        x: Math.round(t.x),
                        y: Math.round(t.y),
                        width: Math.round(t.width),
                        height: Math.round(t.height)
                    })) return;
                n.resizeShape(r, i)
            }
        }
        e.on("resize.start", (function(e) {
            var t, n, r;
            t = e.context, n = t.resizeConstraints, r = t.minBounds, void 0 === n && (void 0 === r && (r = o.computeMinResizeBox(t)), t.resizeConstraints = {
                min: ji(r)
            })
        })), e.on("resize.move", (function(e) {
            var t = {
                x: e.dx,
                y: e.dy
            };
            i(e.context, t)
        })), e.on("resize.end", (function(e) {
            a(e.context)
        }))
    }

    function _l(e, t) {
        var n = Pi(e),
            r = ji(e),
            o = {
                x: n.x,
                y: n.y
            };
        return -1 !== t.indexOf("n") ? o.y = r.top : -1 !== t.indexOf("s") && (o.y = r.bottom), -1 !== t.indexOf("e") ? o.x = r.right : -1 !== t.indexOf("w") && (o.x = r.left), o
    }

    function wl(e) {
        return "n" === e || "s" === e ? "resize-ns" : "e" === e || "w" === e ? "resize-ew" : "nw" === e || "se" === e ? "resize-nwse" : "resize-nesw"
    }
    bl.prototype.canResize = function(e) {
        var t = this._rules,
            n = L(e, ["newBounds", "shape", "delta", "direction"]);
        return t.allowed("shape.resize", n)
    }, bl.prototype.activate = function(e, t, n) {
        var r, o, i = this._dragging;
        if ("string" == typeof n && (n = {
                direction: n
            }), !(o = (r = I({
                shape: t
            }, n)).direction)) throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");
        i.init(e, _l(t, o), "resize", {
            autoActivate: !0,
            cursor: wl(o),
            data: {
                shape: t,
                context: r
            }
        })
    }, bl.prototype.computeMinResizeBox = function(e) {
        var t = e.shape;
        return function(e, t, n, r) {
            var o = ji(t),
                i = {
                    top: /n/.test(e) ? o.bottom - n.height : o.top,
                    left: /w/.test(e) ? o.right - n.width : o.left,
                    bottom: /s/.test(e) ? o.top + n.height : o.bottom,
                    right: /e/.test(e) ? o.left + n.width : o.right
                },
                a = r ? ji(r) : i;
            return ki({
                top: hl(i.top, a.top),
                left: hl(i.left, a.left),
                bottom: dl(i.bottom, a.bottom),
                right: dl(i.right, a.right)
            })
        }(e.direction, t, e.minDimensions || {
            width: 10,
            height: 10
        }, gl(t, e.childrenBoxPadding))
    }, bl.$inject = ["eventBus", "rules", "modeling", "dragging"];

    function xl(e, t, n) {
        e.on("resize.move", 500, (function(e) {
            var r, o, i, a;
            r = e.context, o = r.shape, i = r.newBounds, (a = r.frame) || (a = r.frame = n.addFrame(o, t.getDefaultLayer()), t.addMarker(o, "djs-resizing")), i.width > 5 && _n(a, {
                x: i.x,
                width: i.width
            }), i.height > 5 && _n(a, {
                y: i.y,
                height: i.height
            }), r.canExecute ? On(a).remove("resize-not-ok") : On(a).add("resize-not-ok")
        })), e.on("resize.cleanup", (function(e) {
            var n, r;
            n = e.context, r = n.shape, n.frame && jn(n.frame), t.removeMarker(r, "djs-resizing")
        }))
    }
    xl.$inject = ["eventBus", "canvas", "previewSupport"];
    var El = ["n", "w", "s", "e", "nw", "ne", "se", "sw"];

    function Cl(e, t, n, r) {
        this._resize = r, this._canvas = t;
        var o = this;
        e.on("selection.changed", (function(e) {
            var t = e.newSelection;
            o.removeResizers(), 1 === t.length && v(t, A(o.addResizer, o))
        })), e.on("shape.changed", (function(e) {
            var t = e.element;
            n.isSelected(t) && (o.removeResizers(), o.addResizer(t))
        }))
    }
    Cl.prototype.makeDraggable = function(e, t, n) {
        var r = this._resize;

        function o(t) {
            ao(t) && r.activate(t, e, n)
        }
        yt.bind(t, "mousedown", o), yt.bind(t, "touchstart", o)
    }, Cl.prototype._createResizer = function(e, t, n, r) {
        var o = this._getResizersParent(),
            i = function(e) {
                var t = {
                    x: 0,
                    y: 0
                }; - 1 !== e.indexOf("e") ? t.x = 6 : -1 !== e.indexOf("w") && (t.x = -6); - 1 !== e.indexOf("s") ? t.y = 6 : -1 !== e.indexOf("n") && (t.y = -6);
                return t
            }(r),
            a = Mn("g");
        On(a).add("djs-resizer"), On(a).add("djs-resizer-" + e.id), On(a).add("djs-resizer-" + r), vn(o, a);
        var s = Mn("rect");
        _n(s, {
            x: -2 + i.x,
            y: -2 + i.y,
            width: 4,
            height: 4
        }), On(s).add("djs-resizer-visual"), vn(a, s);
        var u = Mn("rect");
        return _n(u, {
                x: -10 + i.x,
                y: -10 + i.y,
                width: 20,
                height: 20
            }), On(u).add("djs-resizer-hit"), vn(a, u),
            function(e, t, n, r, o) {
                var i = In();
                i.setTranslate(t, n);
                var a = In();
                a.setRotate(r || 0, 0, 0);
                var s = In();
                s.setScale(o || 1, o || 1), Un(e, [i, a, s])
            }(a, t, n), a
    }, Cl.prototype.createResizer = function(e, t) {
        var n = _l(e, t),
            r = this._createResizer(e, n.x, n.y, t);
        this.makeDraggable(e, r, t)
    }, Cl.prototype.addResizer = function(e) {
        var t = this;
        this._resize.canResize({
            shape: e
        }) && v(El, (function(n) {
            t.createResizer(e, n)
        }))
    }, Cl.prototype.removeResizers = function() {
        kn(this._getResizersParent())
    }, Cl.prototype._getResizersParent = function() {
        return this._canvas.getLayer("resizers")
    }, Cl.$inject = ["eventBus", "canvas", "selection", "resize"];
    var Ol = {
        __depends__: [ia, ea, Ua],
        __init__: ["resize", "resizePreview", "resizeHandles"],
        resize: ["type", bl],
        resizePreview: ["type", xl],
        resizeHandles: ["type", Cl]
    };

    function Sl(e) {
        e.on(["bendpoint.move.move", "bendpoint.move.end"], 2e3, (function(e) {
            var t = e.context,
                n = t.allowed,
                r = t.hover,
                o = t.source,
                i = t.target,
                a = t.type;
            if (t.hints || (t.hints = {}), delete t.hints.connectionStart, delete t.hints.connectionEnd, (!n || "dmn:InformationRequirement" === n.type) && r && Ht(r, ["dmn:Decision", "dmn:InputData"]) && o !== i) {
                var s = "reconnectStart" === a || "reconnectEnd" === a,
                    u = Ti(o, i);
                s && r === o ? (! function(e, t) {
                    var n = jl(e.context.source, t),
                        r = e.x - n.x,
                        o = e.y - n.y;
                    e.x -= r, e.y -= o, e.dx -= r, e.dy -= o
                }(e, u), t.hints.connectionEnd = kl(i, u)) : s && r === i && (t.hints.connectionStart = jl(o, u), function(e, t) {
                    var n = kl(e.context.target, t),
                        r = 0,
                        o = 0;
                    t.includes("top") || t.includes("bottom") ? o = e.y - n.y : r = e.x - n.x;
                    e.x -= r, e.y -= o, e.dx -= r, e.dy -= o
                }(e, u))
            }
        }))
    }

    function jl(e, t) {
        var n = ji(e),
            r = Pi(e);
        return t.includes("bottom") ? r.y = n.top : t.includes("top") ? r.y = n.bottom : t.includes("right") ? r.x = n.left : r.x = n.right, r
    }

    function kl(e, t) {
        var n = ji(e),
            r = Pi(e);
        return t.includes("bottom") ? r.y = n.bottom : t.includes("top") ? r.y = n.top : t.includes("right") ? r.x = n.right : r.x = n.left, r
    }
    Sl.$inject = ["eventBus"];

    function Pl(e) {
        e.on(["connect.hover", "connect.move", "connect.end"], 250, (function(e) {
            var t = e.context,
                n = t.canExecute,
                r = t.hover,
                o = t.source,
                i = t.target;
            if (n && "dmn:InformationRequirement" === n.type) {
                var a = Ti(o, i);
                t.connectionStart = Pi(o), t.connectionEnd = r === o ? Pi(i) : {
                    x: e.x,
                    y: e.y
                }, a.includes("bottom") ? (t.connectionStart.y = ji(o).top, t.connectionEnd.y = ji(i).bottom) : a.includes("top") ? (t.connectionStart.y = ji(o).bottom, t.connectionEnd.y = ji(i).top) : a.includes("right") ? (t.connectionStart.x = ji(o).left, t.connectionEnd.x = ji(i).right) : (t.connectionStart.x = ji(o).right, t.connectionEnd.x = ji(i).left)
            } else delete t.connectionStart, delete t.connectionEnd
        }))
    }

    function Tl() {
        this._targets = {}, this._snapOrigins = {}, this._snapLocations = [], this._defaultSnaps = {}
    }

    function Dl(e) {
        this._snapValues = {}
    }
    Pl.$inject = ["eventBus"], Tl.prototype.getSnapOrigin = function(e) {
        return this._snapOrigins[e]
    }, Tl.prototype.setSnapOrigin = function(e, t) {
        this._snapOrigins[e] = t, -1 === this._snapLocations.indexOf(e) && this._snapLocations.push(e)
    }, Tl.prototype.addDefaultSnap = function(e, t) {
        var n = this._defaultSnaps[e];
        n || (n = this._defaultSnaps[e] = []), n.push(t)
    }, Tl.prototype.getSnapLocations = function() {
        return this._snapLocations
    }, Tl.prototype.setSnapLocations = function(e) {
        this._snapLocations = e
    }, Tl.prototype.pointsForTarget = function(e) {
        var t = e.id || e,
            n = this._targets[t];
        return n || (n = this._targets[t] = new Dl).initDefaults(this._defaultSnaps), n
    }, Dl.prototype.add = function(e, t) {
        var n = this._snapValues[e];
        n || (n = this._snapValues[e] = {
            x: [],
            y: []
        }), -1 === n.x.indexOf(t.x) && n.x.push(t.x), -1 === n.y.indexOf(t.y) && n.y.push(t.y)
    }, Dl.prototype.snap = function(e, t, n, r) {
        var o = this._snapValues[t];
        return o && function(e, t, n) {
            var r, o;
            for (n = void 0 === n ? 10 : n, r = 0; r < t.length; r++)
                if (o = t[r], Sa(o - e) <= n) return o
        }(e[n], o[n], r)
    }, Dl.prototype.initDefaults = function(e) {
        var t = this;
        v(e || {}, (function(e, n) {
            v(e, (function(e) {
                t.add(n, e)
            }))
        }))
    };

    function Rl(e, t, n) {
        var r = this;
        this._elementRegistry = e, t.on(["create.start", "shape.move.start"], (function(e) {
            r.initSnap(e)
        })), t.on(["create.move", "create.end", "shape.move.move", "shape.move.end"], 1250, (function(e) {
            var t = e.context,
                o = t.shape,
                i = t.snapContext,
                a = t.target;
            if ((!e.originalEvent || !Rs(e.originalEvent)) && !Pa(e) && a) {
                var s = i.pointsForTarget(a);
                s.initialized || ((s = r.addSnapTargetPoints(s, o, a)).initialized = !0), n.snap(e, s)
            }
        })), t.on(["create.cleanup", "shape.move.cleanup"], (function() {
            n.hide()
        }))
    }

    function Ml(e) {
        return !!e.labelTarget
    }
    Rl.$inject = ["elementRegistry", "eventBus", "snapping"], Rl.prototype.initSnap = function(e) {
        var t, n = this._elementRegistry,
            r = e.context,
            o = r.shape,
            i = r.snapContext;
        i || (i = r.snapContext = new Tl);
        var a = (t = n.get(o.id) ? ka(o, e) : {
                x: e.x + ka(o).x,
                y: e.y + ka(o).y
            }).x - o.width / 2,
            s = t.y - o.height / 2,
            u = t.x + o.width / 2,
            c = t.y + o.height / 2;
        return i.setSnapOrigin("mid", {
            x: t.x - e.x,
            y: t.y - e.y
        }), Ml(o) || (i.setSnapOrigin("top-left", {
            x: a - e.x,
            y: s - e.y
        }), i.setSnapOrigin("bottom-right", {
            x: u - e.x,
            y: c - e.y
        })), i
    }, Rl.prototype.addSnapTargetPoints = function(e, t, n) {
        return v(this.getSnapTargets(t, n), (function(n) {
            if (Ml(n)) Ml(t) && e.add("mid", ka(n));
            else if (n.waypoints) {
                if (n.waypoints.length < 3) return;
                v(n.waypoints.slice(1, -1), (function(t) {
                    e.add("mid", t)
                }))
            } else {
                e.add("mid", ka(n))
            }
        })), p(t.x) && p(t.y) ? (this._elementRegistry.get(t.id) && e.add("mid", ka(t)), e) : e
    }, Rl.prototype.getSnapTargets = function(e, t) {
        return Da(t).filter((function(e) {
            return !e.hidden
        }))
    };

    function Al(e, t) {
        var n = this;
        e.on(["resize.start"], (function(e) {
            n.initSnap(e)
        })), e.on(["resize.move", "resize.end"], 1250, (function(e) {
            var r = e.context,
                o = r.shape,
                i = o.parent,
                a = r.direction,
                s = r.snapContext;
            if (!(e.originalEvent && Rs(e.originalEvent) || Pa(e))) {
                var u = s.pointsForTarget(i);
                u.initialized || ((u = n.addSnapTargetPoints(u, o, i, a)).initialized = !0),
                    function(e) {
                        return "n" === e || "s" === e
                    }(a) && Ta(e, "x", e.x),
                    function(e) {
                        return "e" === e || "w" === e
                    }(a) && Ta(e, "y", e.y), t.snap(e, u)
            }
        })), e.on(["resize.cleanup"], (function() {
            t.hide()
        }))
    }

    function Nl(e, t) {
        var n = Pi(e),
            r = ji(e),
            o = {
                x: n.x,
                y: n.y
            };
        return -1 !== t.indexOf("n") ? o.y = r.top : -1 !== t.indexOf("s") && (o.y = r.bottom), -1 !== t.indexOf("e") ? o.x = r.right : -1 !== t.indexOf("w") && (o.x = r.left), o
    }
    Al.prototype.initSnap = function(e) {
        var t = e.context,
            n = t.shape,
            r = t.direction,
            o = t.snapContext;
        o || (o = t.snapContext = new Tl);
        var i = Nl(n, r);
        return o.setSnapOrigin("corner", {
            x: i.x - e.x,
            y: i.y - e.y
        }), o
    }, Al.prototype.addSnapTargetPoints = function(e, t, n, r) {
        return v(this.getSnapTargets(t, n), (function(t) {
            var n;
            e.add("corner", {
                x: (n = t).x + n.width,
                y: n.y + n.height
            }), e.add("corner", function(e) {
                return {
                    x: e.x,
                    y: e.y
                }
            }(t))
        })), e.add("corner", Nl(t, r)), e
    }, Al.$inject = ["eventBus", "snapping"], Al.prototype.getSnapTargets = function(e, t) {
        return Da(t).filter((function(t) {
            return !(n = t, r = e, n.host === r || function(e) {
                return !!e.waypoints
            }(t) || function(e) {
                return !!e.hidden
            }(t) || function(e) {
                return !!e.labelTarget
            }(t));
            var n, r
        }))
    };

    function Il(e) {
        this._canvas = e, this._asyncHide = M(A(this.hide, this), 1e3)
    }
    Il.$inject = ["canvas"], Il.prototype.snap = function(e, t) {
        var n = e.context.snapContext,
            r = n.getSnapLocations(),
            o = {
                x: Pa(e, "x"),
                y: Pa(e, "y")
            };
        v(r, (function(r) {
            var i = n.getSnapOrigin(r),
                a = {
                    x: e.x + i.x,
                    y: e.y + i.y
                };
            if (v(["x", "y"], (function(e) {
                    var n;
                    o[e] || void 0 !== (n = t.snap(a, r, e, 7)) && (o[e] = {
                        value: n,
                        originValue: n - i[e]
                    })
                })), o.x && o.y) return !1
        })), this.showSnapLine("vertical", o.x && o.x.value), this.showSnapLine("horizontal", o.y && o.y.value), v(["x", "y"], (function(t) {
            var n = o[t];
            l(n) && Ta(e, t, n.originValue)
        }))
    }, Il.prototype._createLine = function(e) {
        var t = this._canvas.getLayer("snap"),
            n = Mn("path");
        return _n(n, {
            d: "M0,0 L0,0"
        }), On(n).add("djs-snap-line"), vn(t, n), {
            update: function(t) {
                p(t) ? _n(n, "horizontal" === e ? {
                    d: "M-100000," + t + " L+100000," + t,
                    display: ""
                } : {
                    d: "M " + t + ",-100000 L " + t + ", +100000",
                    display: ""
                }) : _n(n, {
                    display: "none"
                })
            }
        }
    }, Il.prototype._createSnapLines = function() {
        this._snapLines = {
            horizontal: this._createLine("horizontal"),
            vertical: this._createLine("vertical")
        }
    }, Il.prototype.showSnapLine = function(e, t) {
        var n = this.getSnapLine(e);
        n && n.update(t), this._asyncHide()
    }, Il.prototype.getSnapLine = function(e) {
        return this._snapLines || this._createSnapLines(), this._snapLines[e]
    }, Il.prototype.hide = function() {
        v(this._snapLines, (function(e) {
            e.update()
        }))
    };
    var Ll = {
        __depends__: [{
            __init__: ["createMoveSnapping", "resizeSnapping", "snapping"],
            createMoveSnapping: ["type", Rl],
            resizeSnapping: ["type", Al],
            snapping: ["type", Il]
        }],
        __init__: ["bendpointSnapping", "connectSnapping"],
        bendpointSnapping: ["type", Sl],
        connectSnapping: ["type", Pl]
    };

    function Bl(e) {
        di.call(this, e)
    }

    function $l(e) {
        return ($l = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Vl(e, t) {
        return !t || "object" !== $l(t) && "function" != typeof t ? Fl(e) : t
    }

    function zl(e) {
        return (zl = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Fl(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function ql(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                writable: !0,
                configurable: !0
            }
        }), t && Hl(e, t)
    }

    function Hl(e, t) {
        return (Hl = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function Ul(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }
    en()(Bl, di), Bl.prototype._modelingModules = [bi, Xi, ra, Na, hs, ms, gs, Es, ks, Ds, qs, Zs, tu, au, wu, Kc, nl, fl, Ol, Ll], Bl.prototype._modules = [].concat(Bl.prototype._modules, Bl.prototype._modelingModules);
    var Wl = function e(t) {
            Ul(this, e), I(this, t), Ql(this, "businessObject", {
                writable: !0
            })
        },
        Gl = function(e) {
            function t(e) {
                var n;
                return Ul(this, t), Ql(Fl(n = Vl(this, zl(t).call(this, e))), "rows", {
                    enumerable: !0,
                    value: n.rows || []
                }), Ql(Fl(n), "cols", {
                    enumerable: !0,
                    value: n.cols || []
                }), n
            }
            return ql(t, e), t
        }(Wl),
        Kl = function(e) {
            function t(e) {
                var n;
                return Ul(this, t), Ql(Fl(n = Vl(this, zl(t).call(this, e))), "root", {
                    writable: !0
                }), Ql(Fl(n), "cells", {
                    enumerable: !0,
                    value: n.cells || []
                }), n
            }
            return ql(t, e), t
        }(Wl),
        Xl = function(e) {
            function t(e) {
                var n;
                return Ul(this, t), Ql(Fl(n = Vl(this, zl(t).call(this, e))), "root", {
                    writable: !0
                }), Ql(Fl(n), "cells", {
                    enumerable: !0,
                    value: n.cells || []
                }), n
            }
            return ql(t, e), t
        }(Wl),
        Yl = function(e) {
            function t(e) {
                var n;
                return Ul(this, t), Ql(Fl(n = Vl(this, zl(t).call(this, e))), "row", {
                    writable: !0
                }), Ql(Fl(n), "col", {
                    writable: !0
                }), n
            }
            return ql(t, e), t
        }(Wl),
        Jl = {
            root: Gl,
            row: Kl,
            col: Xl,
            cell: Yl
        };

    function Zl(e, t) {
        var n = Jl[e];
        if (!n) throw new Error("unknown type " + e);
        return new n(t)
    }

    function Ql(e, t, n) {
        Object.defineProperty(e, t, n)
    }

    function ep(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var tp = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._uid = 12
        }
        var t, n, r;
        return t = e, (n = [{
            key: "create",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return t.id || (t.id = e + "_" + this._uid++), Zl(e, t)
            }
        }, {
            key: "createRoot",
            value: function(e) {
                return this.create("root", e)
            }
        }, {
            key: "createRow",
            value: function(e) {
                return this.create("row", e)
            }
        }, {
            key: "createCol",
            value: function(e) {
                return this.create("col", e)
            }
        }, {
            key: "createCell",
            value: function(e) {
                return this.create("cell", e)
            }
        }]) && ep(t.prototype, n), r && ep(t, r), e
    }();

    function np(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var rp = function() {
        function e(t) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._eventBus = t, this._elements = {}, t.on("table.clear", this.clear.bind(this))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "add",
            value: function(e, t) {
                var n = e.id;
                this._elements[n] = e
            }
        }, {
            key: "remove",
            value: function(e) {
                var t = e.id || e;
                delete this._elements[t]
            }
        }, {
            key: "get",
            value: function(e) {
                return this._elements[e]
            }
        }, {
            key: "getAll",
            value: function() {
                return op(this._elements)
            }
        }, {
            key: "forEach",
            value: function(e) {
                op(this._elements).forEach((function(t) {
                    return e(t)
                }))
            }
        }, {
            key: "filter",
            value: function(e) {
                return op(this._elements).filter((function(t) {
                    return e(t)
                }))
            }
        }, {
            key: "clear",
            value: function() {
                this._elements = {}
            }
        }, {
            key: "updateId",
            value: function(e, t) {
                this._validateId(t), "string" == typeof e && (e = this.get(e)), this._eventBus.fire("element.updateId", {
                    element: e,
                    newId: t
                }), this.remove(e), e.id = t, this.add(e)
            }
        }, {
            key: "_validateId",
            value: function(e) {
                if (!e) throw new Error("element must have an id");
                if (this._elements[e]) throw new Error("element with id " + e + " already added")
            }
        }]) && np(t.prototype, n), r && np(t, r), e
    }();

    function op(e) {
        return Object.keys(e).map((function(t) {
            return e[t]
        }))
    }

    function ip(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    rp.$inject = ["eventBus"];
    var ap = function() {
        function e(t) {
            var n = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._listeners = {}, t.on("elements.changed", (function(e) {
                var t = e.elements;
                n.elementsChanged(t)
            })), t.on("root.remove", (function(e) {
                var r = e.root.id;
                n._listeners[r] && t.once("root.add", (function(e) {
                    var t = e.root.id;
                    n.updateId(r, t)
                }))
            })), t.on("element.updateId", (function(e) {
                var t = e.element,
                    r = e.newId;
                n.updateId(t.id, r)
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "elementsChanged",
            value: function(e) {
                for (var t = {}, n = e.length, r = 0; r < n; r++) {
                    var o = e[r].id;
                    if (t[o]) return;
                    t[o] = !0;
                    var i = this._listeners[o] && this._listeners[o].length;
                    if (i)
                        for (var a = 0; a < i; a++) this._listeners[o][a] && this._listeners[o][a]()
                }
            }
        }, {
            key: "onElementsChanged",
            value: function(e, t) {
                this._listeners[e] || (this._listeners[e] = []), this._listeners[e][this._listeners[e].length] = t
            }
        }, {
            key: "offElementsChanged",
            value: function(e, t) {
                if (this._listeners[e])
                    if (t) {
                        var n = this._listeners[e].indexOf(t); - 1 !== n && this._listeners[e].splice(n, 1)
                    } else this._listeners[e].length = 0
            }
        }, {
            key: "updateId",
            value: function(e, t) {
                this._listeners[e] && (this._listeners[t] = this._listeners[e], delete this._listeners[e])
            }
        }]) && ip(t.prototype, n), r && ip(t, r), e
    }();

    function sp(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    ap.$inject = ["eventBus"];
    var up = function() {
            function e() {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._listeners = {}
            }
            var t, n, r;
            return t = e, (n = [{
                key: "getComponent",
                value: function(e, t) {
                    var n = this._listeners[e];
                    if (n) {
                        for (var r, o = 0; o < n.length && !(r = n[o].callback(t)); o++);
                        return r
                    }
                }
            }, {
                key: "getComponents",
                value: function(e, t) {
                    var n = this._listeners[e],
                        r = [];
                    if (!n) return r;
                    for (var o = 0; o < n.length; o++) {
                        var i = n[o].callback(t);
                        i && r.push(i)
                    }
                    return r.length, r
                }
            }, {
                key: "onGetComponent",
                value: function(e, t, n) {
                    if (f(t) && (n = t, t = 1e3), !p(t)) throw new Error("priority must be a number");
                    var r, o, i = this._getListeners(e),
                        a = {
                            priority: t,
                            callback: n
                        };
                    for (o = 0; r = i[o]; o++)
                        if (r.priority < t) return void i.splice(o, 0, a);
                    i.push(a)
                }
            }, {
                key: "offGetComponent",
                value: function(e, t) {
                    var n, r, o = this._getListeners(e);
                    if (t)
                        for (r = o.length - 1; n = o[r]; r--) n.callback === t && o.splice(r, 1);
                    else o.length = 0
                }
            }, {
                key: "_getListeners",
                value: function(e) {
                    var t = this._listeners[e];
                    return t || (this._listeners[e] = t = []), t
                }
            }]) && sp(t.prototype, n), r && sp(t, r), e
        }(),
        cp = !("undefined" == typeof window || !window.document),
        lp = Array.isArray;

    function pp(e) {
        var t = typeof e;
        return "string" === t || "number" === t
    }

    function fp(e) {
        return gp(e) || vp(e)
    }

    function dp(e) {
        return vp(e) || !1 === e || function(e) {
            return !0 === e
        }(e) || gp(e)
    }

    function hp(e) {
        return "function" == typeof e
    }

    function yp(e) {
        return "string" == typeof e
    }

    function mp(e) {
        return "number" == typeof e
    }

    function vp(e) {
        return null === e
    }

    function gp(e) {
        return void 0 === e
    }

    function bp(e, t) {
        var n = {};
        if (e)
            for (var r in e) n[r] = e[r];
        if (t)
            for (var o in t) n[o] = t[o];
        return n
    }

    function _p(e, t, n, r, o, i, a, s) {
        return {
            childFlags: e,
            children: t,
            className: n,
            dom: null,
            flags: r,
            key: void 0 === o ? null : o,
            parentVNode: null,
            props: void 0 === i ? null : i,
            ref: void 0 === a ? null : a,
            type: s
        }
    }

    function wp(e, t, n, r, o, i, a, s) {
        var u = void 0 === o ? 1 : o,
            c = _p(u, r, n, e, a, i, s, t);
        return 0 === u && kp(c, c.children), c
    }

    function xp(e, t, n, r, o) {
        (2 & e) > 0 && (e = t.prototype && hp(t.prototype.render) ? 4 : 8);
        var i = t.defaultProps;
        if (!fp(i))
            for (var a in n || (n = {}), i) gp(n[a]) && (n[a] = i[a]);
        if ((8 & e) > 0) {
            var s = t.defaultHooks;
            if (!fp(s))
                if (o)
                    for (var u in s) gp(o[u]) && (o[u] = s[u]);
                else o = s
        }
        var c = _p(1, null, null, e, r, n, o, t),
            l = Pp.createVNode;
        return hp(l) && l(c), c
    }

    function Ep(e, t) {
        return _p(1, fp(e) ? "" : e, null, 16, t, null, null, null)
    }

    function Cp(e) {
        var t = e.props;
        if (t) {
            var n = e.flags;
            481 & n && (void 0 !== t.children && fp(e.children) && kp(e, t.children), void 0 !== t.className && (e.className = t.className || null, t.className = void 0)), void 0 !== t.key && (e.key = t.key, t.key = void 0), void 0 !== t.ref && (e.ref = 8 & n ? bp(e.ref, t.ref) : t.ref, t.ref = void 0)
        }
        return e
    }

    function Op(e) {
        var t, n = e.flags;
        if (14 & n) {
            var r, o = e.props;
            if (!vp(o))
                for (var i in r = {}, o) r[i] = o[i];
            t = xp(n, e.type, r, e.key, e.ref)
        } else if (481 & n) {
            var a = e.children;
            t = wp(n, e.type, e.className, a, e.childFlags, e.props, e.key, e.ref)
        } else 16 & n ? t = Ep(e.children, e.key) : 1024 & n && (t = e);
        return t
    }

    function Sp() {
        return Ep("", null)
    }

    function jp(e, t, n, r) {
        for (var o = e.length; n < o; n++) {
            var i = e[n];
            if (!dp(i)) {
                var a = r + "$" + n;
                if (lp(i)) jp(i, t, 0, a);
                else {
                    if (pp(i)) i = Ep(i, a);
                    else {
                        var s = i.key,
                            u = yp(s) && "$" === s[0];
                        vp(i.dom) && !u || (i = Op(i)), vp(s) || u ? i.key = a : i.key = r + s
                    }
                    t.push(i)
                }
            }
        }
    }

    function kp(e, t) {
        var n, r = 1;
        if (dp(t)) n = t;
        else if (yp(t)) r = 2, n = Ep(t);
        else if (mp(t)) r = 2, n = Ep(t + "");
        else if (lp(t)) {
            var o = t.length;
            if (0 === o) n = null, r = 1;
            else {
                (Object.isFrozen(t) || !0 === t.$) && (t = t.slice()), r = 8;
                for (var i = 0; i < o; i++) {
                    var a = t[i];
                    if (dp(a) || lp(a)) {
                        n = n || t.slice(0, i), jp(t, n, i, "");
                        break
                    }
                    if (pp(a))(n = n || t.slice(0, i)).push(Ep(a, "$" + i));
                    else {
                        var s = a.key,
                            u = vp(a.dom),
                            c = vp(s),
                            l = !c && "$" === s[0];
                        !u || c || l ? (n = n || t.slice(0, i), u && !l || (a = Op(a)), (c || l) && (a.key = "$" + i), n.push(a)) : n && n.push(a)
                    }
                }(n = n || t).$ = !0
            }
        } else n = t, vp(t.dom) || (n = Op(t)), r = 2;
        return e.children = n, e.childFlags = r, e
    }
    var Pp = {
        afterMount: null,
        afterRender: null,
        afterUpdate: null,
        beforeRender: null,
        beforeUnmount: null,
        createVNode: null,
        roots: []
    };
    var Tp = "http://www.w3.org/1999/xlink",
        Dp = "http://www.w3.org/XML/1998/namespace",
        Rp = {
            "xlink:actuate": Tp,
            "xlink:arcrole": Tp,
            "xlink:href": Tp,
            "xlink:role": Tp,
            "xlink:show": Tp,
            "xlink:title": Tp,
            "xlink:type": Tp,
            "xml:base": Dp,
            "xml:lang": Dp,
            "xml:space": Dp
        },
        Mp = {},
        Ap = [];

    function Np(e, t) {
        e.appendChild(t)
    }

    function Ip(e, t, n) {
        fp(n) ? Np(e, t) : e.insertBefore(t, n)
    }

    function Lp(e, t, n) {
        e.replaceChild(t, n)
    }

    function Bp(e) {
        for (var t; void 0 !== (t = e.shift());) t()
    }
    var $p = {},
        Vp = {};

    function zp(e, t, n) {
        var r = $p[e],
            o = n.$EV;
        t ? (r || (Vp[e] = function(e) {
            var t = function(t) {
                var n = t.type,
                    r = "click" === n || "dblclick" === n;
                if (r && 0 !== t.button) return t.preventDefault(), t.stopPropagation(), !1;
                t.stopPropagation = qp;
                var o = {
                    dom: document
                };
                Object.defineProperty(t, "currentTarget", {
                        configurable: !0,
                        get: function() {
                            return o.dom
                        }
                    }),
                    function(e, t, n, r, o) {
                        var i = t;
                        for (; !vp(i);) {
                            if (n && i.disabled) return;
                            var a = i.$EV;
                            if (a) {
                                var s = a[r];
                                if (s && (o.dom = i, s.event ? s.event(s.data, e) : s(e), e.cancelBubble)) return
                            }
                            i = i.parentNode
                        }
                    }(t, t.target, r, e, o)
            };
            return document.addEventListener(Fp(e), t), t
        }(e), $p[e] = 0), o || (o = n.$EV = {}), o[e] || $p[e]++, o[e] = t) : o && o[e] && ($p[e]--, 1 === r && (document.removeEventListener(Fp(e), Vp[e]), Vp[e] = null), o[e] = t)
    }

    function Fp(e) {
        return e.substr(2).toLowerCase()
    }

    function qp() {
        this.cancelBubble = !0, this.immediatePropagationStopped || this.stopImmediatePropagation()
    }

    function Hp(e, t) {
        var n = document.createElement("i");
        return n.innerHTML = t, n.innerHTML === e.innerHTML
    }

    function Up(e, t, n) {
        if (e[t]) {
            var r = e[t];
            r.event ? r.event(r.data, n) : r(n)
        } else {
            var o = t.toLowerCase();
            e[o] && e[o](n)
        }
    }

    function Wp(e, t) {
        var n = function(n) {
            n.stopPropagation();
            var r = this.$V;
            if (r) {
                var o = r.props || Mp,
                    i = r.dom;
                if (yp(e)) Up(o, e, n);
                else
                    for (var a = 0; a < e.length; a++) Up(o, e[a], n);
                if (hp(t)) {
                    var s = this.$V,
                        u = s.props || Mp;
                    t(u, i, !1, s)
                }
            }
        };
        return Object.defineProperty(n, "wrapped", {
            configurable: !1,
            enumerable: !1,
            value: !0,
            writable: !1
        }), n
    }

    function Gp(e) {
        return "checkbox" === e || "radio" === e
    }
    var Kp = Wp("onInput", Jp),
        Xp = Wp(["onClick", "onChange"], Jp);

    function Yp(e) {
        e.stopPropagation()
    }

    function Jp(e, t) {
        var n = e.type,
            r = e.value,
            o = e.checked,
            i = e.multiple,
            a = e.defaultValue,
            s = !fp(r);
        n && n !== t.type && t.setAttribute("type", n), fp(i) || i === t.multiple || (t.multiple = i), fp(a) || s || (t.defaultValue = a + ""), Gp(n) ? (s && (t.value = r), fp(o) || (t.checked = o)) : s && t.value !== r ? (t.defaultValue = r, t.value = r) : fp(o) || (t.checked = o)
    }

    function Zp(e, t) {
        if ("optgroup" === e.type) {
            var n = e.children,
                r = e.childFlags;
            if (12 & r)
                for (var o = 0, i = n.length; o < i; o++) Qp(n[o], t);
            else 2 === r && Qp(n, t)
        } else Qp(e, t)
    }

    function Qp(e, t) {
        var n = e.props || Mp,
            r = e.dom;
        r.value = n.value, lp(t) && -1 !== t.indexOf(n.value) || n.value === t ? r.selected = !0 : fp(t) && fp(n.selected) || (r.selected = n.selected || !1)
    }
    Yp.wrapped = !0;
    var ef = Wp("onChange", tf);

    function tf(e, t, n, r) {
        var o = Boolean(e.multiple);
        fp(e.multiple) || o === t.multiple || (t.multiple = o);
        var i = r.childFlags;
        if (0 == (1 & i)) {
            var a = r.children,
                s = e.value;
            if (n && fp(s) && (s = e.defaultValue), 12 & i)
                for (var u = 0, c = a.length; u < c; u++) Zp(a[u], s);
            else 2 === i && Zp(a, s)
        }
    }
    var nf = Wp("onInput", of),
        rf = Wp("onChange");

    function of(e, t, n) {
        var r = e.value,
            o = t.value;
        if (fp(r)) {
            if (n) {
                var i = e.defaultValue;
                fp(i) || i === o || (t.defaultValue = i, t.value = i)
            }
        } else o !== r && (t.defaultValue = r, t.value = r)
    }

    function af(e, t, n, r, o, i) {
        64 & e ? Jp(r, n) : 256 & e ? tf(r, n, o, t) : 128 & e && of(r, n, o), i && (n.$V = t)
    }

    function sf(e, t, n) {
        64 & e ? function(e, t) {
            Gp(t.type) ? (e.onchange = Xp, e.onclick = Yp) : e.oninput = Kp
        }(t, n) : 256 & e ? function(e) {
            e.onchange = ef
        }(t) : 128 & e && function(e, t) {
            e.oninput = nf, t.onChange && (e.onchange = rf)
        }(t, n)
    }

    function uf(e) {
        return e.type && Gp(e.type) ? !fp(e.checked) : !fp(e.value)
    }

    function cf(e, t) {
        lf(e), vp(t) || (! function(e, t) {
            e.removeChild(t)
        }(t, e.dom), e.dom = null)
    }

    function lf(e) {
        var t = e.flags;
        if (481 & t) {
            var n = e.ref,
                r = e.props;
            hp(n) && n(null);
            var o = e.children,
                i = e.childFlags;
            if (12 & i ? pf(o) : 2 === i && lf(o), !vp(r))
                for (var a in r) switch (a) {
                    case "onClick":
                    case "onDblClick":
                    case "onFocusIn":
                    case "onFocusOut":
                    case "onKeyDown":
                    case "onKeyPress":
                    case "onKeyUp":
                    case "onMouseDown":
                    case "onMouseMove":
                    case "onMouseUp":
                    case "onSubmit":
                    case "onTouchEnd":
                    case "onTouchMove":
                    case "onTouchStart":
                        zp(a, null, e.dom)
                }
        } else if (14 & t) {
            var s = e.children,
                u = e.ref;
            4 & t ? (hp(Pp.beforeUnmount) && Pp.beforeUnmount(e), hp(s.componentWillUnmount) && s.componentWillUnmount(), hp(u) && u(null), s.$UN = !0, lf(s.$LI)) : (!fp(u) && hp(u.onComponentWillUnmount) && u.onComponentWillUnmount(e.dom, e.props || Mp), lf(s))
        } else if (1024 & t) {
            var c = e.children;
            vp(c) || "object" != typeof c || cf(c, e.type)
        }
    }

    function pf(e) {
        for (var t = 0, n = e.length; t < n; t++) lf(e[t])
    }

    function ff(e, t) {
        pf(t), e.textContent = ""
    }

    function df(e, t) {
        switch (e) {
            case "animationIterationCount":
            case "borderImageOutset":
            case "borderImageSlice":
            case "borderImageWidth":
            case "boxFlex":
            case "boxFlexGroup":
            case "boxOrdinalGroup":
            case "columnCount":
            case "fillOpacity":
            case "flex":
            case "flexGrow":
            case "flexNegative":
            case "flexOrder":
            case "flexPositive":
            case "flexShrink":
            case "floodOpacity":
            case "fontWeight":
            case "gridColumn":
            case "gridRow":
            case "lineClamp":
            case "lineHeight":
            case "opacity":
            case "order":
            case "orphans":
            case "stopOpacity":
            case "strokeDasharray":
            case "strokeDashoffset":
            case "strokeMiterlimit":
            case "strokeOpacity":
            case "strokeWidth":
            case "tabSize":
            case "widows":
            case "zIndex":
            case "zoom":
                return t;
            default:
                return t + "px"
        }
    }

    function hf(e, t, n, r, o, i, a) {
        switch (e) {
            case "onClick":
            case "onDblClick":
            case "onFocusIn":
            case "onFocusOut":
            case "onKeyDown":
            case "onKeyPress":
            case "onKeyUp":
            case "onMouseDown":
            case "onMouseMove":
            case "onMouseUp":
            case "onSubmit":
            case "onTouchEnd":
            case "onTouchMove":
            case "onTouchStart":
                zp(e, n, r);
                break;
            case "children":
            case "childrenType":
            case "className":
            case "defaultValue":
            case "key":
            case "multiple":
            case "ref":
                return;
            case "allowfullscreen":
            case "autoFocus":
            case "autoplay":
            case "capture":
            case "checked":
            case "controls":
            case "default":
            case "disabled":
            case "hidden":
            case "indeterminate":
            case "loop":
            case "muted":
            case "novalidate":
            case "open":
            case "readOnly":
            case "required":
            case "reversed":
            case "scoped":
            case "seamless":
            case "selected":
                r[e = "autoFocus" === e ? e.toLowerCase() : e] = !!n;
                break;
            case "defaultChecked":
            case "value":
            case "volume":
                if (i && "value" === e) return;
                var s = fp(n) ? "" : n;
                r[e] !== s && (r[e] = s);
                break;
            case "dangerouslySetInnerHTML":
                var u = t && t.__html || "",
                    c = n && n.__html || "";
                u !== c && (fp(c) || Hp(r, c) || (vp(a) || (12 & a.childFlags ? pf(a.children) : 2 === a.childFlags && lf(a.children), a.children = null, a.childFlags = 1), r.innerHTML = c));
                break;
            default:
                "o" === e[0] && "n" === e[1] ? function(e, t, n, r) {
                    var o = e.toLowerCase();
                    if (hp(n) || fp(n)) {
                        var i = r[o];
                        i && i.wrapped || (r[o] = n)
                    } else {
                        var a = n.event;
                        a && hp(a) && (r[o] = function(e, t) {
                            return function(n) {
                                e(t.data, n)
                            }
                        }(a, n))
                    }
                }(e, 0, n, r) : fp(n) ? r.removeAttribute(e) : "style" === e ? function(e, t, n) {
                    var r, o, i = n.style;
                    if (yp(t)) i.cssText = t;
                    else if (fp(e) || yp(e))
                        for (r in t) o = t[r], i[r] = mp(o) ? df(r, o) : o;
                    else {
                        for (r in t)(o = t[r]) !== e[r] && (i[r] = mp(o) ? df(r, o) : o);
                        for (r in e) fp(t[r]) && (i[r] = "")
                    }
                }(t, n, r) : o && Rp[e] ? r.setAttributeNS(Rp[e], e, n) : r.setAttribute(e, n)
        }
    }

    function yf(e, t, n, r, o) {
        var i = !1,
            a = (448 & t) > 0;
        for (var s in a && (i = uf(n)) && sf(t, r, n), n) hf(s, null, n[s], r, o, i, null);
        a && af(t, e, r, n, !0, i)
    }

    function mf(e, t, n, r) {
        var o = new t(n, r);
        if (e.children = o, o.$V = e, o.$BS = !1, o.context = r, o.props === Mp && (o.props = n), o.$UN = !1, hp(o.componentWillMount)) {
            if (o.$BR = !0, o.componentWillMount(), o.$PSS) {
                var i = o.state,
                    a = o.$PS;
                if (vp(i)) o.state = a;
                else
                    for (var s in a) i[s] = a[s];
                o.$PSS = !1, o.$PS = null
            }
            o.$BR = !1
        }
        hp(Pp.beforeRender) && Pp.beforeRender(o);
        var u, c = vf(o.render(n, o.state, r), e);
        return hp(o.getChildContext) && (u = o.getChildContext()), fp(u) ? o.$CX = r : o.$CX = bp(r, u), hp(Pp.afterRender) && Pp.afterRender(o), o.$LI = c, o
    }

    function vf(e, t) {
        return dp(e) ? e = Sp() : pp(e) ? e = Ep(e, null) : (e.dom && (e = Op(e)), 14 & e.flags && (e.parentVNode = t)), e
    }

    function gf(e, t, n, r, o) {
        var i = e.flags;
        return 481 & i ? _f(e, t, n, r, o) : 14 & i ? function(e, t, n, r, o, i) {
            var a, s = e.type,
                u = e.props || Mp,
                c = e.ref;
            if (i) {
                var l = mf(e, s, u, r);
                e.dom = a = gf(l.$LI, null, n, l.$CX, o), xf(e, c, l, n), l.$UPD = !1
            } else {
                var p = vf(s(u, r), e);
                e.children = p, e.dom = a = gf(p, null, n, r, o), Ef(u, c, a, n)
            }
            vp(t) || Np(t, a);
            return a
        }(e, t, n, r, o, (4 & i) > 0) : 512 & i || 16 & i ? bf(e, t) : 1024 & i ? (gf(e.children, e.type, n, r, !1), e.dom = bf(Sp(), t)) : void 0
    }

    function bf(e, t) {
        var n = e.dom = document.createTextNode(e.children);
        return vp(t) || Np(t, n), n
    }

    function _f(e, t, n, r, o) {
        var i = e.flags,
            a = e.children,
            s = e.props,
            u = e.className,
            c = e.ref,
            l = e.childFlags;
        o = o || (32 & i) > 0;
        var p = function(e, t) {
            return !0 === t ? document.createElementNS("http://www.w3.org/2000/svg", e) : document.createElement(e)
        }(e.type, o);
        if (e.dom = p, fp(u) || "" === u || (o ? p.setAttribute("class", u) : p.className = u), vp(t) || Np(t, p), 0 == (1 & l)) {
            var f = !0 === o && "foreignObject" !== e.type;
            2 === l ? gf(a, p, n, r, f) : 12 & l && wf(a, p, n, r, f)
        }
        return vp(s) || yf(e, i, s, p, o), hp(c) && Cf(p, c, n), p
    }

    function wf(e, t, n, r, o) {
        for (var i = 0, a = e.length; i < a; i++) {
            var s = e[i];
            vp(s.dom) || (e[i] = s = Op(s)), gf(s, t, n, r, o)
        }
    }

    function xf(e, t, n, r) {
        hp(t) && t(n);
        var o = hp(n.componentDidMount),
            i = Pp.afterMount,
            a = hp(i);
        (o || a) && r.push(function(e, t, n, r, o) {
            return function() {
                e.$UPD = !0, t && n(r), o && e.componentDidMount(), e.$UPD = !1
            }
        }(n, a, i, e, o))
    }

    function Ef(e, t, n, r) {
        fp(t) || (hp(t.onComponentWillMount) && t.onComponentWillMount(e), hp(t.onComponentDidMount) && r.push(function(e, t, n) {
            return function() {
                return e.onComponentDidMount(t, n)
            }
        }(t, n, e)))
    }

    function Cf(e, t, n) {
        n.push((function() {
            return t(e)
        }))
    }

    function Of(e, t, n, r, o) {
        var i = e.children,
            a = e.props,
            s = e.className,
            u = e.flags,
            c = e.ref;
        if (o = o || (32 & u) > 0, 1 !== t.nodeType || t.tagName.toLowerCase() !== e.type) {
            var l = _f(e, null, n, r, o);
            e.dom = l, Lp(t.parentNode, l, t)
        } else {
            e.dom = t;
            var p = t.firstChild,
                f = e.childFlags;
            if (0 == (1 & f)) {
                for (var d = null; p;) d = p.nextSibling, 8 === p.nodeType && ("!" === p.data ? t.replaceChild(document.createTextNode(""), p) : t.removeChild(p)), p = d;
                if (p = t.firstChild, 2 === f) vp(p) ? gf(i, t, n, r, o) : (d = p.nextSibling, Sf(i, p, n, r, o), p = d);
                else if (12 & f)
                    for (var h = 0, y = i.length; h < y; h++) {
                        var m = i[h];
                        vp(p) ? gf(m, t, n, r, o) : (d = p.nextSibling, Sf(m, p, n, r, o), p = d)
                    }
                for (; p;) d = p.nextSibling, t.removeChild(p), p = d
            } else vp(t.firstChild) || function(e, t) {
                return Boolean(t && t.dangerouslySetInnerHTML && t.dangerouslySetInnerHTML.__html && Hp(e, t.dangerouslySetInnerHTML.__html))
            }(t, a) || (t.textContent = "", 448 & u && (t.defaultValue = ""));
            vp(a) || yf(e, u, a, t, o), fp(s) ? "" !== t.className && t.removeAttribute("class") : o ? t.setAttribute("class", s) : t.className = s, hp(c) && Cf(t, c, n)
        }
    }

    function Sf(e, t, n, r, o) {
        var i = e.flags;
        14 & i ? function(e, t, n, r, o, i) {
            var a = e.type,
                s = e.ref,
                u = e.props || Mp;
            if (i) {
                var c = mf(e, a, u, r),
                    l = c.$LI;
                Sf(l, t, n, c.$CX, o), e.dom = l.dom, xf(e, s, c, n), c.$UPD = !1
            } else {
                var p = vf(a(u, r), e);
                Sf(p, t, n, r, o), e.children = p, e.dom = p.dom, Ef(u, s, t, n)
            }
        }(e, t, n, r, o, (4 & i) > 0) : 481 & i ? Of(e, t, n, r, o) : 16 & i ? function(e, t) {
            if (3 !== t.nodeType) {
                var n = bf(e, null);
                e.dom = n, Lp(t.parentNode, n, t)
            } else {
                var r = e.children;
                t.nodeValue !== r && (t.nodeValue = r), e.dom = t
            }
        }(e, t) : 512 & i ? e.dom = t : function(e) {
            throw e || (e = "a runtime error occured! Use Inferno in development environment to find the error."), new Error("Inferno Error: " + e)
        }()
    }

    function jf(e, t, n, r, o, i) {
        lf(e), Lp(n, gf(t, null, r, o, i), e.dom)
    }

    function kf(e, t, n, r, o, i) {
        if (e !== t) {
            var a = 0 | t.flags;
            e.flags !== a || 2048 & a ? jf(e, t, n, r, o, i) : 481 & a ? function(e, t, n, r, o, i) {
                var a = t.type;
                if (e.type !== a) jf(e, t, n, r, o, i);
                else {
                    var s, u = e.dom,
                        c = t.flags,
                        l = e.props,
                        p = t.props,
                        f = !1,
                        d = !1;
                    if (t.dom = u, i = i || (32 & c) > 0, l !== p) {
                        var h = l || Mp;
                        if ((s = p || Mp) !== Mp)
                            for (var y in (f = (448 & c) > 0) && (d = uf(s)), s) {
                                var m = h[y],
                                    v = s[y];
                                m !== v && hf(y, m, v, u, i, d, e)
                            }
                        if (h !== Mp)
                            for (var g in h) s.hasOwnProperty(g) || fp(h[g]) || hf(g, h[g], null, u, i, d, e)
                    }
                    var b = e.children,
                        _ = t.children,
                        w = t.ref,
                        x = e.className,
                        E = t.className;
                    b !== _ && Pf(e.childFlags, t.childFlags, b, _, u, r, o, i && "foreignObject" !== a), f && af(c, t, u, s, !1, d), x !== E && (fp(E) ? u.removeAttribute("class") : i ? u.setAttribute("class", E) : u.className = E), hp(w) && e.ref !== w && Cf(u, w, r)
                }
            }(e, t, n, r, o, i) : 14 & a ? function(e, t, n, r, o, i, a) {
                var s = t.type,
                    u = e.key,
                    c = t.key;
                if (e.type !== s || u !== c) jf(e, t, n, r, o, i);
                else {
                    var l = t.props || Mp;
                    if (a) {
                        var p = e.children;
                        p.$UPD = !0, Tf(p, p.state, t, l, n, r, o, i, !1, !1), p.$V = t, p.$UPD = !1
                    } else {
                        var f = !0,
                            d = e.props,
                            h = t.ref,
                            y = !fp(h),
                            m = e.children;
                        if (t.dom = e.dom, t.children = m, y && hp(h.onComponentShouldUpdate) && (f = h.onComponentShouldUpdate(d, l)), !1 !== f) {
                            y && hp(h.onComponentWillUpdate) && h.onComponentWillUpdate(d, l);
                            var v = s(l, o);
                            "$NO_OP" !== v && (v = vf(v, t), kf(m, v, n, r, o, i), t.children = v, t.dom = v.dom, y && hp(h.onComponentDidUpdate) && h.onComponentDidUpdate(d, l))
                        } else 14 & m.flags && (m.parentVNode = t)
                    }
                }
            }(e, t, n, r, o, i, (4 & a) > 0) : 16 & a ? function(e, t, n) {
                var r, o = t.children;
                vp(n.firstChild) ? (n.textContent = o, r = n.firstChild) : (r = e.dom, o !== e.children && (r.nodeValue = o));
                t.dom = r
            }(e, t, n) : 512 & a ? t.dom = e.dom : function(e, t, n, r) {
                var o = e.type,
                    i = t.type,
                    a = t.children;
                if (Pf(e.childFlags, t.childFlags, e.children, a, o, n, r, !1), t.dom = e.dom, o !== i && !dp(a)) {
                    var s = a.dom;
                    o.removeChild(s), i.appendChild(s)
                }
            }(e, t, r, o)
        }
    }

    function Pf(e, t, n, r, o, i, a, s) {
        switch (e) {
            case 2:
                switch (t) {
                    case 2:
                        kf(n, r, o, i, a, s);
                        break;
                    case 1:
                        cf(n, o);
                        break;
                    default:
                        cf(n, o), wf(r, o, i, a, s)
                }
                break;
            case 1:
                switch (t) {
                    case 2:
                        gf(r, o, i, a, s);
                        break;
                    case 1:
                        break;
                    default:
                        wf(r, o, i, a, s)
                }
                break;
            default:
                if (12 & t) {
                    var u = n.length,
                        c = r.length;
                    0 === u ? c > 0 && wf(r, o, i, a, s) : 0 === c ? ff(o, n) : 8 === t && 8 === e ? function(e, t, n, r, o, i, a, s) {
                        var u, c, l, p, f = a - 1,
                            d = s - 1,
                            h = 0,
                            y = 0,
                            m = e[h],
                            v = t[y];
                        e: {
                            for (; m.key === v.key;) {
                                if (v.dom && (t[y] = v = Op(v)), kf(m, v, n, r, o, i), h++, y++, h > f || y > d) break e;
                                m = e[h], v = t[y]
                            }
                            for (m = e[f], v = t[d]; m.key === v.key;) {
                                if (v.dom && (t[d] = v = Op(v)), kf(m, v, n, r, o, i), f--, d--, h > f || y > d) break e;
                                m = e[f], v = t[d]
                            }
                        }
                        if (h > f) {
                            if (y <= d)
                                for (l = (p = d + 1) < s ? t[p].dom : null; y <= d;)(v = t[y]).dom && (t[y] = v = Op(v)), y++, Ip(n, gf(v, null, r, o, i), l)
                        } else if (y > d)
                            for (; h <= f;) cf(e[h++], n);
                        else {
                            var g = f - h + 1,
                                b = d - y + 1,
                                _ = [];
                            for (u = 0; u < b; u++) _.push(0);
                            var w = g === a,
                                x = !1,
                                E = 0,
                                C = 0;
                            if (s < 4 || (g | b) < 32)
                                for (u = h; u <= f; u++)
                                    if (m = e[u], C < b) {
                                        for (c = y; c <= d; c++)
                                            if (v = t[c], m.key === v.key) {
                                                if (_[c - y] = u + 1, w)
                                                    for (w = !1; u > h;) cf(e[h++], n);
                                                E > c ? x = !0 : E = c, v.dom && (t[c] = v = Op(v)), kf(m, v, n, r, o, i), C++;
                                                break
                                            }!w && c > d && cf(m, n)
                                    } else w || cf(m, n);
                            else {
                                var O = {};
                                for (u = y; u <= d; u++) O[t[u].key] = u;
                                for (u = h; u <= f; u++)
                                    if (m = e[u], C < b)
                                        if (void 0 !== (c = O[m.key])) {
                                            if (w)
                                                for (w = !1; u > h;) cf(e[h++], n);
                                            v = t[c], _[c - y] = u + 1, E > c ? x = !0 : E = c, v.dom && (t[c] = v = Op(v)), kf(m, v, n, r, o, i), C++
                                        } else w || cf(m, n);
                                else w || cf(m, n)
                            }
                            if (w) ff(n, e), wf(t, n, r, o, i);
                            else if (x) {
                                var S = function(e) {
                                    var t, n, r, o, i, a = e.slice(),
                                        s = [0],
                                        u = e.length;
                                    for (t = 0; t < u; t++) {
                                        var c = e[t];
                                        if (0 !== c) {
                                            if (n = s[s.length - 1], e[n] < c) {
                                                a[t] = n, s.push(t);
                                                continue
                                            }
                                            for (r = 0, o = s.length - 1; r < o;) e[s[i = (r + o) / 2 | 0]] < c ? r = i + 1 : o = i;
                                            c < e[s[r]] && (r > 0 && (a[t] = s[r - 1]), s[r] = t)
                                        }
                                    }
                                    r = s.length, o = s[r - 1];
                                    for (; r-- > 0;) s[r] = o, o = a[o];
                                    return s
                                }(_);
                                for (c = S.length - 1, u = b - 1; u >= 0; u--) 0 === _[u] ? ((v = t[E = u + y]).dom && (t[E] = v = Op(v)), p = E + 1, Ip(n, gf(v, null, r, o, i), p < s ? t[p].dom : null)) : c < 0 || u !== S[c] ? (v = t[E = u + y], p = E + 1, Ip(n, v.dom, p < s ? t[p].dom : null)) : c--
                            } else if (C !== b)
                                for (u = b - 1; u >= 0; u--) 0 === _[u] && ((v = t[E = u + y]).dom && (t[E] = v = Op(v)), p = E + 1, Ip(n, gf(v, null, r, o, i), p < s ? t[p].dom : null))
                        }
                    }(n, r, o, i, a, s, u, c) : function(e, t, n, r, o, i, a, s) {
                        for (var u, c = a > s ? s : a, l = 0; l < c; l++)(u = t[l]).dom && (u = t[l] = Op(u)), kf(e[l], u, n, r, o, i);
                        if (a < s)
                            for (l = c; l < s; l++)(u = t[l]).dom && (u = t[l] = Op(u)), gf(u, n, r, o, i);
                        else if (a > s)
                            for (l = c; l < a; l++) cf(e[l], n)
                    }(n, r, o, i, a, s, u, c)
                } else 1 === t ? ff(o, n) : (ff(o, n), gf(r, o, i, a, s))
        }
    }

    function Tf(e, t, n, r, o, i, a, s, u, c) {
        var l, p = e.state,
            f = e.props;
        if (n.children = e, !e.$UN) {
            if (f !== r || r === Mp) {
                if (!c && hp(e.componentWillReceiveProps)) {
                    if (e.$BR = !0, e.componentWillReceiveProps(r, a), e.$UN) return;
                    e.$BR = !1
                }
                e.$PSS && (t = bp(t, e.$PS), e.$PSS = !1, e.$PS = null)
            }
            var d = hp(e.shouldComponentUpdate);
            if (u || !d || d && e.shouldComponentUpdate(r, t, a)) {
                hp(e.componentWillUpdate) && (e.$BS = !0, e.componentWillUpdate(r, t, a), e.$BS = !1), e.props = r, e.state = t, e.context = a, hp(Pp.beforeRender) && Pp.beforeRender(e), l = e.render(r, t, a), hp(Pp.afterRender) && Pp.afterRender(e);
                var h, y = "$NO_OP" !== l;
                if (hp(e.getChildContext) && (h = e.getChildContext()), h = fp(h) ? a : bp(a, h), e.$CX = h, y) kf(e.$LI, e.$LI = vf(l, n), o, i, h, s), hp(e.componentDidUpdate) && e.componentDidUpdate(f, p), hp(Pp.afterUpdate) && Pp.afterUpdate(n)
            } else e.props = r, e.state = t, e.context = a;
            n.dom = e.$LI.dom
        }
    }
    var Df = Pp.roots;
    cp && document.body;

    function Rf(e, t, n) {
        if ("$NO_OP" !== e) {
            var r, o, i = Df.length;
            for (o = 0; o < i; o++)
                if (Df[o] === t) {
                    r = t.$V;
                    break
                }
            return gp(r) ? dp(e) || (e.dom && (e = Op(e)), vp(t.firstChild) ? (gf(e, t, Ap, Mp, !1), t.$V = e, Df.push(t)) : function(e, t, n) {
                var r = t.firstChild;
                if (!vp(r))
                    for (dp(e) || Sf(e, r, Ap, Mp, !1), r = t.firstChild; r = r.nextSibling;) t.removeChild(r);
                Ap.length > 0 && Bp(Ap), t.$V || Pp.roots.push(t), t.$V = e, hp(n) && n()
            }(e, t), r = e) : fp(e) ? (cf(r, t), Df.splice(o, 1)) : (e.dom && (e = Op(e)), kf(r, e, t, Ap, Mp, !1), r = t.$V = e), Ap.length > 0 && Bp(Ap), hp(n) && n(), r && 14 & r.flags ? r.children : void 0
        }
    }
    var Mf = "undefined" == typeof Promise ? null : Promise.resolve(),
        Af = "undefined" == typeof requestAnimationFrame ? setTimeout : requestAnimationFrame.bind(window);

    function Nf(e, t, n) {
        hp(t) && (t = t(e.state, e.props, e.context));
        var r, o = e.$PS;
        if (fp(o)) e.$PS = t;
        else
            for (var i in t) o[i] = t[i];
        if (e.$PSS || e.$BR) e.$PSS = !0, e.$BR && hp(n) && Ap.push(n.bind(e));
        else if (e.$UPD) {
            var a = e.$QU;
            vp(a) && (a = e.$QU = [], r = function(e, t) {
                return function() {
                    e.$QU = null, e.$UPD = !0, If(e, !1, (function() {
                        for (var n = 0, r = t.length; n < r; n++) t[n].call(e)
                    })), e.$UPD = !1
                }
            }(e, a), Mf ? Mf.then(r) : Af(r)), hp(n) && a.push(n)
        } else e.$PSS = !0, e.$UPD = !0, If(e, !1, n), e.$UPD = !1
    }

    function If(e, t, n) {
        if (!e.$UN) {
            if (t || !e.$BR) {
                e.$PSS = !1;
                var r = e.$PS,
                    o = bp(e.state, r),
                    i = e.props,
                    a = e.context;
                e.$PS = null;
                var s = e.$V,
                    u = e.$LI;
                if (Tf(e, o, s, i, u.dom && u.dom.parentNode, Ap, a, (32 & s.flags) > 0, t, !0), e.$UN) return;
                if (0 == (1024 & e.$LI.flags))
                    for (var c = e.$LI.dom; !vp(s = s.parentVNode);)(14 & s.flags) > 0 && (s.dom = c);
                Ap.length > 0 && Bp(Ap)
            } else e.state = e.$PS, e.$PS = null;
            hp(n) && n.call(e)
        }
    }
    var Lf = function(e, t) {
        this.state = null, this.$BR = !1, this.$BS = !0, this.$PSS = !1, this.$PS = null, this.$LI = null, this.$V = null, this.$UN = !1, this.$CX = null, this.$UPD = !0, this.$QU = null, this.props = e || Mp, this.context = t || Mp
    };
    Lf.prototype.forceUpdate = function(e) {
        this.$UN || If(this, !0, e)
    }, Lf.prototype.setState = function(e, t) {
        this.$UN || this.$BS || Nf(this, e, t)
    }, Lf.prototype.render = function(e, t, n) {}, Lf.defaultProps = null;

    function Bf(e) {
        return (Bf = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function $f(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Vf(e) {
        return (Vf = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function zf(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Ff(e, t) {
        return (Ff = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var qf = function(e) {
        function t(e) {
            var n;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t);
            var r = (n = function(e, t) {
                return !t || "object" !== Bf(t) && "function" != typeof t ? zf(e) : t
            }(this, Vf(t).call(this, e)))._injector = e.injector;
            return n._sheet = r.get("sheet"), n._changeSupport = r.get("changeSupport"), n._components = r.get("components"), n.onElementsChanged = n.onElementsChanged.bind(zf(n)), n
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Ff(e, t)
        }(t, e), n = t, (r = [{
            key: "onElementsChanged",
            value: function() {
                this.forceUpdate()
            }
        }, {
            key: "getChildContext",
            value: function() {
                return {
                    changeSupport: this._changeSupport,
                    components: this._components,
                    injector: this._injector
                }
            }
        }, {
            key: "componentWillMount",
            value: function() {
                var e = this._sheet.getRoot().id;
                this._changeSupport.onElementsChanged(e, this.onElementsChanged)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                var e = this._sheet.getRoot().id;
                this._changeSupport.offElementsChanged(e, this.onElementsChanged)
            }
        }, {
            key: "render",
            value: function() {
                var e = this._sheet.getRoot(),
                    t = e.rows,
                    n = e.cols,
                    r = this._components.getComponents("table.before"),
                    o = this._components.getComponents("table.after"),
                    i = this._components.getComponent("table.head"),
                    a = this._components.getComponent("table.body"),
                    s = this._components.getComponent("table.foot");
                return wp(1, "div", "tjs-container", [r && r.map((function(e, t) {
                    return xp(2, e, null, t)
                })), wp(1, "table", "tjs-table", [i && xp(2, i, {
                    rows: t,
                    cols: n
                }), a && xp(2, a, {
                    rows: t,
                    cols: n
                }), s && xp(2, s, {
                    rows: t,
                    cols: n
                })], 0), o && o.map((function(e, t) {
                    return xp(2, e, null, t)
                }))], 0)
            }
        }]) && $f(n.prototype, r), o && $f(n, o), t
    }(Lf);

    function Hf(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var Uf = function() {
        function e(t, n, r, o, i) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var a = r.container;
            this._container = a, o.on("root.added", (function() {
                Rf(xp(2, qf, {
                    injector: i
                }), a)
            })), o.on("root.remove", (function() {
                Rf(null, a)
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "getContainer",
            value: function() {
                return this._container
            }
        }]) && Hf(t.prototype, n), r && Hf(t, r), e
    }();
    Uf.$inject = ["changeSupport", "components", "config.renderer", "eventBus", "injector"];
    var Wf = {
        __init__: ["changeSupport", "components", "renderer"],
        changeSupport: ["type", ap],
        components: ["type", up],
        renderer: ["type", Uf]
    };

    function Gf(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var Kf = function() {
        function e(t, n) {
            var r = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._elementRegistry = t, this._eventBus = n, this._root = null, n.on("table.clear", (function() {
                r.setRoot(null)
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "setRoot",
            value: function(e) {
                if (this._root) {
                    var t = this._root;
                    this._eventBus.fire("root.remove", {
                        root: t
                    }), this._root = null, this._eventBus.fire("root.removed", {
                        root: t
                    })
                }
                e && this._eventBus.fire("root.add", {
                    root: e
                }), this._root = e, e && this._eventBus.fire("root.added", {
                    root: e
                })
            }
        }, {
            key: "getRoot",
            value: function() {
                return this._root || this.setRoot({
                    id: "__implicitroot",
                    rows: [],
                    cols: []
                }), this._root
            }
        }, {
            key: "addRow",
            value: function(e, t) {
                var n = this,
                    r = this.getRoot();
                if (r.cols.length != e.cells.length) throw new Error("number of cells is not equal to number of cols");
                return void 0 === t && (t = r.rows.length), Xf(t, r.rows, e), e.root = r, this._elementRegistry.add(e), e.cells.forEach((function(o, i) {
                    n._elementRegistry.add(o), o.row = e, o.col = r.cols[i], Xf(t, r.cols[i].cells, o)
                })), this._eventBus.fire("row.add", {
                    row: e
                }), e
            }
        }, {
            key: "removeRow",
            value: function(e) {
                var t = this,
                    n = this.getRoot();
                "string" == typeof e && (e = this._elementRegistry.get(e));
                var r = n.rows.indexOf(e); - 1 !== r && (Yf(r, n.rows), e.root = void 0, this._elementRegistry.remove(e), e.cells.forEach((function(e, o) {
                    t._elementRegistry.remove(e), e.col = void 0, Yf(r, n.cols[o].cells)
                })), this._eventBus.fire("row.remove", {
                    row: e
                }))
            }
        }, {
            key: "addCol",
            value: function(e, t) {
                var n = this,
                    r = this.getRoot();
                if (this._elementRegistry.add(e), r.rows.length != e.cells.length) throw new Error("number of cells is not equal to number of rows");
                return void 0 === t && (t = r.cols.length), Xf(t, r.cols, e), e.root = r, e.cells.forEach((function(o, i) {
                    n._elementRegistry.add(o), o.col = e, o.row = r.rows[i], Xf(t, r.rows[i].cells, o)
                })), this._eventBus.fire("col.add", {
                    col: e
                }), e
            }
        }, {
            key: "removeCol",
            value: function(e) {
                var t = this,
                    n = this.getRoot();
                "string" == typeof e && (e = this._elementRegistry.get(e));
                var r = n.cols.indexOf(e); - 1 !== r && (Yf(r, n.cols), e.root = void 0, this._elementRegistry.remove(e), e.cells.forEach((function(e, o) {
                    t._elementRegistry.remove(e), e.row = void 0, Yf(r, n.rows[o].cells)
                })), this._eventBus.fire("col.remove", {
                    col: e
                }))
            }
        }, {
            key: "resized",
            value: function() {
                this._eventBus.fire("sheet.resized")
            }
        }]) && Gf(t.prototype, n), r && Gf(t, r), e
    }();

    function Xf(e, t, n) {
        return t.splice(e, 0, n)
    }

    function Yf(e, t) {
        return t.splice(e, 1)
    }
    Kf.$inject = ["elementRegistry", "eventBus"];
    var Jf = {
        __depends__: [Wf],
        __init__: ["elementFactory", "sheet"],
        elementFactory: ["type", tp],
        elementRegistry: ["type", rp],
        eventBus: ["type", V],
        sheet: ["type", Kf]
    };

    function Zf(e, t) {
        if (null == e) return {};
        var n, r, o = function(e, t) {
            if (null == e) return {};
            var n, r, o = {},
                i = Object.keys(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || (o[n] = e[n]);
            return o
        }(e, t);
        if (Object.getOwnPropertySymbols) {
            var i = Object.getOwnPropertySymbols(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
        }
        return o
    }

    function Qf(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function ed(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function td(e) {
        var t = [],
            n = [];

        function r(e) {
            return t.indexOf(e) >= 0
        }
        e.forEach((function e(o) {
            r(o) || ((o.__depends__ || []).forEach(e), r(o) || (! function(e) {
                t.push(e)
            }(o), (o.__init__ || []).forEach((function(e) {
                n.push(e)
            }))))
        }));
        var o = new fn(t);
        return n.forEach((function(e) {
            try {
                o["string" == typeof e ? "get" : "invoke"](e)
            } catch (e) {
                throw console.error("Failed to instantiate component"), console.error(e.stack), e
            }
        })), o
    }

    function nd(e, t) {
        return td([{
            config: ["value", e]
        }, Jf].concat(t || []))
    }
    var rd = function() {
        function e() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            Qf(this, e);
            var n = t.injector;
            if (!n) {
                var r = this._init(t),
                    o = r.modules,
                    i = r.config;
                n = nd(i, o)
            }
            this.get = n.get, this.invoke = n.invoke, this.get("eventBus").fire("table.init"), this.get("eventBus").fire("diagram.init")
        }
        var t, n, r;
        return t = e, (n = [{
            key: "_init",
            value: function(e) {
                return {
                    modules: e.modules,
                    config: Zf(e, ["modules"])
                }
            }
        }, {
            key: "destroy",
            value: function() {
                var e = this.get("eventBus");
                e.fire("table.destroy"), e.fire("diagram.destroy")
            }
        }, {
            key: "clear",
            value: function() {
                var e = this.get("eventBus");
                e.fire("table.clear"), e.fire("diagram.clear")
            }
        }]) && ed(t.prototype, n), r && ed(t, r), e
    }();

    function od(e) {
        if (!e) return "<null>";
        var t = e.id ? ' id="'.concat(e.id, '"') : "";
        return "<".concat(e.$type).concat(t, " />")
    }

    function id(e, t) {
        function n(t, n, r) {
            if (t.gfx) throw new Error("already rendered ".concat(od(t)));
            return e.element(t, n, r)
        }

        function r(e, t, r) {
            v(e, (function(e) {
                n(e, t, r)
            }))
        }

        function o(e, t, r) {
            v(e, (function(e) {
                n(e, t, r)
            }))
        }
        return {
            handleDecision: function(t) {
                t.id || (t.id = "decision");
                var i = t.decisionLogic;
                if (!i) throw new Error("no table for ".concat(od(t)));
                if (!i.output) throw new Error("missing output for ".concat(od(i)));
                var a, s, u, c, l = (c = i, e.table(c));
                i.input && r(i.input, l, i), r(i.output, l, i), a = i.rule, s = l, u = i, v(a, (function(e) {
                    n(e, s, u), o(e.inputEntry, e), o(e.outputEntry, e)
                }))
            }
        }
    }

    function ad(e) {
        return function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
        }(e) || function(e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }

    function sd(e) {
        return ud(e.constructor, e)
    }

    function ud(e, t) {
        var n = e.$inject;
        if (n) {
            var r = t.context.injector,
                o = [].concat(ad(n), [function() {
                    for (var e = arguments.length, r = new Array(e), o = 0; o < e; o++) r[o] = arguments[o];
                    for (var i in r) {
                        var a = n[i],
                            s = r[i];
                        t[a] = s
                    }
                }]);
            r.invoke(o)
        }
    }

    function cd(e, t) {
        Object.keys(t).forEach((function(n) {
            if ("$inject" !== n && "__init" !== n) {
                var r = t[n];
                "constructor" === n && r.call(e, e.props, e.context);
                var o = e[n];
                if (void 0 !== o) {
                    if ("function" != typeof o) throw new Error("failed to mixin <".concat(n, ">: cannot combine with non-fn component value"));
                    e[n] = function(e) {
                        for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
                        return function() {
                            for (var t = arguments.length, r = new Array(t), o = 0; o < t; o++) r[o] = arguments[o];
                            var i;
                            return n.forEach((function(t) {
                                if (void 0 !== (i = t.call.apply(t, [e].concat(r)))) return !1
                            })), i
                        }.bind(e)
                    }(e, o, r)
                } else e[n] = r.bind(e)
            }
        })), "$inject" in t && ud(t, e), "__init" in t && t.__init.call(e, e.props, e.context)
    }

    function ld(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(e);
            t && (r = r.filter((function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, r)
        }
        return n
    }

    function pd(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? ld(n, !0).forEach((function(t) {
                fd(e, t, n[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ld(n).forEach((function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            }))
        }
        return e
    }

    function fd(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function dd(e, t) {
        if (null == e) return {};
        var n, r, o = function(e, t) {
            if (null == e) return {};
            var n, r, o = {},
                i = Object.keys(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || (o[n] = e[n]);
            return o
        }(e, t);
        if (Object.getOwnPropertySymbols) {
            var i = Object.getOwnPropertySymbols(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
        }
        return o
    }
    var hd = {
            slotFill: function(e, t) {
                var n = e.type,
                    r = e.context,
                    o = dd(e, ["type", "context"]),
                    i = this.components.getComponent(n, r) || t;
                return i ? Cp(xp(2, i, pd({}, r, {}, o))) : null
            },
            slotFills: function(e) {
                var t = e.type,
                    n = e.context,
                    r = dd(e, ["type", "context"]);
                return this.components.getComponents(t, n).map((function(e) {
                    return Cp(xp(2, e, pd({}, n, {}, r)))
                }))
            }
        },
        yd = hd;

    function md(e) {
        return (md = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function vd(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function gd(e) {
        return (gd = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function bd(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function _d(e, t) {
        return (_d = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    hd.$inject = ["components"];
    var wd = function(e) {
        function t(e, n) {
            var r, o, i, a;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== md(t) && "function" != typeof t ? bd(e) : t
            }(this, gd(t).call(this, e, n)), o = bd(r), a = function() {
                r.forceUpdate()
            }, (i = "onElementsChanged") in o ? Object.defineProperty(o, i, {
                value: a,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : o[i] = a, cd(bd(r), yd), sd(bd(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && _d(e, t)
        }(t, e), n = t, (r = [{
            key: "componentDidMount",
            value: function() {
                this.changeSupport.onElementsChanged(this.getRoot(), this.onElementsChanged)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this.changeSupport.offElementsChanged(this.getRoot(), this.onElementsChanged)
            }
        }, {
            key: "getRoot",
            value: function() {
                return this.sheet.getRoot()
            }
        }, {
            key: "render",
            value: function() {
                var e = (this.getRoot().businessObject.get("annotationsWidth") || 400) + "px";
                return wp(1, "th", "annotation header", [this.slotFills({
                    type: "cell-inner",
                    context: {
                        cellType: "annotations",
                        col: this.sheet.getRoot(),
                        minWidth: 400
                    }
                }), this.translate("Annotations")], 0, {
                    style: {
                        width: e
                    }
                })
            }
        }]) && vd(n.prototype, r), o && vd(n, o), t
    }(Lf);

    function xd(e) {
        return (xd = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Ed(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter((function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        }))), n
    }

    function Cd(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? Ed(n, !0).forEach((function(t) {
                Od(e, t, n[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Ed(n).forEach((function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            }))
        }
        return e
    }

    function Od(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function Sd(e) {
        return function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
        }(e) || function(e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }

    function jd(e, t) {
        var n = e.elements,
            r = e.index;
        return r[t] ? e : {
            elements: [].concat(Sd(n), [t]),
            index: Cd({}, r, Od({}, t, !0))
        }
    }

    function kd(e, t) {
        return e.elements.join(t)
    }

    function Pd() {
        for (var e = {
                elements: [],
                index: {}
            }, t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
        return n.forEach((function(t) {
            var n = xd(t);
            "string" === n && t.length > 0 ? e = jd(e, t) : "object" === n && null !== t && Object.keys(t).forEach((function(n) {
                t[n] && (e = jd(e, n))
            }))
        })), kd(e, " ")
    }
    wd.$inject = ["changeSupport", "sheet", "translate"];
    var Td = {
            getSelectionClasses: function() {
                var e = this.state;
                return Pd({
                    selected: e.selected,
                    "selected-secondary": e.selectedSecondary,
                    focussed: e.focussed
                })
            },
            selectionChanged: function(e) {
                this.setState(e)
            },
            componentWillUpdate: function(e) {
                e.elementId !== this.props.elementId && this.updateSelectionSubscription(!1)
            },
            componentDidUpdate: function(e) {
                e.elementId !== this.props.elementId && this.updateSelectionSubscription(!0)
            },
            componentDidMount: function() {
                this.updateSelectionSubscription(!0)
            },
            componentWillUnmount: function() {
                this.updateSelectionSubscription(!1)
            },
            updateSelectionSubscription: function(e) {
                var t = this.props.elementId;
                t && t && this.eventBus[e ? "on" : "off"]("selection.".concat(t, ".changed"), this.selectionChanged)
            }
        },
        Dd = Td;

    function Rd(e) {
        return (Rd = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Md(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter((function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        }))), n
    }

    function Ad(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? Md(n, !0).forEach((function(t) {
                Nd(e, t, n[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Md(n).forEach((function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            }))
        }
        return e
    }

    function Nd(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function Id(e, t) {
        if (null == e) return {};
        var n, r, o = function(e, t) {
            if (null == e) return {};
            var n, r, o = {},
                i = Object.keys(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || (o[n] = e[n]);
            return o
        }(e, t);
        if (Object.getOwnPropertySymbols) {
            var i = Object.getOwnPropertySymbols(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
        }
        return o
    }

    function Ld(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Bd(e) {
        return (Bd = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function $d(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Vd(e, t) {
        return (Vd = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function zd(e) {
        return (zd = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Fd(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter((function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        }))), n
    }

    function qd(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function Hd(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Ud(e, t) {
        return !t || "object" !== zd(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function Wd(e) {
        return (Wd = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Gd(e, t) {
        return (Gd = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    Td.$inject = ["eventBus"];
    var Kd = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = Ud(this, Wd(t).call(this, e, n))).state = {}, r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Gd(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                return Cp(wp(1, "td", null, this.props.children, 0, function(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? Fd(n, !0).forEach((function(t) {
                            qd(e, t, n[t])
                        })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Fd(n).forEach((function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        }))
                    }
                    return e
                }({}, this.getRenderProps("cell"))))
            }
        }]) && Hd(n.prototype, r), o && Hd(n, o), t
    }(function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== Rd(t) && "function" != typeof t ? $d(e) : t
            }(this, Bd(t).call(this, e, n)), cd($d(r), Dd), sd($d(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Vd(e, t)
        }(t, e), n = t, (r = [{
            key: "getRenderProps",
            value: function() {
                for (var e = this.props, t = e.className, n = e.elementId, r = e.coords, o = Id(e, ["className", "elementId", "coords"]), i = arguments.length, a = new Array(i), s = 0; s < i; s++) a[s] = arguments[s];
                var u = {
                    className: Pd.apply(void 0, a.concat([this.getSelectionClasses(), t]))
                };
                return n && (u["data-element-id"] = n), r && (u["data-coords"] = r), Ad({}, u, {}, o)
            }
        }]) && Ld(n.prototype, r), o && Ld(n, o), t
    }(Lf));

    function Xd(e) {
        var t = e.row.businessObject,
            n = t.id,
            r = t.description;
        return xp(2, Kd, {
            className: "annotation",
            elementId: n + "__annotation",
            children: r || "-"
        })
    }

    function Yd(e) {
        e.onGetComponent("cell", (function(e) {
            var t = e.cellType;
            return "after-label-cells" === t ? wd : "after-rule-cells" === t ? Xd : void 0
        }))
    }
    Yd.$inject = ["components"];
    var Jd = {
        __init__: ["annotationsProvider"],
        annotationsProvider: ["type", Yd]
    };

    function Zd(e) {
        return function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
        }(e) || function(e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }

    function Qd(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function eh(e, t) {
        return I({
            id: e.id,
            type: e.$type,
            businessObject: e
        }, t)
    }
    var th = function() {
        function e(t, n, r) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._elementFactory = t, this._eventBus = n, this._sheet = r
        }
        var t, n, r;
        return t = e, (n = [{
            key: "add",
            value: function(e) {
                var t, n = this;
                if (Vt(e, "dmn:DecisionTable")) t = this._elementFactory.createRoot(eh(e)), this._sheet.setRoot(t);
                else if (Vt(e, "dmn:InputClause")) t = this._elementFactory.createCol(eh(e)), this._sheet.addCol(t);
                else if (Vt(e, "dmn:OutputClause")) t = this._elementFactory.createCol(eh(e)), this._sheet.addCol(t);
                else if (Vt(e, "dmn:DecisionRule")) {
                    e.inputEntry || (e.inputEntry = []), e.outputEntry || (e.outputEntry = []);
                    var r = [].concat(Zd(e.inputEntry), Zd(e.outputEntry)).map((function(e) {
                        return n._elementFactory.createCell(eh(e))
                    }));
                    t = this._elementFactory.createRow(I(eh(e), {
                        cells: r
                    })), this._sheet.addRow(t)
                }
                return this._eventBus.fire("dmnElement.added", {
                    element: t
                }), t
            }
        }]) && Qd(t.prototype, n), r && Qd(t, r), e
    }();
    th.$inject = ["elementFactory", "eventBus", "sheet"];
    var nh = {
        __depends__: [{
            __depends__: [to],
            tableImporter: ["type", th]
        }, Wf]
    };

    function rh(e) {
        return (rh = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function oh(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function ih(e) {
        return (ih = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function ah(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function sh(e, t) {
        return (sh = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var uh = function(e) {
        function t(e, n) {
            var r, o, i, a;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== rh(t) && "function" != typeof t ? ah(e) : t
            }(this, ih(t).call(this, e, n)), o = ah(r), a = function() {
                r.forceUpdate()
            }, (i = "onElementsChanged") in o ? Object.defineProperty(o, i, {
                value: a,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : o[i] = a, cd(ah(r), yd), r._sheet = n.injector.get("sheet"), r._changeSupport = n.changeSupport, r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && sh(e, t)
        }(t, e), n = t, (r = [{
            key: "componentWillMount",
            value: function() {
                var e = this._sheet.getRoot();
                this._changeSupport.onElementsChanged(e.id, this.onElementsChanged)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                var e = this._sheet.getRoot();
                this._changeSupport.offElementsChanged(e.id, this.onElementsChanged)
            }
        }, {
            key: "render",
            value: function() {
                var e = this,
                    t = this._sheet.getRoot();
                if (!Vt(t, "dmn:DMNElement")) return null;
                var n = qt(t),
                    r = n.input,
                    o = n.output;
                return wp(1, "thead", null, wp(1, "tr", null, [wp(1, "th", "index-column"), this.slotFills({
                    type: "cell",
                    context: {
                        cellType: "before-label-cells"
                    }
                }), r && r.map((function(t, n) {
                    var o = t.width || "192px";
                    return e.slotFill({
                        type: "cell",
                        context: {
                            cellType: "input-header",
                            input: t,
                            index: n,
                            inputsLength: r.length,
                            width: o
                        },
                        key: t.id
                    }, ch)
                })), o.map((function(t, n) {
                    return e.slotFill({
                        type: "cell",
                        context: {
                            cellType: "output-header",
                            output: t,
                            index: n,
                            outputsLength: o.length
                        },
                        key: t.id
                    }, lh)
                })), this.slotFills({
                    type: "cell",
                    context: {
                        cellType: "after-label-cells"
                    }
                })], 0), 2)
            }
        }]) && oh(n.prototype, r), o && oh(n, o), t
    }(Lf);

    function ch(e, t) {
        var n = e.input,
            r = e.className,
            o = e.index,
            i = n.label,
            a = n.inputExpression,
            s = n.inputValues,
            u = t.injector.get("translate");
        return wp(1, "th", (r || "") + " input-cell", [wp(1, "div", "clause", u(0 === o ? "When" : "And"), 0), i ? wp(1, "div", "input-label", i, 0, {
            title: u("Input Label")
        }) : wp(1, "div", "input-expression", a.text || "-", 0, {
            title: u("Input Expression")
        }), wp(1, "div", "input-variable", s && s.text || a.typeRef, 0, {
            title: s && s.text ? u("Input Values") : u("Input Type")
        })], 0, {
            "data-col-id": n.id
        }, n.id)
    }

    function lh(e, t) {
        var n = e.output,
            r = e.className,
            o = e.index,
            i = n.label,
            a = n.name,
            s = n.outputValues,
            u = n.typeRef,
            c = t.injector.get("translate");
        return wp(1, "th", (r || "") + " output-cell", [wp(1, "div", "clause", c(0 === o ? "Then" : "And"), 0), i ? wp(1, "div", "output-label", i, 0, {
            title: c("Output Label")
        }) : wp(1, "div", "output-name", a || "-", 0, {
            title: c("Output Name")
        }), wp(1, "div", "output-variable", s && s.text || u, 0, {
            title: s && s.text ? c("Output Values") : c("Output Type")
        })], 0, null, n.id)
    }

    function ph(e) {
        e.onGetComponent("table.head", (function() {
            return uh
        }))
    }
    ph.$inject = ["components"];
    var fh = {
        __init__: ["decisionTableHeadProvider"],
        decisionTableHeadProvider: ["type", ph]
    };

    function dh(e) {
        return (dh = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function hh(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function yh(e) {
        return (yh = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function mh(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function vh(e, t) {
        return (vh = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var gh = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== dh(t) && "function" != typeof t ? mh(e) : t
            }(this, yh(t).call(this, e, n)), sd(mh(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && vh(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                var e = this.sheet.getRoot();
                if (!Vt(e, "dmn:DMNElement")) return null;
                var t = e.businessObject.$parent.name,
                    n = this.components.getComponent("hit-policy") || bh;
                return wp(1, "div", "decision-table-properties", [wp(1, "p", "decision-table-name", t, 0, {
                    title: "Decision Name: " + t
                }), wp(1, "span", "decision-table-header-separator"), xp(2, n)], 4)
            }
        }]) && hh(n.prototype, r), o && hh(n, o), t
    }(Lf);

    function bh() {
        return null
    }
    gh.$inject = ["sheet", "components"];
    var _h = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("table.before", 500, (function() {
            return gh
        }))
    };
    _h.$inject = ["components"];
    var wh = {
        __init__: ["decisionTableProperties"],
        decisionTableProperties: ["type", _h]
    };

    function xh(e) {
        return (xh = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Eh(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function Ch(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Oh(e, t) {
        return !t || "object" !== xh(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function Sh(e) {
        return (Sh = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function jh(e, t) {
        return (jh = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var kh = function(e) {
        function t() {
            return Eh(this, t), Oh(this, Sh(t).apply(this, arguments))
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && jh(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                var e = this.props,
                    t = e.row,
                    n = e.rowIndex,
                    r = this.context.components.getComponents("cell-inner", {
                        cellType: "rule-index",
                        row: t,
                        rowIndex: n
                    });
                return wp(1, "td", "rule-index", [r && r.map((function(e) {
                    return xp(2, e, {
                        row: t,
                        rowIndex: n
                    })
                })), n + 1], 0, {
                    "data-row-id": t.id
                })
            }
        }]) && Ch(n.prototype, r), o && Ch(n, o), t
    }(Lf);
    var Ph = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("cell", (function(e) {
            if ("before-rule-cells" === e.cellType) return kh
        }))
    };
    Ph.$inject = ["components"];
    var Th = {
        __init__: ["decisionRuleIndices"],
        decisionRuleIndices: ["type", Ph]
    };

    function Dh(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var Rh = [{
            label: "FEEL",
            value: "feel"
        }, {
            label: "JUEL",
            value: "juel"
        }, {
            label: "JavaScript",
            value: "javascript"
        }, {
            label: "Groovy",
            value: "groovy"
        }, {
            label: "Python",
            value: "python"
        }, {
            label: "JRuby",
            value: "jruby"
        }],
        Mh = function() {
            function e(t) {
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), this._injector = t;
                var n = t.get("config.expressionLanguages") || {};
                this._config = {
                    options: Rh,
                    defaults: {
                        editor: "feel"
                    }
                }, n.options && (this._config.options = n.options);
                var r = this._getLegacyDefaults();
                I(this._config.defaults, r, n.defaults)
            }
            var t, n, r;
            return t = e, (n = [{
                key: "getDefault",
                value: function(e) {
                    var t = this._config.defaults,
                        n = t[e] || t.editor;
                    return this._getLanguageByValue(n) || this.getAll()[0]
                }
            }, {
                key: "getLabel",
                value: function(e) {
                    var t = this._getLanguageByValue(e);
                    return t ? t.label : e
                }
            }, {
                key: "getAll",
                value: function() {
                    return this._config.options
                }
            }, {
                key: "_getLegacyDefaults",
                value: function() {
                    var e = {},
                        t = this._injector,
                        n = t.get("config.defaultInputExpressionLanguage"),
                        r = t.get("config.defaultOutputExpressionLanguage");
                    return n && (e.inputCell = n), r && (e.outputCell = r), e
                }
            }, {
                key: "_getLanguageByValue",
                value: function(e) {
                    return y(this.getAll(), (function(t) {
                        return e === t.value
                    }))
                }
            }]) && Dh(t.prototype, n), r && Dh(t, r), e
        }();
    Mh.$inject = ["injector"];
    var Ah = {
        __init__: ["expressionLanguages"],
        expressionLanguages: ["type", Mh]
    };

    function Nh(e) {
        return (Nh = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Ih(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function Lh(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Bh(e, t) {
        return !t || "object" !== Nh(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function $h(e) {
        return ($h = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Vh(e, t) {
        return (Vh = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var zh = function(e) {
        function t() {
            return Ih(this, t), Bh(this, $h(t).apply(this, arguments))
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Vh(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function(e) {
                var t = e.rows,
                    n = e.cols,
                    r = this.context.components;
                return wp(1, "tbody", null, t.map((function(e, t) {
                    var o = r.getComponent("row", {
                        rowType: "rule"
                    });
                    return o && xp(2, o, {
                        row: e,
                        rowIndex: t,
                        cols: n
                    }, e.id)
                })), 0)
            }
        }]) && Lh(n.prototype, r), o && Lh(n, o), t
    }(Lf);

    function Fh(e) {
        return (Fh = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function qh(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Hh(e) {
        return (Hh = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Uh(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Wh(e, t) {
        return (Wh = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var Gh = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== Fh(t) && "function" != typeof t ? Uh(e) : t
            }(this, Hh(t).call(this, e, n)), cd(Uh(r), yd), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Wh(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                var e = this,
                    t = this.props,
                    n = t.row,
                    r = t.rowIndex,
                    o = t.cols,
                    i = n.cells;
                return wp(1, "tr", null, [this.slotFills({
                    type: "cell",
                    context: {
                        cellType: "before-rule-cells",
                        row: n,
                        rowIndex: r
                    }
                }), i.map((function(t, i) {
                    return e.slotFill({
                        type: "cell",
                        context: {
                            cellType: "rule",
                            cell: t,
                            rowIndex: r,
                            colIndex: i
                        },
                        key: t.id,
                        row: n,
                        col: o[i]
                    })
                })), this.slotFills({
                    type: "cell",
                    context: {
                        cellType: "after-rule-cells",
                        row: n,
                        rowIndex: r
                    }
                })], 0)
            }
        }]) && qh(n.prototype, r), o && qh(n, o), t
    }(Lf);

    function Kh(e) {
        return (Kh = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Xh(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function Yh(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Jh(e, t) {
        return !t || "object" !== Kh(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function Zh(e) {
        return (Zh = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Qh(e, t) {
        return (Qh = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var ey = function(e) {
        function t() {
            return Xh(this, t), Jh(this, Zh(t).apply(this, arguments))
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Qh(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                var e = this.props,
                    t = e.cell,
                    n = e.row,
                    r = e.col;
                return Vt(t, "dmn:UnaryTests") ? xp(2, Kd, {
                    className: "input-cell",
                    elementId: t.id,
                    "data-row-id": n.id,
                    "data-col-id": r.id,
                    children: t.businessObject.text
                }) : xp(2, Kd, {
                    className: "output-cell",
                    elementId: t.id,
                    "data-row-id": n.id,
                    "data-col-id": r.id,
                    children: t.businessObject.text
                })
            }
        }]) && Yh(n.prototype, r), o && Yh(n, o), t
    }(Lf);
    var ty = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("table.body", (function() {
            return zh
        })), t.onGetComponent("row", (function(e) {
            if ("rule" === e.rowType) return Gh
        })), t.onGetComponent("cell", (function(e) {
            if ("rule" === e.cellType) return ey
        }))
    };
    ty.$inject = ["components"];
    var ny = {
            __depends__: [Ah],
            __init__: ["decisionRules"],
            decisionRules: ["type", ty]
        },
        ry = [{
            label: "Unique",
            value: {
                hitPolicy: "UNIQUE",
                aggregation: void 0
            },
            explanation: "No overlap is possible and all rules are disjoint. Only a single rule can be matched"
        }, {
            label: "First",
            value: {
                hitPolicy: "FIRST",
                aggregation: void 0
            },
            explanation: "Rules may overlap. The first matching rule will be chosen"
        }, {
            label: "Priority",
            value: {
                hitPolicy: "PRIORITY",
                aggregation: void 0
            },
            explanation: "Rules may overlap. The one with the highest priority will be chosen"
        }, {
            label: "Any",
            value: {
                hitPolicy: "ANY",
                aggregation: void 0
            },
            explanation: "Rules may overlap. Their output have to match"
        }, {
            label: "Collect",
            value: {
                hitPolicy: "COLLECT",
                aggregation: void 0
            },
            explanation: "Collects the values of all matching rules"
        }, {
            label: "Collect (Sum)",
            value: {
                hitPolicy: "COLLECT",
                aggregation: "SUM"
            },
            explanation: "Collects the values of all matching rules and sums up to a single value"
        }, {
            label: "Collect (Min)",
            value: {
                hitPolicy: "COLLECT",
                aggregation: "MIN"
            },
            explanation: "Collects the values of all matching rules and uses the lowest value"
        }, {
            label: "Collect (Max)",
            value: {
                hitPolicy: "COLLECT",
                aggregation: "MAX"
            },
            explanation: "Collects the values of all matching rules and uses the highest value"
        }, {
            label: "Collect (Count)",
            value: {
                hitPolicy: "COLLECT",
                aggregation: "COUNT"
            },
            explanation: "Collects the values of all matching rules and counts the number of them"
        }, {
            label: "Rule order",
            value: {
                hitPolicy: "RULE ORDER",
                aggregation: void 0
            },
            explanation: "Collects the values of all matching rules in rule order"
        }, {
            label: "Output order",
            value: {
                hitPolicy: "OUTPUT ORDER",
                aggregation: void 0
            },
            explanation: "Collects the values of all matching rules in decreasing output priority order"
        }];

    function oy(e) {
        return (oy = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function iy(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function ay(e) {
        return (ay = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function sy(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function uy(e, t) {
        return (uy = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var cy = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== oy(t) && "function" != typeof t ? sy(e) : t
            }(this, ay(t).call(this, e, n)), sd(sy(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && uy(e, t)
        }(t, e), n = t, (r = [{
            key: "getRoot",
            value: function() {
                return this.sheet.getRoot()
            }
        }, {
            key: "render",
            value: function() {
                var e = this.getRoot().businessObject,
                    t = e.aggregation,
                    n = e.hitPolicy,
                    r = y(ry, (function(e) {
                        return r = e.value, o = {
                            aggregation: t,
                            hitPolicy: n
                        }, r.hitPolicy === o.hitPolicy && r.aggregation === o.aggregation;
                        var r, o
                    }));
                return wp(1, "span", "hit-policy header", [wp(1, "label", "dms-label", Ep("Hit Policy:"), 2), wp(1, "span", "hit-policy-value", r.label, 0)], 4, {
                    title: r.explanation
                })
            }
        }]) && iy(n.prototype, r), o && iy(n, o), t
    }(Lf);

    function ly(e) {
        e.onGetComponent("hit-policy", (function() {
            return cy
        }))
    }
    cy.$inject = ["sheet"], ly.$inject = ["components"];
    var py = {
        __init__: ["hitPolicyProvider"],
        hitPolicyProvider: ["type", ly]
    };

    function fy(e) {
        return (fy = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function dy(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function hy(e) {
        return (hy = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function yy(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function my(e, t) {
        return (my = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var vy = function(e) {
        function t(e, n) {
            var r, o, i, a;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== fy(t) && "function" != typeof t ? yy(e) : t
            }(this, hy(t).call(this, e, n)), o = yy(r), a = function() {
                r._eventBus.fire("showDrd")
            }, (i = "onClick") in o ? Object.defineProperty(o, i, {
                value: a,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : o[i] = a;
            var s = n.injector;
            return r._eventBus = s.get("eventBus"), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && my(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                var e = this;
                return wp(1, "div", "view-drd", wp(1, "button", "view-drd-button", Ep("View DRD"), 2, {
                    onClick: this.onClick
                }), 2, null, null, (function(t) {
                    return e.node = t
                }))
            }
        }]) && dy(n.prototype, r), o && dy(n, o), t
    }(Lf);

    function gy(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var by = function() {
        function e(t, n, r, o) {
            var i = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._injector = r, this._sheet = o, t.onGetComponent("table.before", (function() {
                if (i.canViewDrd()) return vy
            })), n.on("showDrd", (function() {
                var e = r.get("_parent", !1),
                    t = _y(o.getRoot());
                if (t) {
                    var n = e.getView(t);
                    e.open(n)
                }
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "canViewDrd",
            value: function() {
                var e = this._injector.get("_parent", !1);
                if (!e) return !1;
                var t = _y(this._sheet.getRoot());
                return !!e.getView(t)
            }
        }]) && gy(t.prototype, n), r && gy(t, r), e
    }();

    function _y(e) {
        var t = e.businessObject;
        if (t) return t.$parent.$parent
    }
    by.$inject = ["components", "eventBus", "injector", "sheet"];
    var wy = {
        __init__: ["viewDrd"],
        viewDrd: ["type", by]
    };

    function xy() {
        return wp(32, "svg", null, [wp(1, "path", null, null, 1, {
            fill: "currentColor",
            d: "M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"
        }), wp(1, "path", null, null, 1, {
            fill: "currentColor",
            d: "M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"
        })], 4, {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 14.02 5.57",
            width: "53",
            height: "21",
            style: "vertical-align:middle"
        })
    }

    function Ey(e) {
        return (Ey = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Cy(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Oy(e) {
        return (Oy = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Sy(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function jy(e, t) {
        return (jy = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var ky = function(e) {
        function t(e, n) {
            var r, o, i, a;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== Ey(t) && "function" != typeof t ? Sy(e) : t
            }(this, Oy(t).call(this, e, n)), o = Sy(r), a = function() {
                r._eventBus.fire("poweredBy.show")
            }, (i = "onClick") in o ? Object.defineProperty(o, i, {
                value: a,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : o[i] = a;
            var s = n.injector;
            return r._eventBus = s.get("eventBus"), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && jy(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                var e = this;
                return wp(1, "div", "powered-by", wp(1, "div", "powered-by__logo", xp(2, xy), 2, {
                    title: "Powered by bpmn.io",
                    onClick: this.onClick
                }, null, (function(t) {
                    return e.node = t
                })), 2)
            }
        }]) && Cy(n.prototype, r), o && Cy(n, o), t
    }(Lf);

    function Py(e) {
        return (Py = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Ty(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Dy(e) {
        return (Dy = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Ry(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function My(e, t) {
        return (My = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var Ay = function(e) {
        function t(e) {
            var n;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (n = function(e, t) {
                return !t || "object" !== Py(t) && "function" != typeof t ? Ry(e) : t
            }(this, Dy(t).call(this, e))).state = {
                show: !1
            }, n.onClick = n.onClick.bind(Ry(n)), n.onShow = n.onShow.bind(Ry(n)), n
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && My(e, t)
        }(t, e), n = t, (r = [{
            key: "onClick",
            value: function() {
                this.setState({
                    show: !1
                })
            }
        }, {
            key: "onShow",
            value: function() {
                this.setState({
                    show: !0
                })
            }
        }, {
            key: "componentWillMount",
            value: function() {
                (this._eventBus = this.context.injector.get("eventBus")).on("poweredBy.show", this.onShow)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this._eventBus.off("poweredBy.show", this.onShow)
            }
        }, {
            key: "render",
            value: function() {
                return this.state.show && wp(1, "div", "powered-by-overlay", wp(1, "div", "powered-by-overlay-content", [wp(1, "a", "logo", xp(2, xy), 2, {
                    href: "https://bpmn.io",
                    target: "_blank",
                    rel: "noopener"
                }), wp(1, "span", null, [Ep("Web-based tooling for BPMN, DMN and CMMN diagrams powered by "), wp(1, "a", null, Ep("bpmn.io"), 2, {
                    href: "http://bpmn.io",
                    target: "_blank"
                }), Ep(".")], 4)], 4, {
                    onClick: function(e) {
                        return e.stopPropagation()
                    }
                }), 2, {
                    onClick: this.onClick
                })
            }
        }]) && Ty(n.prototype, r), o && Ty(n, o), t
    }(Lf);
    var Ny = function e(t, n) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("table.before", (function() {
            return ky
        })), t.onGetComponent("table.before", (function() {
            return Ay
        }))
    };
    Ny.$inject = ["components", "eventBus"];
    var Iy = {
        __init__: ["poweredBy"],
        poweredBy: ["type", Ny]
    };

    function Ly(e) {
        return (Ly = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function By(e) {
        return function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
        }(e) || function(e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }

    function $y(e, t) {
        if (null == e) return {};
        var n, r, o = function(e, t) {
            if (null == e) return {};
            var n, r, o = {},
                i = Object.keys(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || (o[n] = e[n]);
            return o
        }(e, t);
        if (Object.getOwnPropertySymbols) {
            var i = Object.getOwnPropertySymbols(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
        }
        return o
    }

    function Vy(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function zy(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Fy(e, t) {
        return !t || "object" !== Ly(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function qy(e, t, n) {
        return (qy = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var r = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = Hy(e)););
                return e
            }(e, t);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, t);
                return o.get ? o.get.call(n) : o.value
            }
        })(e, t, n || e)
    }

    function Hy(e) {
        return (Hy = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Uy(e, t) {
        return (Uy = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var Wy = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            Vy(this, t);
            var r = t._createContainer();
            return (e = Fy(this, Hy(t).call(this, I(n, {
                renderer: {
                    container: r
                }
            }))))._container = r, e
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Uy(e, t)
        }(t, e), n = t, o = [{
            key: "_getModules",
            value: function() {
                return [Jd, nh, to, fh, wh, Th, ny, py, wy]
            }
        }, {
            key: "_createContainer",
            value: function() {
                return bt('<div class="dmn-decision-table-container"></div>')
            }
        }], (r = [{
            key: "open",
            value: function(e, t) {
                var n;
                try {
                    return this._decision && this.clear(), this._decision = e,
                        function(e, t, n) {
                            var r, o = e.get("tableImporter"),
                                i = e.get("eventBus"),
                                a = e.get("sheet"),
                                s = e.get("modeling", !1),
                                u = [];
                            i.fire("import.render.start", {
                                decision: t
                            });
                            try {
                                ! function(e) {
                                    new id({
                                        create: function(e, t, n, r) {
                                            return o.create(e, t, n, r)
                                        },
                                        table: function(e) {
                                            return o.add(e)
                                        },
                                        element: function(e, t, n) {
                                            return o.add(e, t, n)
                                        },
                                        error: function(e, t) {
                                            u.push({
                                                message: e,
                                                context: t
                                            })
                                        }
                                    }, {
                                        canAddMissingEntries: s
                                    }).handleDecision(e)
                                }(t)
                            } catch (e) {
                                r = e
                            }
                            i.fire("import.render.complete", {
                                error: r,
                                warnings: u
                            }), i.fire("elements.changed", {
                                elements: [a.getRoot()]
                            }), n(r, u)
                        }(this, e, t)
                } catch (e) {
                    n = e
                }
                return t(n)
            }
        }, {
            key: "_init",
            value: function(e) {
                var t = e.modules,
                    n = e.additionalModules,
                    r = $y(e, ["modules", "additionalModules"]),
                    o = t || this.getModules(),
                    i = n || [],
                    a = [{
                        decisionTable: ["value", this]
                    }];
                return {
                    modules: [Iy].concat(By(o), By(i), a),
                    config: r
                }
            }
        }, {
            key: "on",
            value: function(e, t, n, r) {
                return this.get("eventBus").on(e, t, n, r)
            }
        }, {
            key: "off",
            value: function(e, t) {
                this.get("eventBus").off(e, t)
            }
        }, {
            key: "_emit",
            value: function(e, t) {
                return this.get("eventBus").fire(e, t)
            }
        }, {
            key: "attachTo",
            value: function(e) {
                if (!e) throw new Error("parentNode required");
                this.detach();
                var t = this._container;
                e.appendChild(t), this._emit("attach", {})
            }
        }, {
            key: "detach",
            value: function() {
                var e = this._container;
                e.parentNode && (this._emit("detach", {}), Ct(e))
            }
        }, {
            key: "destroy",
            value: function() {
                qy(Hy(t.prototype), "destroy", this).call(this), this.detach()
            }
        }, {
            key: "getModules",
            value: function() {
                return t._getModules()
            }
        }]) && zy(n.prototype, r), o && zy(n, o), t
    }(rd);

    function Gy(e) {
        return (Gy = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Ky(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Xy(e) {
        return (Xy = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Yy(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Jy(e, t) {
        return (Jy = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var Zy = function(e) {
        function t(e, n) {
            var r, o, i, a;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== Gy(t) && "function" != typeof t ? Yy(e) : t
            }(this, Xy(t).call(this, e, n)), o = Yy(r), a = function(e) {
                e.stopPropagation(), r.addRule()
            }, (i = "handleClick") in o ? Object.defineProperty(o, i, {
                value: a,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : o[i] = a, sd(Yy(r)), r.addRule = r.addRule.bind(Yy(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Jy(e, t)
        }(t, e), n = t, (r = [{
            key: "componentWillMount",
            value: function() {
                this._eventBus = this.context.injector.get("eventBus")
            }
        }, {
            key: "addRule",
            value: function() {
                this._eventBus.fire("addRule")
            }
        }, {
            key: "render",
            value: function() {
                var e = this.props.cols,
                    t = [wp(1, "td", "add-rule-add", wp(1, "span", "dmn-icon-plus action-icon", null, 1, {
                        title: "Add Rule"
                    }), 2)],
                    n = this.sheet.getRoot().businessObject;
                n.input && n.input.length || t.push(wp(1, "td", "input-cell", Ep("-"), 2));
                for (var r = 0; r < e.length + 1; r++) {
                    var o = "add-rule",
                        i = e[r] && e[r].businessObject,
                        a = "";
                    i ? (i.$instanceOf("dmn:InputClause") && (o += " input-cell", a = "-"), i.$instanceOf("dmn:OutputClause") && (o += " output-cell")) : o += " annotation", t.push(wp(1, "td", o, a, 0))
                }
                return wp(1, "tfoot", "actionable add-rule", wp(1, "tr", null, t, 0), 2, {
                    onClick: this.handleClick
                })
            }
        }]) && Ky(n.prototype, r), o && Ky(n, o), t
    }(Lf);
    Zy.$inject = ["sheet"];
    var Qy = function e(t, n, r) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("table.foot", (function() {
            return Zy
        })), r.on("addRule", (function() {
            n.trigger("addRule")
        }))
    };

    function em(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    Qy.$inject = ["components", "editorActions", "eventBus"];
    var tm = function() {
        function e(t, n, r) {
            var o = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._elementRegistry = t, this._eventBus = n, this._renderer = r, this._selection = void 0, n.on("diagram.clear", (function() {
                o._selection = void 0
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "select",
            value: function(e) {
                d(e) && (e = this._elementRegistry.get(e));
                var t = this._selection;
                t !== e && (this._selection = e, this._eventBus.fire("selection.changed", {
                    oldSelection: t,
                    selection: e
                }))
            }
        }, {
            key: "deselect",
            value: function() {
                var e = this._selection;
                this._selection = void 0, this._eventBus.fire("selection.changed", {
                    oldSelection: e,
                    selection: this._selection
                })
            }
        }, {
            key: "get",
            value: function() {
                return this._selection
            }
        }, {
            key: "hasSelection",
            value: function() {
                return !!this._selection
            }
        }]) && em(t.prototype, n), r && em(t, r), e
    }();
    tm.$inject = ["elementRegistry", "eventBus", "renderer"];
    var nm = function e(t, n, r, o) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), this._elementRegistry = t, this._renderer = r, this._selection = o, n.on(["cell.click", "cell.contextmenu"], (function(e) {
            var n = e.id,
                r = t.get(n);
            r && o.select(r)
        })), n.on("row.remove", (function(e) {
            var t = e.row,
                n = o.get();
            n && t === n.row && o.deselect()
        })), n.on("col.remove", (function(e) {
            var t = e.col,
                n = o.get();
            n && t === n.col && o.deselect()
        }))
    };
    nm.$inject = ["elementRegistry", "eventBus", "renderer", "selection"];
    var rm = {
        __init__: ["selection", "selectionBehavior"],
        selection: ["type", tm],
        selectionBehavior: ["type", nm]
    };

    function om(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var im = ["click", "dblclick", "contextmenu", "mousedown", "mouseup", "mouseenter", "mouseleave", "mouseout", "mouseover", "mousemove", "focusin", "focusout", "drag", "dragstart", "dragend", "dragover", "dragenter", "dragleave", "drop"],
        am = function() {
            function e(t, n) {
                var r, o, i, a = this;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, e), i = function(e) {
                    var t = e.target,
                        n = e.type,
                        r = pt(t, "[data-element-id]", !0);
                    if (r) {
                        var o = r.getAttribute("data-element-id");
                        if (o) {
                            var i = a._eventBus.createEvent({
                                id: o,
                                event: e,
                                node: r,
                                target: r
                            });
                            a._eventBus.fire("cell.".concat(n), i), i.defaultPrevented && e.preventDefault(), i.cancelBubble && e.stopPropagation()
                        }
                    }
                }, (o = "_handleEvent") in (r = this) ? Object.defineProperty(r, o, {
                    value: i,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : r[o] = i, this._eventBus = n, this._container = t.container, n.on("table.init", (function() {
                    a._addEventListeners(im)
                })), n.on("table.destroy", (function() {
                    a._removeEventListeners(im)
                }))
            }
            var t, n, r;
            return t = e, (n = [{
                key: "_addEventListeners",
                value: function(e) {
                    var t = this,
                        n = this._container;
                    e.forEach((function(e) {
                        n.addEventListener(e, t._handleEvent)
                    }))
                }
            }, {
                key: "_removeEventListeners",
                value: function(e) {
                    var t = this,
                        n = this._container;
                    e.forEach((function(e) {
                        n.removeEventListener(e, t._handleEvent)
                    }))
                }
            }]) && om(t.prototype, n), r && om(t, r), e
        }();
    am.$inject = ["config.renderer", "eventBus"];
    var sm = {
            __init__: ["interactionEvents"],
            interactionEvents: ["type", am]
        },
        um = function(e, t) {
            return e ^ t
        };
    var cm = /\b(Array|Date|Object|Math|JSON)\b/g,
        lm = function(e, t) {
            var n = function(e) {
                for (var t = [], n = 0; n < e.length; n++) ~t.indexOf(e[n]) || t.push(e[n]);
                return t
            }(function(e) {
                return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g, "").replace(cm, "").match(/[a-zA-Z_]\w*/g) || []
            }(e));
            return t && "string" == typeof t && (t = function(e) {
                return function(t) {
                    return e + t
                }
            }(t)), t ? function(e, t, n) {
                return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g, (function(e) {
                    return "(" == e[e.length - 1] || ~t.indexOf(e) ? n(e) : e
                }))
            }(e, n, t) : n
        };
    var pm = fm;

    function fm(e, t) {
        if (!(this instanceof fm)) return new fm(e, t);
        if (this.node = this.start = this.peeked = e, this.root = t, this.closingTag = !1, this._revisit = !0, this._selects = [], this._rejects = [], e && this.higher(e)) throw new Error("root must be a parent or ancestor to node")
    }

    function dm(e, t) {
        var n = "nextSibling" == e;
        return function(r, o, i) {
            r = this.compile(r), o = o && o > 0 ? o : 1;
            for (var a = this.node, s = this.closingTag, u = this._revisit; a;) {
                if (um(n, s) && a[t]) a = a[t], s = !n;
                else if (1 == a.nodeType && !a[t] && um(n, s)) {
                    if (s = n, !u) continue
                } else if (a[e]) a = a[e], s = !n;
                else if (a = a.parentNode, s = n, !u) continue;
                if (!a || this.higher(a, this.root)) break;
                if (r(a) && this.selects(a, i) && this.rejects(a, i)) {
                    if (--o) continue;
                    return i || (this.node = a), this.closingTag = s, a
                }
            }
            return null
        }
    }
    fm.prototype.reset = function(e) {
        return this.node = e || this.start, this
    }, fm.prototype.revisit = function(e) {
        return this._revisit = null == e || e, this
    }, fm.prototype.opening = function() {
        return 1 == this.node.nodeType && (this.closingTag = !1), this
    }, fm.prototype.atOpening = function() {
        return !this.closingTag
    }, fm.prototype.closing = function() {
        return 1 == this.node.nodeType && (this.closingTag = !0), this
    }, fm.prototype.atClosing = function() {
        return this.closingTag
    }, fm.prototype.next = dm("nextSibling", "firstChild"), fm.prototype.previous = fm.prototype.prev = dm("previousSibling", "lastChild"), fm.prototype.select = function(e) {
        return e = this.compile(e), this._selects.push(e), this
    }, fm.prototype.selects = function(e, t) {
        var n = this._selects,
            r = n.length;
        if (!r) return !0;
        for (var o = 0; o < r; o++)
            if (n[o].call(this, e, t)) return !0;
        return !1
    }, fm.prototype.reject = function(e) {
        return e = this.compile(e), this._rejects.push(e), this
    }, fm.prototype.rejects = function(e, t) {
        var n = this._rejects,
            r = n.length;
        if (!r) return !0;
        for (var o = 0; o < r; o++)
            if (n[o].call(this, e, t)) return !1;
        return !0
    }, fm.prototype.higher = function(e) {
        var t = this.root;
        if (!t) return !1;
        for (e = e.parentNode; e && e != t;) e = e.parentNode;
        return e != t
    }, fm.prototype.compile = function(e) {
        switch (typeof e) {
            case "number":
                return function(t) {
                    return e == t.nodeType
                };
            case "string":
                return new Function("node", "return " + lm(e, "node."));
            case "function":
                return e;
            default:
                return function() {
                    return !0
                }
        }
    }, fm.prototype.peak = fm.prototype.peek = function(e, t) {
        return 1 == arguments.length && (t = e, e = !0), (t = null == t ? 1 : t) ? t > 0 ? this.next(e, t, !0) : this.prev(e, Math.abs(t), !0) : this.node
    }, fm.prototype.use = function(e) {
        return e(this), this
    };
    var hm = window.getSelection();

    function ym(e) {
        hm.removeAllRanges(), hm.addRange(e)
    }

    function mm(e, t) {
        ym(function(e, t) {
            var n, r = t.start,
                o = t.end,
                i = document.createRange(),
                a = pm(e.firstChild, e),
                s = a.node,
                u = !1,
                c = 0;
            for (; s;) {
                if (c === r && (u ? i.setStartAfter(s) : i.setStartBefore(s)), c === o) return u ? i.setEndAfter(s) : i.setEndBefore(s), i;
                if (u || (bm(s) || s.previousSibling && (_m(s) || wm(s))) && c++, gm(s)) {
                    if (n = s.textContent.length, c <= r && c + n > r && i.setStart(s, r - c), c + n > o) return i.setEnd(s, o - c), i;
                    c += n
                }
                s = a.next(), u = a.closingTag
            }
            c <= r && (e.lastChild ? i.setStartAfter(e.lastChild) : i.setStart(e, 0));
            e.lastChild ? i.setEndAfter(e.lastChild) : i.setEnd(e, 0);
            return i
        }(e, t))
    }

    function vm(e) {
        if (! function(e) {
                if (!hm.rangeCount) return null;
                var t = hm.focusNode;
                return gm(t) && (t = t.parentNode), e == t || e.contains(t)
            }(e)) return null;
        var t, n, r = hm.getRangeAt(0),
            o = r.startContainer,
            i = r.endContainer,
            a = r.startOffset,
            s = r.endOffset,
            u = pm(e.firstChild, e),
            c = u.node,
            l = !1,
            p = 0;

        function f(e, t) {
            return 1 === arguments.length && (t = e), e.parentNode === i && t == i.childNodes[s]
        }

        function d(e, t) {
            return 1 === arguments.length && (t = e), e.parentNode === o && t == o.childNodes[a]
        }
        for (; c && (d(c) && (n = p), !f(c));) {
            if (l || (bm(c) || t && t.nextSibling == c && (_m(c) || wm(c))) && p++, gm(c)) {
                if (o === c && (n = p + a), i === c) {
                    p += s;
                    break
                }
                p += c.textContent.length
            }
            if ((gm(c) || l) && (d(c, c.nextSibling) && (n = p), f(c, c.nextSibling))) break;
            t = c, c = u.next(), l = u.closingTag
        }
        return {
            start: void 0 === n ? p : n,
            end: p
        }
    }

    function gm(e) {
        return 3 === e.nodeType
    }

    function bm(e) {
        return 1 === e.nodeType && "BR" === e.nodeName
    }

    function _m(e) {
        return 1 === e.nodeType && "DIV" === e.nodeName
    }

    function wm(e) {
        return 1 === e.nodeType && "P" === e.nodeName
    }

    function xm(e, t) {
        return function(e) {
            if (Array.isArray(e)) return e
        }(e) || function(e, t) {
            if (!(Symbol.iterator in Object(e)) && "[object Arguments]" !== Object.prototype.toString.call(e)) return;
            var n = [],
                r = !0,
                o = !1,
                i = void 0;
            try {
                for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value), !t || n.length !== t); r = !0);
            } catch (e) {
                o = !0, i = e
            } finally {
                try {
                    r || null == s.return || s.return()
                } finally {
                    if (o) throw i
                }
            }
            return n
        }(e, t) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }()
    }

    function Em(e) {
        return e.getAttribute("data-element-id")
    }

    function Cm(e, t) {
        return xt('[data-element-id="'.concat(ya()(e), '"]'), t)
    }

    function Om(e) {
        return pt(e, "[data-element-id]", !0)
    }

    function Sm(e) {
        return lt(e, "[contenteditable]") ? e : xt("[contenteditable]", e)
    }
    var jm = {
        above: !0,
        below: !0,
        right: !0,
        left: !0
    };

    function km(e, t, n, r, o) {
        var i = e.container,
            a = null;

        function s(e, n) {
            t.fire("selection." + e + ".changed", n), t.fire("cellSelection.changed", {
                elementId: e,
                selection: n
            })
        }

        function u(e) {
            var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
            a !== e && s(a, {
                selected: !1,
                focussed: !1
            }), a = e, e && s(e, {
                selected: !0,
                focussed: t
            }), e ? r.select(e) : r.deselect()
        }
        t.on("cell.click", 500, (function(e) {
            var t = e.target;
            if (!pt(t, ".no-deselect", !0)) {
                var n = Om(t);
                u(n && Em(n), !e.defaultPrevented), e.stopPropagation()
            }
        })), t.on("cell.focusin", 500, (function(e) {
            var t = Em(e.target),
                n = !e.defaultPrevented;
            return e.stopPropagation(), u(t, n)
        })), t.on("cell.focusout", 500, (function(e) {
            s(Em(e.target), {
                focussed: !1
            })
        })), t.on("cellSelection.changed", (function(e) {
            var t = e.elementId,
                n = e.selection,
                r = Cm(t, i);
            n.focussed && r && function(e) {
                var t = Sm(e);
                if (t && document.body.contains(t) && document.activeElement !== t) {
                    t.focus();
                    var n = vm(t);
                    n && 0 !== n.end || mm(t, {
                        start: 5e3,
                        end: 5e3
                    })
                }
            }(r)
        })), t.on("selection.changed", (function(e) {
            var t = e.selection,
                n = e.oldSelection,
                r = t && t.id,
                o = n && n.id;
            r && r !== a ? u(t.id) : o && o === a && u()
        })), this.isCellSelected = function() {
            return !!a
        }, this.getCellSelection = function() {
            return a
        }, this.selectCell = function(e) {
            if (a) {
                if (!(e in jm)) throw new Error("direction must be any of { above, below, left, right }");
                var t = function(e) {
                    var t = e.getAttribute("data-coords");
                    if (!t) return null;
                    var n = xm(t.split(":"), 2);
                    return {
                        row: n[0],
                        col: n[1]
                    }
                }(Cm(a, i));
                if (!t) return !1;
                var n = function(e, t) {
                    var n = "".concat(e.row, ":").concat(e.col);
                    return xt('[data-coords="'.concat(ya()(n), '"]'), t)
                }(function(e, t) {
                    var n = e.row,
                        r = e.col;
                    if ("above" === t || "below" === t) {
                        var o = parseInt(n, 10);
                        return isNaN(o) ? e : {
                            col: r,
                            row: "above" === t ? o - 1 : o + 1
                        }
                    }
                    if ("left" === t || "right" === t) {
                        var i = parseInt(r, 10);
                        return isNaN(i) ? e : {
                            row: n,
                            col: "left" === t ? i - 1 : i + 1
                        }
                    }
                    throw new Error("invalid direction <" + t + ">")
                }(t, e), i);
                if (!n) return !1;
                var r = Em(n);
                return r && u(r, {
                    focussed: !0,
                    selected: !0
                }), !0
            }
        }, t.on("contextMenu.close", (function() {
            if (a) return u(a)
        }))
    }
    km.$inject = ["config.renderer", "eventBus", "sheet", "selection", "elementRegistry"];
    var Pm = {
        __depends__: [sm, rm],
        __init__: ["cellSelection"],
        cellSelection: ["type", km]
    };

    function Tm() {}
    Tm.prototype.get = function() {
        return this._data
    }, Tm.prototype.set = function(e) {
        this._data = e
    }, Tm.prototype.clear = function() {
        var e = this._data;
        return delete this._data, e
    }, Tm.prototype.isEmpty = function() {
        return !this._data
    };
    var Dm = {
        clipboard: ["type", Tm]
    };

    function Rm(e) {
        return (Rm = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Mm(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Am(e, t) {
        return !t || "object" !== Rm(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function Nm(e) {
        return (Nm = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Im(e, t) {
        return (Im = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var Lm = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = Am(this, Nm(t).call(this, e)))._sheet = n, r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Im(e, t)
        }(t, e), n = t, (r = [{
            key: "init",
            value: function() {
                var e = this;
                this.addRule("col.move", 2e3, (function(t) {
                    var n = t.col,
                        r = t.index,
                        o = e._sheet.getRoot().businessObject.input;
                    return zt(n) ? r < o.length : r >= o.length
                })), this.addRule("col.remove", 2e3, (function(t) {
                    var n = t.col,
                        r = e._sheet.getRoot().cols;
                    return !Ft(n) || r.filter((function(e) {
                        return Ft(e)
                    })).length > 1
                })), this.addRule("paste", 2e3, (function(t) {
                    var n = t.data,
                        r = t.target;
                    if (!n || !r) return !1;
                    var o = n.root;
                    return r instanceof Kl ? e.canPasteRows(o) : r instanceof Xl && e.canPasteCols(o, r)
                }))
            }
        }, {
            key: "canPasteRows",
            value: function(e) {
                var t = this._sheet.getRoot().cols;
                return b(e, (function(e) {
                    return "row" === e.type && e.cells.length === t.length && b(e.cells, (function(e, n) {
                        return zt(t[n]) ? "dmn:UnaryTests" === e.businessObject.$type : "dmn:LiteralExpression" === e.businessObject.$type
                    }))
                }))
            }
        }, {
            key: "canPasteCols",
            value: function(e, t) {
                var n = this._sheet.getRoot().rows;
                return b(e, (function(e) {
                    return "col" === e.type && e.cells.length === n.length && (zt(t) ? "dmn:InputClause" === e.businessObject.$type : "dmn:OutputClause" === e.businessObject.$type)
                }))
            }
        }]) && Mm(n.prototype, r), o && Mm(n, o), t
    }(Au);
    Lm.$inject = ["eventBus", "sheet"];
    var Bm = {
        __depends__: [{
            __depends__: [ia]
        }],
        __init__: ["decisionTableModelingRules"],
        decisionTableModelingRules: ["type", Lm]
    };

    function $m(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var Vm = function() {
        function e(t, n, r) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._clipboard = t, this._modeling = n, this._sheet = r
        }
        var t, n, r;
        return t = e, (n = [{
            key: "execute",
            value: function(e) {
                var t = e.data;
                return e.oldData = this._clipboard.get(), this._clipboard.set(t), this._sheet.getRoot()
            }
        }, {
            key: "postExecute",
            value: function(e) {
                var t = this;
                e.elements.forEach((function(e) {
                    e instanceof Kl ? t._modeling.removeRow(e) : e instanceof Xl && t._modeling.removeCol(e)
                }))
            }
        }, {
            key: "revert",
            value: function(e) {
                var t = e.oldData;
                return this._clipboard.set(t), this._sheet.getRoot()
            }
        }]) && $m(t.prototype, n), r && $m(t, r), e
    }();

    function zm(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(e);
            t && (r = r.filter((function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, r)
        }
        return n
    }

    function Fm(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? zm(n, !0).forEach((function(t) {
                qm(e, t, n[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : zm(n).forEach((function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            }))
        }
        return e
    }

    function qm(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function Hm(e) {
        return function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
        }(e) || function(e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }
    Vm.$inject = ["clipboard", "modeling", "sheet"];
    var Um = [function(e, t, n, r) {
            var o = n,
                i = Fm({}, t, {
                    type: Xm(e)
                });
            if (e instanceof Kl || e instanceof Xl) {
                var a = r(e.cells, o);
                i.cells = a.root, o = a.descriptorCache
            }
            return {
                root: i,
                descriptorCache: o
            }
        }, function(e, t, n) {
            var r = e.businessObject;
            if (!r) return {
                root: t,
                descriptorCache: n
            };
            var o = function e(t, n) {
                var r, o, i = t.id;
                if (i && (r = n.boCache || {}, o = r[i])) return {
                    root: o,
                    descriptorCache: n
                };
                var a = {
                    $type: t.$type
                };
                i && (a.id = i, r = Fm({}, r, qm({}, i, a)), n = Fm({}, n, {
                    boCache: r
                }));
                return t.$descriptor.properties.forEach((function(r) {
                    var o = t[r.name];
                    if (o) {
                        if (c(o) && (o = o.map((function(t) {
                                var r = e(t, n);
                                return n = r.descriptorCache, r.root
                            }))), o.$type) {
                            var i = e(o, n);
                            n = i.descriptorCache, o = i.root
                        }
                        a[r.name] = o
                    }
                })), {
                    root: a,
                    descriptorCache: n
                }
            }(r, n);
            return {
                root: Fm({}, t, {
                    businessObject: o.root
                }),
                descriptorCache: o.descriptorCache
            }
        }],
        Wm = [function(e, t, n) {
            var r = e.root.businessObject;
            if (!r) return {
                root: t,
                reviveCache: n
            };
            var o = function e(t, n) {
                var r, o, i = t.root,
                    a = i.id;
                if (a && (r = n.boCache || {}, o = r[a])) return {
                    root: o,
                    reviveCache: n
                };
                var s = {};
                x(i).forEach((function(t) {
                    var o, a;
                    i[t].$type ? (o = (a = e({
                        root: i[t]
                    }, n)).root, n = a.reviveCache, r = n.boCache || {}) : o = c(i[t]) ? i[t].map((function(t) {
                        return a = e({
                            root: t
                        }, n), n = a.reviveCache, r = n.boCache || {}, a.root
                    })) : i[t], s[t] = o
                }));
                var u = s.$type;
                delete s.$type, (!n._keepIds || n._model.ids.assigned(s.id)) && delete s.id;
                var l = n._dmnFactory.create(u, s);
                v(s, (function(e) {
                    e.$type && (e.$parent = l), c(e) && e.forEach((function(e) {
                        return e.$parent = l
                    }))
                })), a && (r = Fm({}, r, qm({}, a, l)), n = Fm({}, n, {
                    boCache: r
                }));
                return {
                    root: l,
                    reviveCache: n
                }
            }({
                root: r,
                descriptorCache: e.descriptorCache
            }, n);
            return {
                root: Fm({}, t, {
                    businessObject: o.root
                }),
                reviveCache: o.reviveCache
            }
        }, function(e, t, n, r) {
            var o = e.root,
                i = e.descriptorCache,
                a = Fm({}, t);
            t.businessObject && t.businessObject.id && (a.id = t.businessObject.id);
            if ("row" === o.type || "col" === o.type) {
                var s = r({
                    root: o.cells,
                    descriptorCache: i
                }, n);
                a.cells = s.root, n = s.reviveCache
            }
            var u = new(function(e) {
                switch (e.type) {
                    case "row":
                        return Kl;
                    case "cell":
                        return Yl;
                    case "col":
                        return Xl;
                    default:
                        throw new Error("unknown element type: #" + e.type)
                }
            }(o))(a);
            u instanceof Kl ? u.cells.forEach((function(e) {
                e.row = u
            })) : u instanceof Xl && u.cells.forEach((function(e) {
                e.col = u
            }));
            return {
                root: u,
                reviveCache: n
            }
        }];

    function Gm(e, t, n) {
        return n = n || Um, t = t || {}, c(e) ? function(e, t, n) {
            return g(e, (function(e, t) {
                var r = e.descriptorCache,
                    o = e.root,
                    i = Km(t, r, n),
                    a = i.root,
                    s = i.descriptorCache;
                return {
                    root: [].concat(Hm(o), [a]),
                    descriptorCache: Fm({}, r, {}, s)
                }
            }), {
                root: [],
                descriptorCache: t
            })
        }(e, t, n) : Km(e, t, n)
    }

    function Km(e, t, n) {
        var r = e.id,
            o = {
                id: r
            },
            i = t.elements || {},
            a = i[r];
        if (a) return {
            root: a,
            descriptorCache: t
        };
        var s = function(e, t, n, r) {
            function o(e, t) {
                return Gm(e, t, n)
            }
            return g(n, (function(t, n) {
                return n(e, t.root, t.descriptorCache, o)
            }), {
                root: t,
                descriptorCache: r
            })
        }(e, o, n, Fm({}, t, {
            elements: i
        }));
        return {
            root: s.root,
            descriptorCache: Fm({}, s.descriptorCache, {
                elements: Fm({}, s.descriptorCache.elements, qm({}, r, s.root))
            })
        }
    }

    function Xm(e) {
        if (e instanceof Kl) return "row";
        if (e instanceof Xl) return "col";
        if (e instanceof Yl) return "cell";
        throw new Error("cannot deduce element type: #" + e.id)
    }

    function Ym(e, t, n) {
        return n = n || Wm, t = t || {}, c(e.root) ? function(e, t, n) {
            var r = e.root,
                o = e.descriptorCache;
            return g(r, (function(e, t) {
                var r = e.reviveCache,
                    i = e.root,
                    a = Jm({
                        root: t,
                        descriptorCache: o
                    }, r, n),
                    s = a.root,
                    u = a.reviveCache;
                return {
                    root: [].concat(Hm(i), [s]),
                    reviveCache: u
                }
            }), {
                root: [],
                reviveCache: t
            })
        }(e, t, n) : Jm(e, t, n)
    }

    function Jm(e, t, n) {
        var r = e.root.id,
            o = t.elements || {},
            i = o[r];
        if (i) return {
            root: i,
            reviveCache: t
        };
        var a = function(e, t, n, r) {
            function o(e, t) {
                return Ym(e, t, n)
            }
            return g(n, (function(t, n) {
                return n(e, t.root, t.reviveCache, o)
            }), {
                root: t,
                reviveCache: r
            })
        }(e, {
            id: r
        }, n, Fm({}, t, {
            elements: o
        }));
        return {
            root: a.root,
            reviveCache: Fm({}, a.reviveCache, {
                elements: Fm({}, a.reviveCache.elements, qm({}, r, a.root))
            })
        }
    }

    function Zm(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var Qm = function() {
        function e(t, n, r, o, i, a, s, u) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._clipboard = t, this._dmnFactory = n, this._elementFactory = r, this._elementRegistry = o, this._eventBus = i, this._model = a, this._modeling = s, this._sheet = u
        }
        var t, n, r;
        return t = e, (n = [{
            key: "postExecute",
            value: function(e) {
                var t = this,
                    n = e.element,
                    r = e.after,
                    o = this._clipboard.get();
                if (!o) throw new Error("missing clipboard data");
                var i = this._sheet.getRoot(),
                    a = Ym(o.elements, {
                        _dmnFactory: this._dmnFactory,
                        _keepIds: o.keepIds,
                        _model: this._model
                    }).root;
                if (n instanceof Kl) {
                    var s = i.rows.indexOf(n);
                    if (-1 === s) return;
                    a.forEach((function(e) {
                        r && s++, t._modeling.addRow(e, s)
                    }))
                } else if (n instanceof Xl) {
                    var u = i.cols.indexOf(n);
                    if (-1 === u) return;
                    a.forEach((function(e) {
                        r && u++, t._modeling.addCol(e, u)
                    }))
                }
                return e.oldElements = this._clipboard.get(), this._sheet.getRoot()
            }
        }, {
            key: "revert",
            value: function(e) {}
        }]) && Zm(t.prototype, n), r && Zm(t, r), e
    }();

    function ev(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(e);
            t && (r = r.filter((function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, r)
        }
        return n
    }

    function tv(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function nv(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    Qm.$inject = ["clipboard", "dmnFactory", "elementFactory", "elementRegistry", "eventBus", "moddle", "modeling", "sheet"];
    var rv = function() {
        function e(t, n, r, o, i, a) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._clipboard = t, this._commandStack = n, this._eventBus = r, this._modeling = o, this._sheet = i, this._rules = a, n.registerHandler("cut", Vm), n.registerHandler("paste", Qm)
        }
        var t, n, r;
        return t = e, (n = [{
            key: "copy",
            value: function(e) {
                c(e) || (e = [e]);
                var t = {
                    elements: Gm(e)
                };
                this._eventBus.fire("copyCutPaste.copy", {
                    data: t
                }), this._clipboard.set(t)
            }
        }, {
            key: "cut",
            value: function(e) {
                c(e) || (e = [e]);
                var t = {
                        elements: Gm(e),
                        keepIds: !0
                    },
                    n = {
                        elements: e,
                        data: t
                    };
                this._eventBus.fire("copyCutPaste.cut", {
                    data: t
                }), this._commandStack.execute("cut", n)
            }
        }, {
            key: "pasteBefore",
            value: function(e) {
                return this._paste(e, {
                    before: !0
                })
            }
        }, {
            key: "pasteAfter",
            value: function(e) {
                return this._paste(e, {
                    after: !0
                })
            }
        }, {
            key: "_paste",
            value: function(e, t) {
                var n = this._clipboard.get();
                if (n) return !!this._rules.allowed("paste", {
                    data: n.elements,
                    target: e
                }) && (this._commandStack.execute("paste", function(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? ev(n, !0).forEach((function(t) {
                            tv(e, t, n[t])
                        })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : ev(n).forEach((function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        }))
                    }
                    return e
                }({
                    element: e
                }, t)), !0)
            }
        }, {
            key: "pasteAt",
            value: function(e) {}
        }]) && nv(t.prototype, n), r && nv(t, r), e
    }();
    rv.$inject = ["clipboard", "commandStack", "eventBus", "modeling", "sheet", "rules"];
    var ov = {
        __depends__: [Dm, Bm],
        __init__: ["copyCutPaste"],
        copyCutPaste: ["type", rv]
    };
    var iv = function e(t, n, r, o, i, a) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e);
        var s = {
            addRule: function() {
                return r.addRow({
                    type: "dmn:DecisionRule"
                })
            },
            addRuleAbove: function(e) {
                var t = e && e.rule;
                if (t || o.hasSelection()) {
                    t = t || o.get().row;
                    var n = a.getRoot().rows.indexOf(t);
                    if (-1 !== n) return r.addRow({
                        type: "dmn:DecisionRule"
                    }, n)
                }
            },
            addRuleBelow: function(e) {
                var t = e && e.rule;
                if (t || o.hasSelection()) {
                    t = t || o.get().row;
                    var n = a.getRoot().rows.indexOf(t);
                    if (-1 !== n) return r.addRow({
                        type: "dmn:DecisionRule"
                    }, n + 1)
                }
            },
            removeRule: function(e) {
                var t = e && e.rule;
                (t || o.hasSelection()) && (t = t || o.get().row, r.removeRow(t))
            },
            addInput: function() {
                var e = a.getRoot().businessObject.input;
                return r.addCol({
                    type: "dmn:InputClause"
                }, e ? e.length : 0)
            },
            addInputLeft: function(e) {
                var t = e && e.input;
                if (t || o.hasSelection()) {
                    t = t || o.get().col;
                    var n = a.getRoot().cols.indexOf(t);
                    if (-1 !== n) return r.addCol({
                        type: "dmn:InputClause"
                    }, n)
                }
            },
            addInputRight: function(e) {
                var t = e && e.input;
                if (t || o.hasSelection()) {
                    t = t || o.get().col;
                    var n = a.getRoot().cols.indexOf(t);
                    if (-1 !== n) return r.addCol({
                        type: "dmn:InputClause"
                    }, n + 1)
                }
            },
            removeInput: function(e) {
                var t = e && e.input;
                (t || o.hasSelection()) && (t = t || o.get().col, r.removeCol(t))
            },
            addOutput: function() {
                var e = a.getRoot().businessObject,
                    t = e.input,
                    n = e.output;
                return r.addCol({
                    type: "dmn:OutputClause"
                }, t.length + n.length)
            },
            addOutputLeft: function(e) {
                var t = e && e.output;
                if (t || o.hasSelection()) {
                    t = t || o.get().col;
                    var n = a.getRoot().cols.indexOf(t);
                    if (-1 !== n) return r.addCol({
                        type: "dmn:OutputClause"
                    }, n)
                }
            },
            addOutputRight: function(e) {
                var t = e && e.output;
                if (t || o.hasSelection()) {
                    t = t || o.get().col;
                    var n = a.getRoot().cols.indexOf(t);
                    if (-1 !== n) return r.addCol({
                        type: "dmn:OutputClause"
                    }, n + 1)
                }
            },
            removeOutput: function(e) {
                var t = e && e.output;
                (t || o.hasSelection()) && (t = t || o.get().col, r.removeCol(t))
            },
            addClause: function() {
                if (o.hasSelection()) {
                    var e = o.get().col;
                    return Vt(e, "dmn:InputClause") ? s.addInput({
                        input: e
                    }) : Vt(e, "dmn:OutputClause") ? s.addOutput({
                        output: e
                    }) : void 0
                }
            },
            addClauseLeft: function() {
                if (o.hasSelection()) {
                    var e = o.get().col;
                    return Vt(e, "dmn:InputClause") ? s.addInputLeft({
                        input: e
                    }) : Vt(e, "dmn:OutputClause") ? s.addOutputLeft({
                        output: e
                    }) : void 0
                }
            },
            addClauseRight: function() {
                if (o.hasSelection()) {
                    var e = o.get().col;
                    return Vt(e, "dmn:InputClause") ? s.addInputRight({
                        input: e
                    }) : Vt(e, "dmn:OutputClause") ? s.addOutputRight({
                        output: e
                    }) : void 0
                }
            },
            removeClause: function() {
                if (o.hasSelection()) {
                    var e = o.get().col;
                    return Vt(e, "dmn:InputClause") ? s.removeInput({
                        input: e
                    }) : Vt(e, "dmn:OutputClause") ? s.removeOutput({
                        output: e
                    }) : void 0
                }
            },
            selectCellAbove: function() {
                return i.selectCell("above")
            },
            selectCellBelow: function() {
                return i.selectCell("below")
            },
            copy: function(e) {
                var n = e.element;
                t.copy(n)
            },
            cut: function(e) {
                var n = e.element;
                t.cut(n)
            },
            pasteBefore: function(e) {
                var n = e.element;
                return t.pasteBefore(n)
            },
            pasteAfter: function(e) {
                var n = e.element;
                return t.pasteAfter(n)
            }
        };
        n.register(s)
    };

    function av(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    iv.$inject = ["copyCutPaste", "editorActions", "modeling", "selection", "cellSelection", "sheet"];
    var sv = function() {
        function e(t, n, r, o) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._actions = {
                undo: function() {
                    t.undo()
                },
                redo: function() {
                    t.redo()
                },
                select: function(e) {
                    var t = e.cell;
                    o.select(t)
                },
                deselect: function() {
                    o.deselect()
                },
                addRow: function(e) {
                    var t = e.attrs,
                        n = e.index;
                    r.addRow(t, n)
                },
                removeRow: function(e) {
                    var t = e.row;
                    r.removeRow(t)
                },
                moveRow: function(e) {
                    var t = e.row,
                        n = e.index;
                    r.moveRow(t, n)
                },
                addCol: function(e) {
                    var t = e.attrs,
                        n = e.index;
                    r.addCol(t, n)
                },
                removeCol: function(e) {
                    var t = e.col;
                    r.removeCol(t)
                },
                moveCol: function(e) {
                    var t = e.col,
                        n = e.index;
                    r.moveCol(t, n)
                }
            }
        }
        var t, n, r;
        return t = e, (n = [{
            key: "trigger",
            value: function(e, t) {
                if (!this._actions[e]) throw uv(e, "is not a registered action");
                return this._actions[e](t)
            }
        }, {
            key: "register",
            value: function(e, t) {
                var n = this;
                if ("string" == typeof e) return this._registerAction(e, t);
                v(e, (function(e, t) {
                    n._registerAction(t, e)
                }))
            }
        }, {
            key: "_registerAction",
            value: function(e, t) {
                if (this.isRegistered(e)) throw uv(e, "is already registered");
                this._actions[e] = t
            }
        }, {
            key: "unregister",
            value: function(e) {
                if (!this.isRegistered(e)) throw uv(e, "is not a registered action");
                this._actions[e] = void 0
            }
        }, {
            key: "isRegistered",
            value: function(e) {
                return !!this._actions[e]
            }
        }]) && av(t.prototype, n), r && av(t, r), e
    }();

    function uv(e, t) {
        return new Error(e + " " + t)
    }
    sv.$inject = ["commandStack", "eventBus", "modeling", "selection"];
    var cv = {
            __depends__: [rm],
            __init__: ["editorActions"],
            editorActions: ["type", sv]
        },
        lv = {
            __depends__: [Pm, ov, cv, rm],
            __init__: ["decisionTableEditorActions"],
            decisionTableEditorActions: ["type", iv]
        },
        pv = {
            __depends__: [lv],
            __init__: ["addRule"],
            addRule: ["type", Qy]
        },
        fv = n(11),
        dv = n.n(fv),
        hv = n(12),
        yv = n.n(hv);

    function mv(e) {
        return (mv = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function vv(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function gv(e) {
        return (gv = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function bv(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function _v(e, t) {
        return (_v = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function wv(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var xv = function(e) {
        function t(e, n) {
            var r, o;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== mv(t) && "function" != typeof t ? bv(e) : t
            }(this, gv(t).call(this, e, n)), wv(bv(r), "onFocus", (function(e) {
                var t = r.props.onFocus;
                r.setState({
                    focussed: !0
                }), "function" == typeof t && t(e)
            })), wv(bv(r), "onBlur", (function(e) {
                var t = r.props.onBlur;
                r.setState({
                    focussed: !1
                }), "function" == typeof t && t(e)
            })), wv(bv(r), "onKeydown", (function(e) {
                if (13 === e.which) {
                    if (e.preventDefault(), r.props.ctrlForNewline && ! function(e) {
                            return e.metaKey || e.ctrlKey
                        }(e)) return;
                    if (r.props.singleLine) return;
                    e.stopPropagation(),
                        function() {
                            var e = hm.getRangeAt(0);
                            if (!e) return;
                            var t = e.cloneRange(),
                                n = document.createElement("br");
                            t.deleteContents(), t.insertNode(n), t.setStartAfter(n), t.setEndAfter(n), ym(t)
                        }(), r.onInput(e)
                }
            })), wv(bv(r), "onInput", (function(e) {
                var t = r.props.onInput;
                "function" == typeof t && t(Ev(r.node))
            })), wv(bv(r), "onKeyPress", (function(e) {
                r.onInputIEPolyfill && r.onInputIEPolyfill(e)
            })), wv(bv(r), "onPaste", (function(e) {
                if (r.onInputIEPolyfill && r.onInputIEPolyfill(e), r.props.singleLine) {
                    var t = (e.clipboardData || window.clipboardData).getData("text");
                    document.execCommand("insertText", !1, t.replace(/\n/g, " ")), e.preventDefault()
                }
            })), r.state = {}, ((o = window.navigator.userAgent).indexOf("MSIE ") > 0 || o.indexOf("Trident/") > 0) && (r.onInputIEPolyfill = function(e) {
                var t = r.node.innerHTML;
                setTimeout((function() {
                    var n = r.node.innerHTML;
                    t !== n && r.onInput(e)
                }), 0)
            }), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && _v(e, t)
        }(t, e), n = t, (r = [{
            key: "componentWillUpdate",
            value: function(e, t) {
                var n = this.node,
                    r = t.focussed && vm(n);
                this.selected = r && {
                    range: r,
                    text: Ev(n)
                }
            }
        }, {
            key: "componentDidUpdate",
            value: function() {
                var e = this.selected;
                if (e) {
                    var t = e.range,
                        n = e.text,
                        r = this.node,
                        o = Ev(r);
                    mm(r, o !== n ? yv()(t, n, o) : t)
                }
            }
        }, {
            key: "render",
            value: function(e) {
                var t = this,
                    n = e.value,
                    r = e.className;
                return n = dv()(n).replace(/\r?\n/g, "<br/>") + "<br/>", wp(1, "div", [r || "", "content-editable"].join(" "), null, 1, {
                    contentEditable: "true",
                    spellcheck: "false",
                    onInput: this.onInput,
                    onKeypress: this.onKeypress,
                    onPaste: this.onPaste,
                    onFocus: this.onFocus,
                    onBlur: this.onBlur,
                    onKeydown: this.onKeydown,
                    dangerouslySetInnerHTML: {
                        __html: n
                    }
                }, null, (function(e) {
                    return t.node = e
                }))
            }
        }]) && vv(n.prototype, r), o && vv(n, o), t
    }(Lf);

    function Ev(e) {
        return e.innerText.replace(/\n$/, "")
    }

    function Cv(e) {
        return (Cv = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Ov(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Sv(e) {
        return (Sv = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function jv(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function kv(e, t) {
        return (kv = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function Pv(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var Tv = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== Cv(t) && "function" != typeof t ? jv(e) : t
            }(this, Sv(t).call(this, e, n)), Pv(jv(r), "onFocus", (function(e) {
                r.setState({
                    focussed: !0
                });
                var t = r.props.onFocus;
                "function" == typeof t && t(e)
            })), Pv(jv(r), "onBlur", (function(e) {
                r.setState({
                    focussed: !1
                }), r.state.invalid && r.setState({
                    changing: !1,
                    invalid: !1
                });
                var t = r.props.onBlur;
                "function" == typeof t && t(e)
            })), r.state = {
                changing: !1,
                focussed: !1
            };
            var o = n.injector.get("debounceInput");
            return r.inputChanged = o((function(e) {
                var t = r.props.onChange;
                "function" == typeof t && t(e);
                var n = r.state.changing;
                r.setState({
                    changing: n !== e && n
                })
            })), r.onInput = function(e) {
                var t = (r.props.validate || function() {})(e);
                r.setState({
                    changing: e,
                    invalid: t
                }), t || r.inputChanged(e)
            }, r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && kv(e, t)
        }(t, e), n = t, (r = [{
            key: "getClassName",
            value: function() {
                var e = this.props,
                    t = e.className,
                    n = e.value,
                    r = this.state,
                    o = r.changing;
                return t += " editable", r.focussed && (t += " focussed"), r.invalid && (t += " invalid"), n || o || (t += " empty"), t
            }
        }, {
            key: "getDisplayValue",
            value: function() {
                var e = this.props,
                    t = e.value,
                    n = e.placeholder,
                    r = this.state,
                    o = r.focussed,
                    i = r.changing;
                return "string" == typeof i && (t = i), t || (t = o ? "" : n || ""), t
            }
        }, {
            key: "getEditor",
            value: function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return xp(2, xv, {
                    className: e.className,
                    ctrlForNewline: e.ctrlForNewline,
                    onFocus: this.onFocus,
                    onBlur: this.onBlur,
                    onInput: this.onInput,
                    value: this.getDisplayValue()
                })
            }
        }]) && Ov(n.prototype, r), o && Ov(n, o), t
    }(Lf);

    function Dv(e) {
        return (Dv = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Rv(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function Mv(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Av(e, t, n) {
        return t && Mv(e.prototype, t), n && Mv(e, n), e
    }

    function Nv(e, t) {
        return !t || "object" !== Dv(t) && "function" != typeof t ? Lv(e) : t
    }

    function Iv(e) {
        return (Iv = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Lv(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Bv(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                writable: !0,
                configurable: !0
            }
        }), t && $v(e, t)
    }

    function $v(e, t) {
        return ($v = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function Vv(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var zv = function(e) {
        function t(e, n) {
            var r;
            return Rv(this, t), Vv(Lv(r = Nv(this, Iv(t).call(this, e, n))), "onElementsChanged", (function() {
                r.forceUpdate()
            })), Vv(Lv(r), "setAnnotationValue", (function(e) {
                var t = r.props.row;
                r.modeling.editAnnotation(t.businessObject, e)
            })), sd(Lv(r)), r
        }
        return Bv(t, e), Av(t, [{
            key: "componentWillMount",
            value: function() {
                var e = this.props.row;
                this.changeSupport.onElementsChanged(e.id, this.onElementsChanged)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                var e = this.props.row;
                this.changeSupport.offElementsChanged(e.id, this.onElementsChanged)
            }
        }, {
            key: "render",
            value: function() {
                var e = this.props,
                    t = e.row,
                    n = e.rowIndex,
                    r = t.businessObject,
                    o = r.description,
                    i = r.id;
                return xp(2, Kd, {
                    className: "annotation",
                    onChange: this.setAnnotationValue,
                    coords: "".concat(n, ":annotation"),
                    value: o,
                    elementId: i + "__annotation",
                    "data-row-id": t.id,
                    children: xp(2, Fv, {
                        ctrlForNewline: !0,
                        className: "annotation-editor",
                        onChange: this.setAnnotationValue,
                        value: o
                    })
                })
            }
        }]), t
    }(Lf);
    zv.$inject = ["changeSupport", "modeling"];
    var Fv = function(e) {
        function t() {
            return Rv(this, t), Nv(this, Iv(t).apply(this, arguments))
        }
        return Bv(t, e), Av(t, [{
            key: "render",
            value: function() {
                return wp(1, "div", this.getClassName(), this.getEditor(), 0)
            }
        }]), t
    }(Tv);

    function qv(e) {
        e.onGetComponent("cell", (function(e) {
            var t = e.cellType;
            return "after-label-cells" === t ? wd : "after-rule-cells" === t ? zv : void 0
        }))
    }
    qv.$inject = ["components"];

    function Hv(e) {
        return function(t) {
            return !1 !== e ? M(t, p(e) ? e : 300) : t
        }
    }
    Hv.$inject = ["config.debounceInput"];
    var Uv = {
            debounceInput: ["factory", Hv]
        },
        Wv = {
            __depends__: [Uv],
            __init__: ["annotationsProvider"],
            annotationsProvider: ["type", qv]
        };

    function Gv(e) {
        return (Gv = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Kv(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function Xv(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Yv(e, t, n) {
        return t && Xv(e.prototype, t), n && Xv(e, n), e
    }

    function Jv(e, t) {
        return !t || "object" !== Gv(t) && "function" != typeof t ? Qv(e) : t
    }

    function Zv(e) {
        return (Zv = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Qv(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function eg(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                writable: !0,
                configurable: !0
            }
        }), t && tg(e, t)
    }

    function tg(e, t) {
        return (tg = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function ng(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var rg = function(e) {
        function t(e, n) {
            var r;
            return Kv(this, t), ng(Qv(r = Jv(this, Zv(t).call(this, e, n))), "open", (function(e) {
                var t = e.position,
                    n = e.context;
                r.close(), r.setState({
                    isOpen: !0,
                    position: t || {
                        x: 0,
                        y: 0
                    },
                    context: n || {}
                })
            })), ng(Qv(r), "close", (function() {
                r.state.isOpen && r.setState({
                    context: void 0,
                    isOpen: !1,
                    position: {
                        x: 0,
                        y: 0
                    }
                })
            })), ng(Qv(r), "triggerClose", (function() {
                r.eventBus.fire("contextMenu.close")
            })), r.state = {
                isOpen: !1,
                position: {
                    x: 0,
                    y: 0
                }
            }, sd(Qv(r)), r
        }
        return eg(t, e), Yv(t, [{
            key: "componentDidMount",
            value: function() {
                this.eventBus.on("contextMenu.open", this.open), this.eventBus.on("contextMenu.close", this.close)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this.eventBus.off("contextMenu.open", this.open), this.eventBus.off("contextMenu.close", this.close)
            }
        }, {
            key: "render",
            value: function() {
                var e = this.state,
                    t = e.isOpen,
                    n = e.context,
                    r = e.position;
                if (!t) return null;
                var o = this.components.getComponents("context-menu", n);
                return o.length ? xp(2, og, {
                    className: "context-menu no-deselect",
                    context: n,
                    position: r,
                    offset: n.offset || {
                        x: 0,
                        y: 0
                    },
                    autoFocus: !1 !== n.autoFocus,
                    autoClose: !1 !== n.autoClose,
                    components: o,
                    onClose: this.triggerClose
                }) : null
            }
        }]), t
    }(Lf);
    rg.$inject = ["eventBus", "components"];
    var og = function(e) {
        function t(e, n) {
            var r;
            return Kv(this, t), ng(Qv(r = Jv(this, Zv(t).call(this, e, n))), "onGlobalMouseDown", (function(e) {
                r.checkClose(e.target)
            })), ng(Qv(r), "onGlobalKey", (function(e) {
                var t = e.which;
                13 !== t && 27 !== t || (e.stopPropagation(), e.preventDefault(), r.close())
            })), ng(Qv(r), "onFocusChanged", (function(e) {
                r.checkClose(e.target)
            })), ng(Qv(r), "setNode", (function(e) {
                r.node = e;
                var t, n = r.props.autoFocus;
                e && (r.updatePosition(), n && (t = xt("\n  input[type=text],\n  input[type=number],\n  input[type=button],\n  input[type=submit],\n  [contenteditable],\n  [tabindex],\n  a[href],\n  textarea,\n  button\n", e)) && (t.focus(), t.selectionStart && "text" === t.type ? t.selectionStart = 1e5 : "contentEditable" in t && mm(t, {
                    start: 1e5,
                    end: 1e5
                })))
            })), sd(Qv(r)), r
        }
        return eg(t, e), Yv(t, [{
            key: "close",
            value: function() {
                var e = this.props.onClose;
                f(e) && e()
            }
        }, {
            key: "checkClose",
            value: function(e) {
                if (this.props.autoClose) {
                    var t = this.node;
                    t && t !== e && (t.contains(e) || this.close())
                }
            }
        }, {
            key: "componentDidMount",
            value: function() {
                document.addEventListener("focusin", this.onFocusChanged), document.addEventListener("keydown", this.onGlobalKey), document.addEventListener("mousedown", this.onGlobalMouseDown)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                document.removeEventListener("focusin", this.onFocusChanged), document.removeEventListener("keydown", this.onGlobalKey), document.removeEventListener("mousedown", this.onGlobalMouseDown)
            }
        }, {
            key: "updatePosition",
            value: function() {
                var e = this.props,
                    t = e.position,
                    n = e.offset,
                    r = this.node.getBoundingClientRect();
                t.width || (t.width = 0), t.height || (t.height = 0);
                var o = this.renderer.getContainer(),
                    i = o.getBoundingClientRect();
                i.width > i.height ? (this.node.classList.add("horizontal"), this.node.classList.remove("vertical")) : (this.node.classList.add("vertical"), this.node.classList.remove("horizontal"));
                var a, s, u, c = o.scrollLeft,
                    l = o.scrollTop,
                    p = {};
                t.align && (a = t.align.split("-")), s = "left" === (a && a[1] || (t.x + t.width / 2 > i.width / 2 ? "left" : "right")) ? t.x - i.left - r.width + n.x + c : window.scrollX - i.left + t.x + t.width - n.x + c, s = a ? s : ig(s, 0 + c, i.width - r.width + c), p.left = s + "px", u = "top" === (a && a[0] || (t.y + t.height / 2 > i.height / 2 ? "top" : "bottom")) ? t.y - i.top - r.height + n.y + l : window.scrollY - i.top + t.y - n.y + l, u = a ? u : ig(u, 0 + l, i.height - r.height + l), p.top = u + "px", p.overflowY = "auto", p.maxHeight = i.height - u + l + "px", I(this.node.style, p)
            }
        }, {
            key: "render",
            value: function() {
                var e = this.props,
                    t = e.context,
                    n = e.components;
                return wp(1, "div", e.className, n.map((function(e, n) {
                    return xp(2, e, {
                        context: t
                    }, n)
                })), 0, {
                    onContextMenu: function(e) {
                        return e.preventDefault()
                    }
                }, null, this.setNode)
            }
        }]), t
    }(Lf);

    function ig(e, t, n) {
        return Math.max(t, Math.min(n, e))
    }
    og.$inject = ["renderer"];

    function ag(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var sg = function() {
        function e(t, n, r) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._eventBus = n, t.onGetComponent("table.before", (function() {
                return rg
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "open",
            value: function(e, t) {
                this._eventBus.fire("contextMenu.open", {
                    position: e,
                    context: t
                })
            }
        }, {
            key: "close",
            value: function() {
                this._eventBus.fire("contextMenu.close")
            }
        }]) && ag(t.prototype, n), r && ag(t, r), e
    }();
    sg.$inject = ["components", "eventBus", "renderer"];
    var ug = {
        __init__: ["contextMenu"],
        contextMenu: ["type", sg]
    };

    function cg(e) {
        return !e.altKey && (e.ctrlKey || e.metaKey)
    }

    function lg(e) {
        return e.shiftKey
    }

    function pg(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function fg(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var dg = function() {
        function e(t, n, r, o, i, a, s) {
            var u = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), fg(this, "_clearClipboard", (function() {
                u._clipboard.clear()
            })), fg(this, "_registerBindings", (function() {
                [function(e, t) {
                    if (cg(t) && 67 === e) {
                        var n = u._getSelectedCell();
                        if (!n) return;
                        return lg(t) ? u._editorActions.trigger("copy", {
                            element: n.col
                        }) : u._editorActions.trigger("copy", {
                            element: n.row
                        }), !0
                    }
                }, function(e, t) {
                    if (cg(t) && 88 === e) {
                        var n = u._getSelectedCell();
                        if (!n) return;
                        return lg(t) ? u._editorActions.trigger("cut", {
                            element: n.col
                        }) : u._editorActions.trigger("cut", {
                            element: n.row
                        }), !0
                    }
                }, function(e, t) {
                    var n;
                    if (cg(t) && 86 === e) {
                        var r = u._getSelectedCell();
                        if (!r) return;
                        lg(t) ? (n = u._editorActions.trigger("pasteAfter", {
                            element: r.col
                        })) && u._cellSelection.selectCell("right") : (n = u._editorActions.trigger("pasteAfter", {
                            element: r.row
                        })) && u._cellSelection.selectCell("below")
                    }
                    return void 0 !== n
                }].forEach((function(e) {
                    u._keyboard.addListener(e)
                }))
            })), this._clipboard = r, this._cellSelection = o, this._elementRegistry = i, this._editorActions = a, this._keyboard = t.get("keyboard", !1), this._renderer = s, this._keyboard && (n.on("keyboard.init", this._registerBindings), n.on("keyboard.bind", (function() {
                yt.bind(document, "copy", u._clearClipboard, !0), yt.bind(document, "cut", u._clearClipboard, !0)
            })), n.on("keyboard.unbind", (function() {
                yt.unbind(document, "copy", u._clearClipboard, !0), yt.unbind(document, "cut", u._clearClipboard, !0)
            })))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "_getSelectedCell",
            value: function() {
                var e = this._cellSelection.getCellSelection();
                if (e) {
                    var t = this._elementRegistry.get(e);
                    if (t) {
                        var n = Cm(e, this._renderer.getContainer()),
                            r = Sm(n);
                        if (document.activeElement === r) {
                            var o = vm(n);
                            if (!o || o.start === o.end) return t
                        }
                    }
                }
            }
        }]) && pg(t.prototype, n), r && pg(t, r), e
    }();
    dg.$inject = ["injector", "eventBus", "clipboard", "cellSelection", "elementRegistry", "editorActions", "renderer"];
    var hg = {
        __depends__: [Dm, Pm],
        __init__: ["copyCutPasteKeyBindings"],
        copyCutPasteKeyBindings: ["type", dg]
    };

    function yg(e) {
        return (yg = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function mg(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function vg(e) {
        return (vg = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function gg(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function bg(e, t) {
        return (bg = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var _g = function(e) {
        function t(e, n) {
            var r, o, i, a;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== yg(t) && "function" != typeof t ? gg(e) : t
            }(this, vg(t).call(this, e, n)), o = gg(r), a = function(e) {
                r.editorActions.trigger("addInput")
            }, (i = "onClick") in o ? Object.defineProperty(o, i, {
                value: a,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : o[i] = a, sd(gg(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && bg(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                return wp(1, "th", "input-cell create-inputs header actionable", [this.translate("Input"), Ep(" "), wp(1, "span", "add-input dmn-icon-plus action-icon", null, 1, {
                    title: this.translate("Add Input")
                })], 0, {
                    onClick: this.onClick,
                    title: this.translate("Add Input")
                })
            }
        }]) && mg(n.prototype, r), o && mg(n, o), t
    }(Lf);

    function wg(e) {
        return (wg = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function xg(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Eg(e) {
        return (Eg = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Cg(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Og(e, t) {
        return (Og = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    _g.$inject = ["editorActions", "translate"];
    var Sg = function(e) {
        function t(e, n) {
            var r, o, i, a;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== wg(t) && "function" != typeof t ? Cg(e) : t
            }(this, Eg(t).call(this, e, n)), o = Cg(r), a = function(e) {
                r.editorActions.trigger("addInput")
            }, (i = "onClick") in o ? Object.defineProperty(o, i, {
                value: a,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : o[i] = a, sd(Cg(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Og(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                return wp(1, "td", "input-cell create-inputs", Ep("-"), 2, {
                    onClick: this.onClick,
                    title: this.translate("Add Input")
                })
            }
        }]) && xg(n.prototype, r), o && xg(n, o), t
    }(Lf);
    Sg.$inject = ["editorActions", "translate"];
    var jg = function e(t, n) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("cell", 500, (function(e) {
            var t = e.cellType,
                r = n.getRoot().businessObject;
            if (!r.input || !r.input.length) return "before-label-cells" === t ? _g : "before-rule-cells" === t ? Sg : void 0
        }))
    };
    jg.$inject = ["components", "sheet"];
    var kg = {
        __depends__: [lv],
        __init__: ["createInputsProvider"],
        createInputsProvider: ["type", jg]
    };

    function Pg(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var Tg = function() {
        function e(t, n, r, o, i, a, s, u, c, l) {
            var p = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._contextMenu = n, this._clipboard = r, this._editorActions = o, this._elementRegistry = a, this._eventBus = i, this._modeling = s, this._sheet = u, this._rules = c, this._translate = l, this._getEntries = this._getEntries.bind(this), t.onGetComponent("context-menu", (function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                if (e.contextMenuType && "context-menu" === e.contextMenuType) {
                    var n = p._getEntries(e),
                        r = p._elementRegistry.get(e.id),
                        o = Dg(r) && t.getComponents("context-menu-cell-additional", e);
                    if (o && o.length) {
                        var i = wp(1, "div", "context-menu-group context-menu-group-cell", o, 0);
                        return function() {
                            return wp(1, "div", "context-menu-flex", (n || []).concat(i), 0)
                        }
                    }
                    return function() {
                        return wp(1, "div", "context-menu-flex", n || [], 0)
                    }
                }
            })), i.on("cell.contextmenu", (function(e) {
                var t = e.event,
                    r = e.id;
                e.node;
                t.preventDefault(), n.open({
                    x: t.pageX,
                    y: t.pageY
                }, {
                    contextMenuType: "context-menu",
                    event: t,
                    id: r
                })
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "_getEntries",
            value: function(e) {
                var t = this,
                    n = function(e) {
                        t._editorActions.trigger("addRuleAbove", {
                            rule: e
                        }), t._contextMenu.close()
                    },
                    r = function(e) {
                        t._editorActions.trigger("addRuleBelow", {
                            rule: e
                        }), t._contextMenu.close()
                    },
                    o = function(e) {
                        t._editorActions.trigger("removeRule", {
                            rule: e
                        }), t._contextMenu.close()
                    },
                    i = function(e) {
                        t._editorActions.trigger("addInputLeft", {
                            input: e
                        }), t._contextMenu.close()
                    },
                    a = function(e) {
                        t._editorActions.trigger("addInputRight", {
                            input: e
                        }), t._contextMenu.close()
                    },
                    s = function(e) {
                        t._editorActions.trigger("removeInput", {
                            input: e
                        }), t._contextMenu.close()
                    },
                    u = function(e) {
                        t._editorActions.trigger("addOutputLeft", {
                            output: e
                        }), t._contextMenu.close()
                    },
                    c = function(e) {
                        t._editorActions.trigger("addOutputRight", {
                            output: e
                        }), t._contextMenu.close()
                    },
                    l = function(e) {
                        t._editorActions.trigger("removeOutput", {
                            output: e
                        }), t._contextMenu.close()
                    },
                    p = function(e) {
                        t._editorActions.trigger("copy", {
                            element: e
                        }), t._contextMenu.close()
                    },
                    f = function(e) {
                        t._editorActions.trigger("cut", {
                            element: e
                        }), t._contextMenu.close()
                    },
                    d = function(e) {
                        t._editorActions.trigger("pasteBefore", {
                            element: e
                        }), t._contextMenu.close()
                    },
                    h = function(e) {
                        t._editorActions.trigger("pasteAfter", {
                            element: e
                        }), t._contextMenu.close()
                    },
                    y = e && e.id;
                if (!y) return null;
                var m = this._elementRegistry.get(y);
                if (!m) return null;
                var v = this._clipboard.get() || {},
                    g = [];
                if (Vt(m.row, "dmn:DecisionRule")) {
                    var b = this._rules.allowed("paste", {
                        data: v.elements,
                        target: m.row
                    });
                    g.push(wp(1, "div", "context-menu-group", [wp(1, "div", "context-menu-group-entry context-menu-entry-copy-rule", this._translate("Copy Rule"), 0, {
                        onClick: function() {
                            return p(m.row)
                        }
                    }), wp(1, "div", "context-menu-group-entry context-menu-entry-cut-rule", this._translate("Cut Rule"), 0, {
                        onClick: function() {
                            return f(m.row)
                        }
                    }), wp(1, "div", "context-menu-group-entry ".concat(b ? "" : "disabled", " context-menu-entry-paste-rule-above"), this._translate("Paste Rule Above"), 0, {
                        onClick: function() {
                            return d(m.row)
                        }
                    }), wp(1, "div", "context-menu-group-entry ".concat(b ? "" : "disabled", " context-menu-entry-paste-rule-below"), this._translate("Paste Rule Below"), 0, {
                        onClick: function() {
                            return h(m.row)
                        }
                    })], 4), wp(1, "div", "context-menu-group", [wp(1, "div", "context-menu-group-entry context-menu-entry-add-rule-above", this._translate("Add Rule Above"), 0, {
                        onClick: function() {
                            return n(m.row)
                        }
                    }), wp(1, "div", "context-menu-group-entry context-menu-entry-add-rule-below", this._translate("Add Rule Below"), 0, {
                        onClick: function() {
                            return r(m.row)
                        }
                    }), wp(1, "div", "context-menu-group-entry context-menu-entry-remove-rule", this._translate("Remove Rule"), 0, {
                        onClick: function() {
                            return o(m.row)
                        }
                    })], 4))
                } else if (Vt(m, "dmn:InputClause") || Vt(m.col, "dmn:InputClause")) {
                    var _ = Vt(m, "dmn:InputClause") ? m : m.col,
                        w = this._rules.allowed("col.remove", {
                            col: m.col || m
                        }),
                        x = this._rules.allowed("paste", {
                            data: v.elements,
                            target: m.col || m
                        });
                    g.push(wp(1, "div", "context-menu-group", [wp(1, "div", "context-menu-group-entry context-menu-entry-copy-input", this._translate("Copy Input Column"), 0, {
                        onClick: function() {
                            return p(_)
                        }
                    }), wp(1, "div", "context-menu-group-entry ".concat(w ? "" : "disabled", " context-menu-entry-cut-input"), this._translate("Cut Input Column"), 0, {
                        onClick: function() {
                            return f(_)
                        }
                    }), wp(1, "div", "context-menu-group-entry ".concat(x ? "" : "disabled", " context-menu-entry-paste-input-left"), this._translate("Paste Input Column Left"), 0, {
                        onClick: function() {
                            return d(_)
                        }
                    }), wp(1, "div", "context-menu-group-entry ".concat(x ? "" : "disabled", " context-menu-entry-paste-input-right"), this._translate("Paste Input Column Right"), 0, {
                        onClick: function() {
                            return h(_)
                        }
                    })], 4), wp(1, "div", "context-menu-group", [wp(1, "div", "context-menu-group-entry context-menu-entry-add-input-left", this._translate("Add Input Column Left"), 0, {
                        onClick: function() {
                            return i(_)
                        }
                    }), wp(1, "div", "context-menu-group-entry context-menu-entry-add-input-right", this._translate("Add Input Column Right"), 0, {
                        onClick: function() {
                            return a(_)
                        }
                    }), wp(1, "div", "context-menu-group-entry ".concat(w ? "" : "disabled", " context-menu-entry-remove-input"), this._translate("Remove Input Column"), 0, {
                        onClick: function() {
                            return s(_)
                        }
                    })], 4))
                } else if (Vt(m, "dmn:OutputClause") || Vt(m.col, "dmn:OutputClause")) {
                    var E = Vt(m, "dmn:OutputClause") ? m : m.col,
                        C = this._rules.allowed("col.remove", {
                            col: m.col || m
                        }),
                        O = this._rules.allowed("paste", {
                            data: v.elements,
                            target: m.col || m
                        });
                    g.push(wp(1, "div", "context-menu-group", [wp(1, "div", "context-menu-group-entry context-menu-entry-copy-output", this._translate("Copy Output Column"), 0, {
                        onClick: function() {
                            return p(E)
                        }
                    }), wp(1, "div", "context-menu-group-entry ".concat(C ? "" : "disabled", " context-menu-entry-cut-output"), this._translate("Cut Output Column"), 0, {
                        onClick: function() {
                            return f(E)
                        }
                    }), wp(1, "div", "context-menu-group-entry ".concat(O ? "" : "disabled", " context-menu-entry-paste-output-left"), this._translate("Paste Output Column Left"), 0, {
                        onClick: function() {
                            return d(E)
                        }
                    }), wp(1, "div", "context-menu-group-entry ".concat(O ? "" : "disabled", " context-menu-entry-paste-output-right"), this._translate("Paste Output Column Right"), 0, {
                        onClick: function() {
                            return h(E)
                        }
                    })], 4), wp(1, "div", "context-menu-group", [wp(1, "div", "context-menu-group-entry context-menu-entry-add-output-left", this._translate("Add Output Column Left"), 0, {
                        onClick: function() {
                            return u(E)
                        }
                    }), wp(1, "div", "context-menu-group-entry context-menu-entry-add-output-right", this._translate("Add Output Column Right"), 0, {
                        onClick: function() {
                            return c(E)
                        }
                    }), wp(1, "div", "context-menu-group-entry ".concat(C ? "" : "disabled", " context-menu-entry-remove-output"), this._translate("Remove Output Column"), 0, {
                        onClick: function() {
                            return l(E)
                        }
                    })], 4))
                }
                return g
            }
        }]) && Pg(t.prototype, n), r && Pg(t, r), e
    }();

    function Dg(e) {
        return e instanceof Yl
    }
    Tg.$inject = ["components", "contextMenu", "clipboard", "editorActions", "eventBus", "elementRegistry", "modeling", "sheet", "rules", "translate"];
    var Rg = ["row.add", "row.remove", "col.add", "col.remove"],
        Mg = function e(t, n) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), n.on("commandStack.executed", (function(e) {
                var n = e.command; - 1 !== Rg.indexOf(n) && t.close()
            })), n.on("commandStack.reverted", (function() {
                t.close()
            }))
        };
    Mg.$inject = ["contextMenu", "eventBus"];
    var Ag = {
        __depends__: [lv, ug, Bm],
        __init__: ["decisionTableContextMenu", "contextMenuCloseBehavior"],
        decisionTableContextMenu: ["type", Tg],
        contextMenuCloseBehavior: ["type", Mg]
    };

    function Ng(e) {
        return (Ng = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Ig(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Lg(e) {
        return (Lg = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Bg(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function $g(e, t) {
        return ($g = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function Vg(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var zg = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== Ng(t) && "function" != typeof t ? Bg(e) : t
            }(this, Lg(t).call(this, e, n)), Vg(Bg(r), "onClick", (function(e) {
                var t = r.props.output;
                r._eventBus.fire("output.edit", {
                    event: e,
                    output: t
                })
            })), Vg(Bg(r), "onContextmenu", (function(e) {
                var t = r.props.output.id;
                r._eventBus.fire("cell.contextmenu", {
                    event: e,
                    id: t
                })
            })), Vg(Bg(r), "onElementsChanged", (function() {
                r.forceUpdate()
            })), cd(Bg(r), yd), r._translate = n.injector.get("translate"), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && $g(e, t)
        }(t, e), n = t, (r = [{
            key: "componentWillMount",
            value: function() {
                var e = this.context.injector;
                this._changeSupport = this.context.changeSupport, this._eventBus = e.get("eventBus"), this._elementRegistry = e.get("elementRegistry");
                var t = this.props.output;
                this._changeSupport.onElementsChanged(t.id, this.onElementsChanged)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                var e = this.props.output;
                this._changeSupport.offElementsChanged(e.id, this.onElementsChanged)
            }
        }, {
            key: "render",
            value: function() {
                var e = this.props,
                    t = e.output,
                    n = e.index,
                    r = e.outputsLength,
                    o = t.label,
                    i = t.name,
                    a = t.outputValues,
                    s = t.typeRef,
                    u = t.width ? t.width + "px" : "192px";
                return wp(1, "th", "output-cell output-editor", [this.slotFills({
                    type: "cell-inner",
                    context: {
                        cellType: "output-cell",
                        col: this._elementRegistry.get(t.id),
                        index: n,
                        outputsLength: r
                    },
                    col: t
                }), wp(1, "div", "clause", 0 === n ? this._translate("Then") : this._translate("And"), 0), o ? wp(1, "div", "output-label", o, 0, {
                    title: this._translate("Output Label")
                }) : wp(1, "div", "output-name", i || "-", 0, {
                    title: this._translate("Output Name")
                }), wp(1, "div", "output-variable", a && a.text || s, 0, {
                    title: a && a.text ? this._translate("Output Values") : this._translate("Output Type")
                })], 0, {
                    "data-col-id": t.id,
                    onDblClick: this.onClick,
                    onContextmenu: this.onContextmenu,
                    style: {
                        width: u
                    }
                })
            }
        }]) && Ig(n.prototype, r), o && Ig(n, o), t
    }(Lf);

    function Fg(e) {
        return (Fg = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function qg(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Hg(e) {
        return (Hg = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Ug(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Wg(e, t) {
        return (Wg = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function Gg(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var Kg = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== Fg(t) && "function" != typeof t ? Ug(e) : t
            }(this, Hg(t).call(this, e, n)), Gg(Ug(r), "onInput", (function(e) {
                var t = r.props.onInput;
                "function" == typeof t && t(e.target.value)
            })), Gg(Ug(r), "onKeyDown", (function(e) {
                var t = r.props.onKeyDown;
                "function" == typeof t && t(e)
            })), Gg(Ug(r), "onKeyUp", (function(e) {
                var t = r.props.onKeyUp;
                "function" == typeof t && t(e)
            })), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Wg(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                var e = this.props,
                    t = e.className,
                    n = e.placeholder,
                    r = e.type,
                    o = e.value;
                return wp(64, "input", [t || "", "dms-input"].join(" "), null, 1, {
                    placeholder: n || "",
                    onInput: this.onInput,
                    onKeyDown: this.onKeyDown,
                    onKeyUp: this.onKeyUp,
                    spellcheck: "false",
                    type: r || "text",
                    value: o
                })
            }
        }]) && qg(n.prototype, r), o && qg(n, o), t
    }(Lf);

    function Xg(e) {
        return (Xg = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Yg(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Jg(e, t) {
        return !t || "object" !== Xg(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function Zg(e) {
        return (Zg = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Qg(e, t) {
        return (Qg = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var eb = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = Jg(this, Zg(t).call(this, e, n))).translate = n.injector ? n.injector.get("translate") : tb, r.setName = function(e) {
                e = e || void 0, r.handleChange({
                    name: e
                })
            }, r.setLabel = function(e) {
                e = e || void 0, r.handleChange({
                    label: e
                })
            }, r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Qg(e, t)
        }(t, e), n = t, (r = [{
            key: "handleChange",
            value: function(e) {
                var t = this.props.onChange;
                "function" == typeof t && t(e)
            }
        }, {
            key: "render",
            value: function() {
                var e = this.props,
                    t = e.name,
                    n = e.label;
                return wp(1, "div", "context-menu-container ref-output-editor output-edit", [wp(1, "div", "dms-form-control", xp(2, xv, {
                    className: "dms-output-label",
                    value: n || "",
                    singleLine: !0,
                    onInput: this.setLabel
                }), 2), wp(1, "div", "dms-form-control", [wp(1, "label", "dms-label", this.translate("Output Name"), 0), xp(2, Kg, {
                    className: "ref-output-name",
                    value: t || "",
                    onInput: this.setName
                })], 4)], 4)
            }
        }]) && Yg(n.prototype, r), o && Yg(n, o), t
    }(Lf);

    function tb(e) {
        return e
    }

    function nb(e) {
        return (nb = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function rb(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(e);
            t && (r = r.filter((function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, r)
        }
        return n
    }

    function ob(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? rb(n, !0).forEach((function(t) {
                cb(e, t, n[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : rb(n).forEach((function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            }))
        }
        return e
    }

    function ib(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function ab(e) {
        return (ab = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function sb(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function ub(e, t) {
        return (ub = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function cb(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var lb = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== nb(t) && "function" != typeof t ? sb(e) : t
            }(this, ab(t).call(this, e, n)), cb(sb(r), "persistChanges", (function() {
                var e = r.props.context.output,
                    t = r.state.unsaved;
                t && (r.modeling.updateProperties(e, t), r.setState({
                    unsaved: !1
                }))
            })), cb(sb(r), "handleChange", (function(e) {
                r.setState({
                    unsaved: ob({}, r.state.unsaved, {}, e)
                }, r.persistChanges)
            })), r.state = {}, sd(sb(r)), r.persistChanges = r.debounceInput(r.persistChanges), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && ub(e, t)
        }(t, e), n = t, (r = [{
            key: "getValue",
            value: function(e) {
                var t = this.props.context.output,
                    n = this.state.unsaved;
                return n && e in n ? n[e] : t.get(e)
            }
        }, {
            key: "render",
            value: function() {
                return xp(2, eb, {
                    name: this.getValue("name"),
                    label: this.getValue("label"),
                    onChange: this.handleChange
                })
            }
        }]) && ib(n.prototype, r), o && ib(n, o), t
    }(Lf);
    lb.$inject = ["debounceInput", "modeling"];
    var pb = function e(t, n, r, o) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("cell", (function(e) {
            if ("output-header" === e.cellType) return zg
        })), t.onGetComponent("context-menu", (function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if ("output-edit" === e.contextMenuType) return lb
        })), r.on("output.edit", (function(e) {
            var t = e.event,
                r = e.output,
                o = pt(t.target, "th", !0),
                i = o.getBoundingClientRect(),
                a = i.left,
                s = i.top,
                u = function(e) {
                    if (!lt(e, ".output-cell + .output-cell")) return {
                        x: -1,
                        y: 0
                    }
                }(o);
            n.open({
                x: a,
                y: s,
                align: "bottom-right"
            }, {
                contextMenuType: "output-edit",
                output: r,
                offset: u
            })
        }))
    };

    function fb(e) {
        return (fb = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function db(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function hb(e) {
        return (hb = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function yb(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function mb(e, t) {
        return (mb = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function vb(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    pb.$inject = ["components", "contextMenu", "eventBus", "renderer"];
    var gb = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== fb(t) && "function" != typeof t ? yb(e) : t
            }(this, hb(t).call(this, e, n)), vb(yb(r), "onClick", (function(e) {
                var t = r.props.input;
                r._eventBus.fire("input.edit", {
                    event: e,
                    input: t
                })
            })), vb(yb(r), "onContextmenu", (function(e) {
                var t = r.props.input.id;
                r._eventBus.fire("cell.contextmenu", {
                    event: e,
                    id: t
                })
            })), vb(yb(r), "onElementsChanged", (function() {
                r.forceUpdate()
            })), cd(yb(r), yd), r._translate = n.injector.get("translate"), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && mb(e, t)
        }(t, e), n = t, (r = [{
            key: "componentWillMount",
            value: function() {
                var e = this.context.injector;
                this._changeSupport = this.context.changeSupport, this._sheet = e.get("sheet"), this._eventBus = e.get("eventBus"), this._elementRegistry = e.get("elementRegistry");
                var t = this._sheet.getRoot(),
                    n = this.props.input;
                this._changeSupport.onElementsChanged(t.id, this.onElementsChanged), this._changeSupport.onElementsChanged(n.id, this.onElementsChanged)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                var e = this._sheet.getRoot(),
                    t = this.props.input;
                this._changeSupport.offElementsChanged(e.id, this.onElementsChanged), this._changeSupport.offElementsChanged(t.id, this.onElementsChanged)
            }
        }, {
            key: "render",
            value: function() {
                var e = this.props,
                    t = e.input,
                    n = e.index,
                    r = e.inputsLength,
                    o = t.inputExpression,
                    i = t.inputValues,
                    a = t.get("label"),
                    s = t.width ? t.width + "px" : "192px";
                return wp(1, "th", "input-cell input-editor", [this.slotFills({
                    type: "cell-inner",
                    context: {
                        cellType: "input-cell",
                        col: this._elementRegistry.get(t.id),
                        index: n,
                        inputsLength: r
                    },
                    col: t
                }), wp(1, "div", "clause", 0 === n ? this._translate("When") : this._translate("And"), 0), a ? wp(1, "div", "input-label", a, 0, {
                    title: this._translate("Input Label")
                }) : wp(1, "div", "input-expression", o.text || "-", 0, {
                    title: this._translate("Input Expression")
                }), wp(1, "div", "input-variable", i && i.text || o.typeRef, 0, {
                    title: i && i.text ? this._translate("Input Values") : this._translate("Input Type")
                })], 0, {
                    "data-col-id": t.id,
                    onDblClick: this.onClick,
                    onContextmenu: this.onContextmenu,
                    style: {
                        width: s
                    }
                })
            }
        }]) && db(n.prototype, r), o && db(n, o), t
    }(Lf);

    function bb(e) {
        return (bb = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function _b(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function wb(e) {
        return (wb = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function xb(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Eb(e, t) {
        return (Eb = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function Cb(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var Ob = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== bb(t) && "function" != typeof t ? xb(e) : t
            }(this, wb(t).call(this, e, n)), Cb(xb(r), "onChange", (function(e) {
                r.setState({
                    value: e
                });
                var t = r.props.onChange;
                "function" == typeof t && t(e)
            })), Cb(xb(r), "onInputClick", (function(e) {
                e.preventDefault(), e.stopPropagation(), r.setOptionsVisible(!r.state.optionsVisible), r.focusInput()
            })), Cb(xb(r), "onInput", (function(e) {
                var t = e.target.value;
                r.onChange(t)
            })), Cb(xb(r), "onOptionClick", (function(e, t) {
                t.preventDefault(), t.stopPropagation(), r.setOptionsVisible(!1), r.onChange(e), r.focusInput()
            })), Cb(xb(r), "onFocusChanged", (function(e) {
                r.checkClose(e.target)
            })), Cb(xb(r), "onGlobalClick", (function(e) {
                r.checkClose(e.target)
            })), Cb(xb(r), "onKeyDown", (function(e) {
                var t = r.state.optionsVisible,
                    n = e.which;
                40 !== n && 38 !== n || (e.stopPropagation(), e.preventDefault(), t ? r.select(40 === n ? 1 : -1) : r.setOptionsVisible(!0)), t && (13 !== n && 27 !== n || (e.stopPropagation(), e.preventDefault(), r.setOptionsVisible(!1)))
            })), Cb(xb(r), "onKeyboard", (function(e) {
                if (r.state.optionsVisible) return 27 === e ? (r.setOptionsVisible(!1), !0) : void 0
            })), sd(xb(r));
            var o = e.value;
            return r.state = {
                value: o,
                optionsVisible: !1
            }, r._portalEl = null, r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Eb(e, t)
        }(t, e), n = t, (r = [{
            key: "componentDidMount",
            value: function() {
                document.addEventListener("click", this.onGlobalClick), document.addEventListener("focusin", this.onFocusChanged), this.keyboard.addListener(this.onKeyboard)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                document.removeEventListener("focusin", this.onFocusChanged), document.removeEventListener("click", this.onGlobalClick), this.keyboard.removeListener(this.onKeyboard), this.removePortalEl()
            }
        }, {
            key: "componentWillReceiveProps",
            value: function(e) {
                var t = e.value;
                this.setState({
                    value: t
                })
            }
        }, {
            key: "componentWillUpdate",
            value: function(e, t) {
                t.optionsVisible ? this._portalEl || this.addPortalEl() : this._portalEl && this.removePortalEl()
            }
        }, {
            key: "componentDidUpdate",
            value: function() {
                if (this.state.optionsVisible && this.inputNode) {
                    var e = this.inputNode.getBoundingClientRect(),
                        t = e.top,
                        n = e.left,
                        r = e.width,
                        o = e.height;
                    I(this._portalEl.style, {
                        top: "".concat(t + o, "px"),
                        left: "".concat(n, "px"),
                        width: "".concat(r, "px")
                    })
                }
            }
        }, {
            key: "addPortalEl",
            value: function() {
                this._portalEl = bt('<div class="dms-select-options"></div>'), this.renderer.getContainer().appendChild(this._portalEl), this._portalEl.addEventListener("mousedown", Sb)
            }
        }, {
            key: "removePortalEl",
            value: function() {
                this._portalEl && (this._portalEl.removeEventListener("mousedown", Sb), Ct(this._portalEl), this._portalEl = null)
            }
        }, {
            key: "focusInput",
            value: function() {
                var e = this.inputNode;
                e.focus(), "selectionStart" in e && (e.selectionStart = 1e5)
            }
        }, {
            key: "checkClose",
            value: function(e) {
                !this._portalEl || this._portalEl.contains(e) || this.parentNode.contains(e) || this.setOptionsVisible(!1)
            }
        }, {
            key: "select",
            value: function(e) {
                var t = this.props.options,
                    n = this.state.value;
                if (t) {
                    var r = t.filter((function(e) {
                            return e.value === n
                        }))[0],
                        o = r ? t.indexOf(r) : -1,
                        i = -1 === o ? 1 === e ? 0 : t.length - 1 : (o + e) % t.length,
                        a = t[i < 0 ? t.length + i : i];
                    this.onChange(a.value)
                }
            }
        }, {
            key: "setOptionsVisible",
            value: function(e) {
                this.setState({
                    optionsVisible: e
                })
            }
        }, {
            key: "renderOptions",
            value: function(e, t) {
                var n = this;
                return wp(1, "div", "options", e.map((function(e) {
                    return wp(1, "div", ["option", t === e ? "active" : ""].join(" "), e.label, 0, {
                        "data-value": e.value,
                        onClick: function(t) {
                            return n.onOptionClick(e.value, t)
                        }
                    })
                })), 0)
            }
        }, {
            key: "render",
            value: function() {
                var e, t, n = this,
                    r = this.props,
                    o = r.className,
                    i = r.options,
                    a = r.noInput,
                    s = r.title,
                    u = this.state,
                    c = u.optionsVisible,
                    l = u.value,
                    p = !!i && i.filter((function(e) {
                        return e.value === l
                    }))[0],
                    f = p ? p.label : l;
                return wp(1, "div", [o || "", "dms-input-select"].join(" "), [a ? wp(1, "div", "dms-input", f, 0, {
                    tabindex: "0",
                    onKeyDown: this.onKeyDown
                }, null, (function(e) {
                    return n.inputNode = e
                })) : wp(64, "input", "dms-input", null, 1, {
                    onInput: this.onInput,
                    onKeyDown: this.onKeyDown,
                    spellcheck: "false",
                    type: "text",
                    value: l
                }, null, (function(e) {
                    return n.inputNode = e
                })), wp(1, "span", ["dms-input-select-icon", c ? "dmn-icon-up" : "dmn-icon-down"].join(" ")), c && (e = this.renderOptions(i, p), t = this._portalEl, wp(1024, t, null, e, 0, null, dp(e) ? null : e.key, null))], 0, {
                    title: s,
                    onClick: this.onInputClick
                }, null, (function(e) {
                    return n.parentNode = e
                }))
            }
        }]) && _b(n.prototype, r), o && _b(n, o), t
    }(Lf);

    function Sb(e) {
        e.stopPropagation()
    }

    function jb(e) {
        return (jb = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function kb(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Pb(e, t) {
        return !t || "object" !== jb(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function Tb(e) {
        return (Tb = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Db(e, t) {
        return (Db = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    Ob.$inject = ["keyboard", "renderer"];
    var Rb = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = Pb(this, Tb(t).call(this, e, n))).translate = n.injector ? n.injector.get("translate") : Ab;
            var o = e.defaultExpressionLanguage.value;
            return r.setExpressionLanguage = function(e) {
                r.handleChange({
                    expressionLanguage: e
                })
            }, r.handleValue = function(e) {
                var t = r.props.expressionLanguage,
                    n = {
                        text: e
                    };
                Mb(e) && !t && (n.expressionLanguage = o), Mb(e) || t !== o || (n.expressionLanguage = void 0), r.handleChange(n)
            }, r.handleLanguageChange = function(e) {
                r.setExpressionLanguage(e)
            }, r.handleLabelChange = function(e) {
                var t = e || void 0;
                r.handleChange({
                    label: t
                })
            }, r.handleInputVariableChange = function(e) {
                var t = e || void 0;
                r.handleChange({
                    inputVariable: t
                })
            }, r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Db(e, t)
        }(t, e), n = t, (r = [{
            key: "handleChange",
            value: function(e) {
                var t = this.props.onChange;
                "function" == typeof t && t(e)
            }
        }, {
            key: "render",
            value: function() {
                var e = this.props,
                    t = e.expressionLanguage,
                    n = e.expressionLanguages,
                    r = e.inputVariable,
                    o = e.label,
                    i = e.text;
                return wp(1, "div", "context-menu-container ref-input-editor input-edit", [wp(1, "div", "dms-form-control", xp(2, xv, {
                    className: "dms-input-label",
                    value: o || "",
                    singleLine: !0,
                    onInput: this.handleLabelChange
                }), 2), wp(1, "div", "dms-form-control", [wp(1, "label", "dms-label", this.translate("Expression"), 0), xp(2, xv, {
                    placeholder: "enter expression",
                    className: ["ref-text", "dms-input"].join(" "),
                    onInput: this.handleValue,
                    value: i || ""
                })], 4), wp(1, "div", "dms-form-control", [wp(1, "label", "dms-label", this.translate("Expression Language"), 0), xp(2, Ob, {
                    className: "ref-language",
                    value: t || "",
                    onChange: this.handleLanguageChange,
                    options: n
                })], 4), wp(1, "div", "dms-form-control", [wp(1, "label", "dms-label", this.translate("Input Variable"), 0), xp(2, Kg, {
                    className: "ref-input-variable",
                    value: r || "",
                    onInput: this.handleInputVariableChange,
                    placeholder: this.translate("cellInput")
                })], 4)], 4)
            }
        }]) && kb(n.prototype, r), o && kb(n, o), t
    }(Lf);

    function Mb(e) {
        return e && e.split(/\n/).length > 1
    }

    function Ab(e) {
        return e
    }

    function Nb(e) {
        return (Nb = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Ib(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(e);
            t && (r = r.filter((function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, r)
        }
        return n
    }

    function Lb(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? Ib(n, !0).forEach((function(t) {
                qb(e, t, n[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Ib(n).forEach((function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            }))
        }
        return e
    }

    function Bb(e, t) {
        if (null == e) return {};
        var n, r, o = function(e, t) {
            if (null == e) return {};
            var n, r, o = {},
                i = Object.keys(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || (o[n] = e[n]);
            return o
        }(e, t);
        if (Object.getOwnPropertySymbols) {
            var i = Object.getOwnPropertySymbols(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
        }
        return o
    }

    function $b(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Vb(e) {
        return (Vb = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function zb(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Fb(e, t) {
        return (Fb = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function qb(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var Hb = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== Nb(t) && "function" != typeof t ? zb(e) : t
            }(this, Vb(t).call(this, e, n)), qb(zb(r), "persistChanges", (function() {
                var e = r.props.context.input,
                    t = r.state.unsaved;
                if (t) {
                    var n, o = t.inputVariable,
                        i = t.label,
                        a = Bb(t, ["inputVariable", "label"]),
                        s = {};
                    "inputVariable" in t && (s.inputVariable = o), "label" in t && (s.label = i), n = a, Object.keys(n).length && (s.inputExpression = a), r.modeling.updateProperties(e, s), r.setState({
                        unsaved: !1
                    })
                }
            })), qb(zb(r), "handleChange", (function(e) {
                r.setState({
                    unsaved: Lb({}, r.state.unsaved, {}, e)
                }, r.persistChanges)
            })), r.state = {}, sd(zb(r)), r.persistChanges = r.debounceInput(r.persistChanges), r._expressionLanguages = n.injector.get("expressionLanguages"), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Fb(e, t)
        }(t, e), n = t, (r = [{
            key: "getValue",
            value: function(e) {
                var t = this.props.context.input,
                    n = this.state.unsaved,
                    r = t;
                return "expressionLanguage" !== e && "text" !== e || (r = r.inputExpression), n && e in n ? n[e] : r.get(e)
            }
        }, {
            key: "render",
            value: function() {
                var e = this._expressionLanguages.getDefault("inputHeadCell"),
                    t = this._expressionLanguages.getAll();
                return xp(2, Rb, {
                    expressionLanguage: this.getValue("expressionLanguage") || e.value,
                    expressionLanguages: t,
                    defaultExpressionLanguage: e,
                    inputVariable: this.getValue("inputVariable"),
                    label: this.getValue("label"),
                    text: this.getValue("text"),
                    onChange: this.handleChange
                })
            }
        }]) && $b(n.prototype, r), o && $b(n, o), t
    }(Lf);
    Hb.$inject = ["debounceInput", "modeling", "injector"];
    var Ub = function e(t, n, r, o) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("cell", (function(e) {
            if ("input-header" === e.cellType) return gb
        })), t.onGetComponent("context-menu", (function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if ("input-edit" === e.contextMenuType) return Hb
        })), r.on("input.edit", (function(e) {
            var t = e.event,
                r = e.input,
                o = pt(t.target, "th", !0).getBoundingClientRect(),
                i = o.left,
                a = o.top;
            n.open({
                x: i,
                y: a,
                align: "bottom-right"
            }, {
                contextMenuType: "input-edit",
                input: r
            })
        }))
    };

    function Wb(e) {
        return (Wb = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Gb(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Kb(e) {
        return (Kb = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Xb(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Yb(e, t) {
        return (Yb = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    Ub.$inject = ["components", "contextMenu", "eventBus", "renderer"];
    var Jb = ["string", "boolean", "integer", "long", "double", "date"],
        Zb = function(e) {
            function t(e, n) {
                var r;
                return function(e, t) {
                        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                    }(this, t), r = function(e, t) {
                        return !t || "object" !== Wb(t) && "function" != typeof t ? Xb(e) : t
                    }(this, Kb(t).call(this, e)),
                    function(e, t, n) {
                        t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n
                    }(Xb(r), "onTypeChange", (function(e) {
                        var t, n = r.getElement(),
                            o = Vt(n, "dmn:LiteralExpression") ? n.$parent : n;
                        zt(o) ? t = {
                            inputExpression: {
                                typeRef: e
                            }
                        } : Ft(o) && (t = {
                            typeRef: e
                        }), r._modeling.updateProperties(o, t)
                    })), r._translate = n.injector.get("translate"), r._modeling = n.injector.get("modeling"), r
            }
            var n, r, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        writable: !0,
                        configurable: !0
                    }
                }), t && Yb(e, t)
            }(t, e), n = t, (r = [{
                key: "getElement",
                value: function() {
                    return this.props.context.input || this.props.context.output
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.getElement(),
                        t = (Vt(e, "dmn:InputClause") ? e.inputExpression : e).typeRef,
                        n = Jb.map((function(e) {
                            return {
                                label: e,
                                value: e
                            }
                        }));
                    return wp(1, "div", "type-ref-edit context-menu-container", wp(1, "div", "dms-form-control", [wp(1, "label", "dms-label", [this._translate("Type"), Ep(":")], 0), xp(2, Ob, {
                        className: "type-ref-edit-select",
                        onChange: this.onTypeChange,
                        options: n,
                        value: t
                    })], 4), 2)
                }
            }]) && Gb(n.prototype, r), o && Gb(n, o), t
        }(Lf);
    var Qb = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("context-menu", 750, (function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = e.contextMenuType;
            if ("input-edit" === t || "output-edit" === t) return Zb
        }))
    };
    Qb.$inject = ["components"];
    var e_ = {
        __depends__: [ug],
        __init__: ["typeRefEditingProvider"],
        typeRefEditingProvider: ["type", Qb]
    };

    function t_(e) {
        return (t_ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function n_(e, t) {
        return !t || "object" !== t_(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function r_(e) {
        return (r_ = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function o_(e, t) {
        return (o_ = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var i_ = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = n_(this, r_(t).call(this, e))).postExecuted("element.updateProperties", (function(e) {
                var t = e.context,
                    r = t.element,
                    o = t.properties,
                    i = zt(r) ? o.inputExpression : o;
                if (i && i.typeRef && "string" !== i.typeRef) {
                    var a = Vt(r, "dmn:LiteralExpression") ? r.$parent : r;
                    n.editAllowedValues(a, null)
                }
            })), r
        }
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && o_(e, t)
        }(t, e), t
    }(Vs);

    function a_(e) {
        return (a_ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function s_(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function u_(e) {
        return (u_ = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function c_(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function l_(e, t) {
        return (l_ = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function p_(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    i_.$inject = ["eventBus", "modeling"];
    var f_ = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== a_(t) && "function" != typeof t ? c_(e) : t
            }(this, u_(t).call(this, e, n)), p_(c_(r), "getRemoveClickHandler", (function(e) {
                return function(t) {
                    t.stopPropagation(), r.removeItem(e)
                }
            })), p_(c_(r), "getToggleClickHandler", (function(e) {
                return function(t) {
                    t.stopPropagation(), r.toggleItem(e)
                }
            })), p_(c_(r), "removeItem", (function(e) {
                var t = r.props.onChange,
                    n = r.state.items.filter((function(t) {
                        return t !== e
                    }));
                r.setState({
                    items: n
                }), t && t(n)
            })), p_(c_(r), "toggleItem", (function(e) {
                var t = r.props,
                    n = t.onChange,
                    o = t.type,
                    i = r.state.items.map((function(t) {
                        return t === e ? t.isChecked = !t.isChecked : "radio" === o && (t.isChecked = !1), t
                    }));
                r.setState({
                    items: i
                }), n && n(i)
            }));
            var o = e.items;
            return r.state = {
                items: o
            }, r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && l_(e, t)
        }(t, e), n = t, (r = [{
            key: "componentWillReceiveProps",
            value: function(e) {
                var t = e.items;
                this.setState({
                    items: t
                })
            }
        }, {
            key: "render",
            value: function() {
                var e = this,
                    t = this.props,
                    n = t.className,
                    r = t.items,
                    o = t.type,
                    i = t.labelComponent,
                    a = ["dms-list-component"];
                n && a.push(n);
                var s = function(e) {
                    var t = [];
                    for (var n in e) t.push([n, e[n]]);
                    return t
                }(O(r, "group"));
                return wp(1, "div", a.join(" "), s.map((function(t) {
                    var n = t[0],
                        r = t[1];
                    return wp(1, "div", "group", [i && i(n) || wp(1, "h4", "dms-heading", n, 0), wp(1, "ul", "items no-wrap", r.map((function(t) {
                        return wp(1, "li", "item", [o && wp(64, "input", "item-toggle", null, 1, {
                            type: o,
                            checked: t.isChecked,
                            onClick: e.getToggleClickHandler(t)
                        }), Ep(" "), t.value, t.isRemovable && wp(1, "span", "remove dmn-icon-clear", null, 1, {
                            title: "Remove item",
                            onClick: e.getRemoveClickHandler(t)
                        })], 0)
                    })), 0)], 0)
                })), 0)
            }
        }]) && s_(n.prototype, r), o && s_(n, o), t
    }(Lf);

    function d_(e) {
        return (d_ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function h_(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function y_(e) {
        return (y_ = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function m_(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function v_(e, t) {
        return (v_ = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var g_ = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== d_(t) && "function" != typeof t ? m_(e) : t
            }(this, y_(t).call(this, e, n));
            var o = e.validate,
                i = e.value,
                a = o ? o(i || "") : void 0;
            return r.state = {
                validationWarning: a,
                value: i
            }, r.onInput = r.onInput.bind(m_(r)), r.onKeyDown = r.onKeyDown.bind(m_(r)), r.onKeyUp = r.onKeyUp.bind(m_(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && v_(e, t)
        }(t, e), n = t, (r = [{
            key: "componentWillReceiveProps",
            value: function(e) {
                var t = e.validate,
                    n = e.value,
                    r = t ? t(n || "") : void 0;
                this.setState({
                    validationWarning: r,
                    value: n
                })
            }
        }, {
            key: "onInput",
            value: function(e) {
                var t = this.props,
                    n = t.onInput,
                    r = t.validate,
                    o = r ? r(e) : void 0;
                this.setState({
                    validationWarning: o,
                    value: e
                }), "function" == typeof n && n && n({
                    isValid: !o,
                    value: e
                })
            }
        }, {
            key: "onKeyDown",
            value: function(e) {
                var t = e.target.value,
                    n = this.props,
                    r = n.onKeyDown,
                    o = n.validate,
                    i = o ? o(t) : void 0;
                "function" == typeof r && r({
                    isValid: !i,
                    value: t,
                    event: e
                })
            }
        }, {
            key: "onKeyUp",
            value: function(e) {
                var t = e.target.value,
                    n = this.props,
                    r = n.onKeyUp,
                    o = n.validate,
                    i = o ? o(t) : void 0;
                "function" == typeof r && r({
                    isValid: !i,
                    value: t,
                    event: e
                })
            }
        }, {
            key: "render",
            value: function() {
                var e = this.props,
                    t = e.placeholder,
                    n = e.type,
                    r = e.className,
                    o = this.state,
                    i = o.validationWarning,
                    a = o.value,
                    s = ["dms-validated-input", r].join(" "),
                    u = [];
                return i && u.push("invalid"), wp(1, "div", s, [xp(2, Kg, {
                    className: u,
                    onInput: this.onInput,
                    onKeyDown: this.onKeyDown,
                    onKeyUp: this.onKeyUp,
                    placeholder: t || "",
                    type: n,
                    value: a || ""
                }), i && wp(1, "p", "dms-hint dms-validation-warning", i, 0)], 0)
            }
        }]) && h_(n.prototype, r), o && h_(n, o), t
    }(Lf);

    function b_(e) {
        if (!e || function(e) {
                return "" === e
            }(e.trim())) return {
            values: []
        };
        var t = e.split(","),
            n = {
                values: []
            },
            r = "";
        return t.forEach((function(e) {
            /^"[^"]*"$/.test((r += e).trim()) ? (n.values.push(r.trim()), r = "") : r += ","
        })), r ? void 0 : n
    }

    function __(e) {
        return (__ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function w_(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function x_(e) {
        return (x_ = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function E_(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function C_(e, t) {
        return (C_ = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function O_(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var S_ = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== __(t) && "function" != typeof t ? E_(e) : t
            }(this, x_(t).call(this, e, n)), O_(E_(r), "onElementsChanged", (function() {
                r.forceUpdate()
            })), O_(E_(r), "setPredefinedValues", (function(e) {
                var t = r.getAllowedValuesTarget();
                r.setState({
                    values: e
                }), r._modeling.editAllowedValues(t, e && function(e) {
                    return e.map((function(e) {
                        return e.value
                    }))
                }(e))
            })), O_(E_(r), "onListChange", (function(e) {
                r.setPredefinedValues(e)
            })), O_(E_(r), "onInput", (function(e) {
                e.isValid;
                var t = e.value;
                r.setState({
                    inputValue: t
                })
            })), O_(E_(r), "onKeyDown", (function(e) {
                var t = e.isValid,
                    n = e.event;
                if (13 === n.keyCode && (n.stopPropagation(), n.preventDefault(), t)) {
                    var o = r.state,
                        i = o.inputValue,
                        a = o.values,
                        s = b_(i);
                    r.onListChange((a || []).concat(s.values.map((function(e) {
                        return {
                            value: e,
                            isCheckable: !1,
                            isRemovable: !0,
                            group: "Predefined Values"
                        }
                    })))), r.setState({
                        inputValue: ""
                    })
                }
            })), O_(E_(r), "handleRemovePredifinedValuesClick", (function(e) {
                e.stopPropagation(), r.removePredefinedValues()
            })), O_(E_(r), "removePredefinedValues", (function() {
                r.setPredefinedValues(null)
            })), r._translate = n.injector.get("translate"), r._modeling = n.injector.get("modeling"), r._changeSupport = n.changeSupport;
            var o = r.getAllowedValuesTarget(),
                i = b_(o.inputValues && o.inputValues.text || o.outputValues && o.outputValues.text || "");
            return r.state = i ? {
                values: i.values.map((function(e) {
                    return {
                        value: e,
                        isCheckable: !1,
                        isRemovable: !0,
                        group: "Predefined Values"
                    }
                })),
                inputValue: ""
            } : {
                values: null,
                inputValue: ""
            }, r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && C_(e, t)
        }(t, e), n = t, (r = [{
            key: "componentWillMount",
            value: function() {
                var e = this.getAllowedValuesTarget();
                this._changeSupport.onElementsChanged(e.id, this.onElementsChanged)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                var e = this.getAllowedValuesTarget();
                this._changeSupport.offElementsChanged(e.id, this.onElementsChanged)
            }
        }, {
            key: "getAllowedValuesTarget",
            value: function() {
                var e = this.getElement();
                return Vt(e, "dmn:LiteralExpression") ? e.$parent : e
            }
        }, {
            key: "getElement",
            value: function() {
                return this.props.context.output || this.props.context.input.inputExpression
            }
        }, {
            key: "render",
            value: function() {
                var e = this,
                    t = this.getElement(),
                    n = this.state,
                    r = n.inputValue,
                    o = n.values;
                return "string" === t.typeRef ? wp(1, "div", "context-menu-container allowed-values-edit", wp(1, "div", "dms-form-control", [!k_(o) && o.length > 0 && xp(2, f_, {
                    labelComponent: j_,
                    items: o,
                    onChange: this.onListChange
                }), !k_(o) && !o.length && wp(1, "div", null, [wp(1, "label", "dms-label", this._translate("Predefined Values"), 0), wp(1, "span", "placeholder", this._translate("No values"), 0)], 4), !k_(o) && wp(1, "p", "dms-hint", wp(1, "button", "del-values", this._translate("Clear predefined values."), 0, {
                    type: "button",
                    onClick: this.handleRemovePredifinedValuesClick
                }), 2), wp(1, "label", "dms-label", this._translate("Add Predefined Values"), 0), xp(2, g_, {
                    onInput: this.onInput,
                    onKeyDown: this.onKeyDown,
                    placeholder: '"value", "value", ...',
                    type: "text",
                    validate: function(t) {
                        if (!b_(t)) return e._translate("Strings must be in double quotes.")
                    },
                    value: r
                })], 0), 2) : null
            }
        }]) && w_(n.prototype, r), o && w_(n, o), t
    }(Lf);

    function j_(e) {
        return wp(1, "label", "dms-label", e, 0)
    }

    function k_(e) {
        return null === e
    }
    var P_ = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("context-menu", 500, (function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = e.contextMenuType;
            if ("input-edit" === t || "output-edit" === t) return S_
        }))
    };
    P_.$inject = ["components"];
    var T_ = {
        __init__: ["allowedValuesUpdateBehavior", "allowedValuesEditingProvider"],
        allowedValuesUpdateBehavior: ["type", i_],
        allowedValuesEditingProvider: ["type", P_]
    };

    function D_(e) {
        return (D_ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function R_(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function M_(e) {
        return (M_ = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function A_(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function N_(e, t) {
        return (N_ = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function I_(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var L_ = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== D_(t) && "function" != typeof t ? A_(e) : t
            }(this, M_(t).call(this, e, n)), I_(A_(r), "onElementsChanged", (function() {
                r.forceUpdate()
            })), I_(A_(r), "handleClick", (function(e) {
                e.stopPropagation(), r.add()
            })), I_(A_(r), "add", (function() {
                r._eventBus.fire("addInput")
            })), r._sheet = n.injector.get("sheet"), r._eventBus = n.injector.get("eventBus"), r._changeSupport = n.changeSupport, r._translate = n.injector.get("translate"), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && N_(e, t)
        }(t, e), n = t, (r = [{
            key: "componentWillMount",
            value: function() {
                var e = this.getRoot();
                this._changeSupport.onElementsChanged(e.id, this.onElementsChanged)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                var e = this.getRoot();
                this._changeSupport.offElementsChanged(e.id, this.onElementsChanged)
            }
        }, {
            key: "getRoot",
            value: function() {
                return this._sheet.getRoot()
            }
        }, {
            key: "render",
            value: function() {
                return wp(1, "div", "add-input actionable", wp(1, "span", "dmn-icon-plus action-icon"), 2, {
                    onClick: this.handleClick,
                    title: this._translate("Add Input")
                })
            }
        }]) && R_(n.prototype, r), o && R_(n, o), t
    }(Lf);

    function B_(e) {
        return (B_ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function $_(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function V_(e) {
        return (V_ = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function z_(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function F_(e, t) {
        return (F_ = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function q_(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var H_ = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== B_(t) && "function" != typeof t ? z_(e) : t
            }(this, V_(t).call(this, e, n)), q_(z_(r), "onElementsChanged", (function() {
                r.forceUpdate()
            })), q_(z_(r), "handleClick", (function(e) {
                e.stopPropagation(), r.add()
            })), q_(z_(r), "add", (function() {
                r._eventBus.fire("addOutput")
            })), r._sheet = n.injector.get("sheet"), r._eventBus = n.injector.get("eventBus"), r._changeSupport = n.changeSupport, r._translate = n.injector.get("translate"), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && F_(e, t)
        }(t, e), n = t, (r = [{
            key: "componentWillMount",
            value: function() {
                var e = this.getRoot();
                this._changeSupport.onElementsChanged(e.id, this.onElementsChanged)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                var e = this.getRoot();
                this._changeSupport.offElementsChanged(e.id, this.onElementsChanged)
            }
        }, {
            key: "getRoot",
            value: function() {
                return this._sheet.getRoot()
            }
        }, {
            key: "render",
            value: function() {
                return wp(1, "div", "add-output actionable", wp(1, "span", "dmn-icon-plus action-icon"), 2, {
                    onClick: this.handleClick,
                    title: this._translate("Add Output")
                })
            }
        }]) && $_(n.prototype, r), o && $_(n, o), t
    }(Lf);

    function U_(e, t, n) {
        e.onGetComponent("cell-inner", (function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = e.cellType,
                n = e.index,
                r = e.inputsLength,
                o = e.outputsLength;
            return "input-cell" === t && n === r - 1 ? L_ : "output-cell" === t && n === o - 1 ? H_ : void 0
        })), n.on("addInput", (function() {
            t.trigger("addInput")
        })), n.on("addOutput", (function() {
            t.trigger("addOutput")
        }))
    }
    U_.$inject = ["components", "editorActions", "eventBus"];
    var W_ = {
        __depends__: [lv],
        __init__: ["addInputOutputProvider"],
        addInputOutputProvider: ["type", U_]
    };

    function G_(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function K_(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var X_ = function() {
        function e(t, n, r, o) {
            var i = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), K_(this, "_init", (function() {
                i._registerDefaultBindings(), i._fire("init")
            })), K_(this, "_destroy", (function() {
                i._fire("destroy"), i.unbind(), i._listeners = null
            })), K_(this, "_keyHandler", (function(e) {
                var t, n, r = i._listeners,
                    o = e.keyCode || e.charCode || -1;
                for (t = 0; n = r[t]; t++)
                    if (n(o, e)) return e.preventDefault(), void e.stopPropagation()
            })), K_(this, "unbind", (function() {
                var e = i._node;
                e && (i._fire("unbind"), yt.unbind(e, "keydown", i._keyHandler, !0)), i._node = null
            })), this._config = t || {}, this._editorActions = r, this._eventBus = n, this._cellSelection = o, this._listeners = [], n.on("table.destroy", this._destroy), n.on("table.init", this._init), n.on("attach", (function() {
                i._config.bindTo && i.bind(t.bindTo)
            })), n.on("detach", this.unbind)
        }
        var t, n, r;
        return t = e, (n = [{
            key: "bind",
            value: function(e) {
                this.unbind(), this._node = e, yt.bind(e, "keydown", this._keyHandler, !0), this._fire("bind")
            }
        }, {
            key: "getBinding",
            value: function() {
                return this._node
            }
        }, {
            key: "_fire",
            value: function(e) {
                this._eventBus.fire("keyboard." + e, {
                    node: this._node,
                    listeners: this._listeners
                })
            }
        }, {
            key: "_registerDefaultBindings",
            value: function() {
                var e = this._listeners,
                    t = this._editorActions,
                    n = this._cellSelection;
                e.push((function(e, n) {
                    if (cg(n) && !lg(n) && 90 === e) return t.trigger("undo"), !0
                })), e.push((function(e, n) {
                    if (cg(n) && (89 === e || 90 === e && lg(n))) return t.trigger("redo"), !0
                })), e.push((function(e, n) {
                    if (13 === e && !cg(n) && lg(n) && Om(n.target)) return t.trigger("selectCellAbove"), !0
                })), e.push((function(e, r) {
                    if (13 === e && !cg(r) && !lg(r) && Om(r.target)) {
                        var o = t.trigger("selectCellBelow"),
                            i = n.getCellSelection();
                        if (!o && i && "__decisionProperties_name" !== i) {
                            var a = t.trigger("addRule");
                            return t.trigger("selectCellBelow"), a
                        }
                        return !0
                    }
                }))
            }
        }, {
            key: "addListener",
            value: function(e) {
                this._listeners.unshift(e)
            }
        }, {
            key: "removeListener",
            value: function(e) {
                this._listeners = this._listeners.filter((function(t) {
                    return t !== e
                }))
            }
        }]) && G_(t.prototype, n), r && G_(t, r), e
    }();
    X_.$inject = ["config.keyboard", "eventBus", "editorActions", "cellSelection"];
    var Y_ = {
            __depends__: [lv],
            __init__: ["keyboard"],
            keyboard: ["type", X_]
        },
        J_ = {
            __depends__: [W_, T_, ug, Uv, Ah, Y_, e_],
            __init__: ["inputEditingProvider", "outputEditingProvider"],
            inputEditingProvider: ["type", Ub],
            outputEditingProvider: ["type", pb]
        };

    function Z_(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Q_(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var ew = function() {
        function e(t, n, r, o) {
            var i = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), Q_(this, "handleDragOver", (function(e) {
                tw(e);
                var t = pt(e.target, ".dmn-decision-table-container td,\n   .dmn-decision-table-container th", !0),
                    n = !!t,
                    r = i._dragContext.hoverEl;
                r && r !== t && (i._emit("dragAndDrop.dragLeave", e), i._dragContext.targetEl = null, i._dragContext.hoverEl = null), t && (t !== r && (i._dragContext.hoverEl = t, !1 !== (n = i._emit("dragAndDrop.dragEnter", e)) && (i._dragContext.targetEl = t)), n = i._emit("dragAndDrop.dragOver", e)), e.dataTransfer.dropEffect = !1 !== n ? "move" : "none"
            })), Q_(this, "handleDrop", (function(e) {
                tw(e);
                var t = i._emit("dragAndDrop.drop", e);
                if (t) {
                    var n = i._dragContext.draggedElement;
                    if (n instanceof Kl) {
                        var r = i._sheet.getRoot().rows.indexOf(t);
                        i._modeling.moveRow(n, r)
                    } else if (n instanceof Xl) {
                        var o = i._sheet.getRoot().cols.indexOf(t);
                        i._modeling.moveCol(n, o)
                    }
                }
                i.handleDragEnd(e)
            })), Q_(this, "handleDragEnd", (function(e) {
                tw(e), i._unbindListeners(), i._emit("dragAndDrop.dragEnd", e), i._dragContext = null
            })), this._eventBus = t, this._renderer = n, this._modeling = r, this._sheet = o, this._dragContext = null, t.on("table.destroy", (function() {
                i._unbindListeners()
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "_bindListeners",
            value: function() {
                yt.bind(document, "dragover", this.handleDragOver), yt.bind(document, "drop", this.handleDrop), yt.bind(document, "dragend", this.handleDragEnd)
            }
        }, {
            key: "_unbindListeners",
            value: function() {
                yt.unbind(document, "dragover", this.handleDragOver), yt.unbind(document, "drop", this.handleDrop), yt.unbind(document, "dragend", this.handleDragEnd)
            }
        }, {
            key: "_emit",
            value: function(e, t) {
                return this._eventBus.fire(e, {
                    dragContext: this._dragContext,
                    originalEvent: t
                })
            }
        }, {
            key: "startDrag",
            value: function(e, t) {
                tw(t, !0), t.dataTransfer.effectAllowed = "move", t.dataTransfer.setData && t.dataTransfer.setData("text", "__DUMMY"), this._dragContext = {
                    draggedElement: e
                }, this._bindListeners(), this._emit("dragAndDrop.dragStart", t)
            }
        }]) && Z_(t.prototype, n), r && Z_(t, r), e
    }();

    function tw(e, t) {
        e.stopPropagation(), !0 !== t && e.preventDefault()
    }
    ew.$inject = ["eventBus", "renderer", "modeling", "sheet"];
    var nw = {
        __init__: ["dragAndDrop"],
        dragAndDrop: ["type", ew]
    };

    function rw(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var ow = function() {
        function e(t, n, r, o, i, a, s) {
            var u, c, l, p = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), l = function() {
                var e = p._renderer.getContainer();
                sw(e),
                    function(e) {
                        v(Et(".dragged", e), (function(e) {
                            lw(e) && it(e).remove("dragged")
                        }))
                    }(e), p._dragImage && (Ct(p._dragImage), p._dragImage = null)
            }, (c = "_cleanup") in (u = this) ? Object.defineProperty(u, c, {
                value: l,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : u[c] = l, this._elementRegistry = n, this._dragAndDrop = o, this._renderer = i, this._rules = a, this._sheet = s, t.onGetComponent("cell-inner", (function(e) {
                var t = e.cellType,
                    n = e.col,
                    r = e.row;
                if ("rule-index" === t) return function() {
                    return wp(1, "span", "dmn-icon-drag vertical", Ep(" "), 2, {
                        draggable: "true",
                        onDragStart: function(e) {
                            return p.startDrag(r, e)
                        },
                        title: "Move rule"
                    })
                };
                if ("input-cell" === t || "output-cell" === t) {
                    var o = "Move ".concat(zt(n) ? "Input" : "Output");
                    return function() {
                        return wp(1, "span", "dmn-icon-drag horizontal", null, 1, {
                            draggable: "true",
                            onDragStart: function(e) {
                                return p.startDrag(n, e)
                            },
                            title: o
                        })
                    }
                }
            })), r.on("dragAndDrop.dragEnter", (function(e) {
                var t = e.dragContext,
                    n = t.draggedElement,
                    r = t.hoverEl;
                if (n instanceof Kl) return !0;
                if (n instanceof Xl) {
                    var o = function(e, t, n) {
                        var r = t.get(e.dataset.colId);
                        if (!r) return -1;
                        return n.getRoot().cols.indexOf(r)
                    }(r, p._elementRegistry, p._sheet);
                    return -1 !== o && p._rules.allowed("col.move", {
                        col: n,
                        index: o
                    })
                }
                return !1
            })), r.on("dragAndDrop.dragLeave", (function(e) {
                e.dragContext.targetEl && sw(p._renderer.getContainer())
            })), r.on("dragAndDrop.dragOver", (function(e) {
                var t, n = e.dragContext,
                    r = e.originalEvent,
                    o = n.draggedElement,
                    i = n.lastPosition,
                    a = n.targetEl,
                    s = p._renderer.getContainer();
                return !!a && (o instanceof Kl && (t = cw(r, a)), o instanceof Xl && (t = uw(r, a)), i === t || (sw(s), o instanceof Kl && iw(a, s, "top" === t ? "top" : "bottom"), o instanceof Xl && aw(a, s, "left" === t ? "left" : "right"), n.lastPosition = t), !0)
            })), r.on("dragAndDrop.drop", (function(e) {
                var t = e.dragContext,
                    n = e.originalEvent,
                    r = t.draggedElement,
                    o = t.targetEl;
                if (!o) return !1;
                if (r instanceof Kl) {
                    var i = cw(n, o),
                        a = o.dataset.rowId,
                        s = p._elementRegistry.get(a);
                    if (!s || s === r) return;
                    var u = function(e, t, n, r) {
                        r.indexOf(e) > r.indexOf(t) && (t = function(e, t) {
                            var n = t.indexOf(e);
                            return t[Math.min(t.length - 1, n + 1)]
                        }(t, r));
                        return "top" === n ? function(e, t) {
                            var n = t.indexOf(e);
                            return t[Math.max(0, n - 1)]
                        }(t, r) : t
                    }(r, s, i, p._sheet.getRoot().rows);
                    if (u === r) return;
                    return u
                }
                if (r instanceof Xl) {
                    var c = uw(n, o),
                        l = o.dataset.colId,
                        f = p._elementRegistry.get(l);
                    if (!f || f === r) return;
                    var d = function(e, t, n, r) {
                        r.indexOf(e) > r.indexOf(t) && (t = function(e, t) {
                            var n = t.indexOf(e);
                            if (zt(e)) {
                                var r = t.filter((function(e) {
                                        return zt(e)
                                    })),
                                    o = r[r.length - 1],
                                    i = t.indexOf(o);
                                return t[Math.min(i, n + 1)]
                            }
                            return t[Math.min(t.length - 1, n + 1)]
                        }(t, r));
                        return "left" === n ? function(e, t) {
                            var n = t.indexOf(e);
                            if (Ft(e)) {
                                var r = t.filter((function(e) {
                                        return Ft(e)
                                    }))[0],
                                    o = t.indexOf(r);
                                return t[Math.max(o, n - 1)]
                            }
                            return t[Math.max(0, n - 1)]
                        }(t, r) : t
                    }(r, f, c, p._sheet.getRoot().cols);
                    if (d === r) return;
                    return d
                }
            })), r.on("dragAndDrop.dragEnd", this._cleanup)
        }
        var t, n, r;
        return t = e, (n = [{
            key: "startDrag",
            value: function(e, t) {
                var n = this._renderer.getContainer();
                this._dragImage = bt('<span style="\n          visibility: hidden;\n          position: fixed;\n          top: -10000px\n      "></span>'), document.body.appendChild(this._dragImage), t.dataTransfer.setDragImage && t.dataTransfer.setDragImage(this._dragImage, 0, 0), e instanceof Kl ? function(e, t) {
                    v(Et("[data-row-id=".concat(e.id, "]"), t), (function(e) {
                        lw(e) && it(e).add("dragged")
                    }))
                }(e, n) : e instanceof Xl && function(e, t) {
                    v(Et("[data-col-id=".concat(e.id, "]"), t), (function(e) {
                        lw(e) && it(e).add("dragged")
                    }))
                }(e, n), this._dragAndDrop.startDrag(e, t)
            }
        }]) && rw(t.prototype, n), r && rw(t, r), e
    }();

    function iw(e, t, n) {
        var r = e.dataset.rowId;
        r && v(Et("[data-row-id=".concat(r, "]"), t), (function(e) {
            lw(e) && (it(e).add("dragover"), it(e).add(n))
        }))
    }

    function aw(e, t, n) {
        var r = e.dataset.colId;
        r && v(Et("[data-col-id=".concat(r, "]"), t), (function(e) {
            lw(e) && (it(e).add("dragover"), it(e).add(n))
        }))
    }

    function sw(e) {
        v(Et(".dragover", e), (function(e) {
            lw(e) && (it(e).remove("dragover"), it(e).remove("top"), it(e).remove("right"), it(e).remove("bottom"), it(e).remove("left"))
        }))
    }

    function uw(e, t) {
        var n = t.getBoundingClientRect();
        return e.clientX < n.left + n.width / 2 ? "left" : "right"
    }

    function cw(e, t) {
        var n = t.getBoundingClientRect();
        return e.clientY < n.top + n.height / 2 ? "top" : "bottom"
    }

    function lw(e) {
        return e && (1 === e.nodeType || 11 == e.nodeType)
    }
    ow.$inject = ["components", "elementRegistry", "eventBus", "dragAndDrop", "renderer", "rules", "sheet"];
    var pw = {
        __depends__: [nw, Bm],
        __init__: ["dmnDragAndDrop"],
        dmnDragAndDrop: ["type", ow]
    };

    function fw(e) {
        return (fw = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function dw(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function hw(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function yw(e, t, n) {
        return t && hw(e.prototype, t), n && hw(e, n), e
    }

    function mw(e, t) {
        return !t || "object" !== fw(t) && "function" != typeof t ? gw(e) : t
    }

    function vw(e) {
        return (vw = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function gw(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function bw(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                writable: !0,
                configurable: !0
            }
        }), t && _w(e, t)
    }

    function _w(e, t) {
        return (_w = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function ww(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var xw = function(e) {
            function t(e, n) {
                var r;
                dw(this, t), ww(gw(r = mw(this, vw(t).call(this, e, n))), "onElementsChanged", (function() {
                    r.forceUpdate()
                })), ww(gw(r), "changeDescription", (function(e) {
                    r._modeling.updateProperties(r._element, {
                        description: e
                    })
                })), r._elementRegistry = n.injector.get("elementRegistry"), r._modeling = n.injector.get("modeling"), r._changeSupport = r.context.changeSupport;
                var o = r.props.context.id;
                return r._element = r._elementRegistry.get(o), r
            }
            return bw(t, e), yw(t, [{
                key: "componentWillMount",
                value: function() {
                    this._element && this._changeSupport.onElementsChanged(this._element.id, this.onElementsChanged)
                }
            }, {
                key: "componentDidMount",
                value: function() {
                    this.props.context.autoFocus && this.node && xt(".content-editable", this.node).focus()
                }
            }, {
                key: "componentWillUnmount",
                value: function() {
                    if (this._element) {
                        this._changeSupport.offElementsChanged(this._element.id, this.onElementsChanged);
                        var e = this._element.businessObject.description;
                        d(e) && !e.length && this.changeDescription(null)
                    }
                }
            }, {
                key: "render",
                value: function() {
                    var e = this;
                    if (this._element) {
                        var t = this._element.businessObject.description;
                        if (d(t)) return wp(1, "div", "context-menu-container description-editor", xp(2, Ew, {
                            className: "dms-input",
                            onChange: this.changeDescription,
                            value: t
                        }), 2, null, null, (function(t) {
                            return e.node = t
                        }))
                    }
                }
            }]), t
        }(Lf),
        Ew = function(e) {
            function t() {
                return dw(this, t), mw(this, vw(t).apply(this, arguments))
            }
            return bw(t, e), yw(t, [{
                key: "render",
                value: function() {
                    return wp(1, "div", this.getClassName(), this.getEditor(), 0)
                }
            }]), t
        }(Tv);

    function Cw(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var Ow = function e(t, n, r, o, i, a, s) {
        var u = this;
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), Cw(this, "addDescription", (function(e) {
            u._modeling.updateProperties(e, {
                description: ""
            });
            var t = u._renderer.getContainer(),
                n = Sw(t, Cm(e.id, t).getBoundingClientRect());
            u._contextMenu.open(n, {
                contextMenuType: "cell-description",
                id: e.id,
                autoFocus: !0,
                offset: {
                    x: 4,
                    y: 4
                }
            })
        })), Cw(this, "removeDescription", (function(e) {
            u._modeling.updateProperties(e, {
                description: null
            }), u._contextMenu.close()
        })), this._contextMenu = n, this._modeling = i, this._renderer = a, this._translate = s, o.on("cell.click", 750, (function(e) {
            if (!e.defaultPrevented) {
                var t = e.target,
                    o = e.id,
                    i = r.get(o);
                if (i) {
                    jw(i) || e.preventDefault();
                    var s = Sw(a.getContainer(), t.getBoundingClientRect());
                    n.open(s, {
                        contextMenuType: "cell-description",
                        autoFocus: !1,
                        id: o,
                        offset: {
                            x: 4,
                            y: 4
                        }
                    })
                }
            }
        })), t.onGetComponent("context-menu", (function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if (e.contextMenuType && "cell-description" === e.contextMenuType) {
                var t = r.get(e.id),
                    n = jw(t);
                if (d(n)) return xw
            }
        })), t.onGetComponent("context-menu-cell-additional", 500, (function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if (e.contextMenuType && "context-menu" === e.contextMenuType) {
                var t = e.id;
                if (!t) return;
                var n = r.get(t);
                if (!n) return;
                var o = n.businessObject,
                    i = o.description,
                    a = d(i),
                    s = a ? "remove-description" : "add-description",
                    c = a ? function() {
                        return u.removeDescription(n)
                    } : function() {
                        return u.addDescription(n)
                    };
                return wp(1, "div", "context-menu-group-entry ".concat(s), d(i) ? u._translate("Remove Cell Description") : u._translate("Add Cell Description"), 0, {
                    onClick: c
                })
            }
        }))
    };

    function Sw(e, t) {
        var n = t.top,
            r = t.left,
            o = t.width,
            i = t.height;
        return {
            x: r + e.parentNode.scrollLeft - 26,
            y: n + e.parentNode.scrollTop,
            width: o + 52,
            height: i
        }
    }

    function jw(e) {
        return e && e.businessObject && e.businessObject.description
    }
    Ow.$inject = ["components", "contextMenu", "elementRegistry", "eventBus", "modeling", "renderer", "translate"];
    var kw = {
        __depends__: [ug, sm],
        __init__: ["description"],
        description: ["type", Ow]
    };

    function Pw(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var Tw = function() {
        function e(t, n, r, o, i, a) {
            var s = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._modeling = r, this._translate = i, t.onGetComponent("context-menu-cell-additional", (function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                if (e.contextMenuType && "context-menu" === e.contextMenuType) {
                    var t = e.event,
                        r = e.id;
                    if (!r) return;
                    var o = n.get(r);
                    if (!o) return;
                    var i = function(e) {
                        a.open({
                            x: (t || e).pageX,
                            y: (t || e).pageY
                        }, {
                            contextMenuType: "expression-language",
                            id: r
                        })
                    };
                    return wp(1, "div", "context-menu-group-entry", s._translate("Change Cell Expression Language"), 0, {
                        onClick: i
                    })
                }
            })), t.onGetComponent("context-menu", (function() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                if (e.contextMenuType && "expression-language" === e.contextMenuType) {
                    var t = e.id;
                    if (!t) return;
                    var r = n.get(t);
                    if (!r) return;
                    var i = r.businessObject.expressionLanguage || o.getDefault(zt(r.col) ? "inputCell" : "outputCell").value,
                        a = o.getAll();
                    return function() {
                        return wp(1, "div", "context-menu-flex", wp(1, "div", "context-menu-group", wp(1, "div", "context-menu-group-entry context-menu-entry-set-expression-language", [wp(1, "div", null, s._translate("Expression Language"), 0), xp(2, Ob, {
                            className: "expression-language",
                            onChange: function(e) {
                                return s.onChange(r, e)
                            },
                            options: a,
                            value: i
                        })], 4), 2), 2)
                    }
                }
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "onChange",
            value: function(e, t) {
                this._modeling.editExpressionLanguage(e.businessObject, t)
            }
        }]) && Pw(t.prototype, n), r && Pw(t, r), e
    }();
    Tw.$inject = ["components", "elementRegistry", "modeling", "expressionLanguages", "translate", "contextMenu"];
    var Dw = {
        __depends__: [Ah],
        __init__: ["expressionLanguage"],
        expressionLanguage: ["type", Tw]
    };

    function Rw(e) {
        return (Rw = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Mw(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function Aw(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Nw(e, t, n) {
        return t && Aw(e.prototype, t), n && Aw(e, n), e
    }

    function Iw(e, t) {
        return !t || "object" !== Rw(t) && "function" != typeof t ? Bw(e) : t
    }

    function Lw(e) {
        return (Lw = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Bw(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function $w(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                writable: !0,
                configurable: !0
            }
        }), t && Vw(e, t)
    }

    function Vw(e, t) {
        return (Vw = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function zw(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var Fw = function(e) {
        function t(e, n) {
            var r;
            return Mw(this, t), zw(Bw(r = Iw(this, Lw(t).call(this, e, n))), "onElementsChanged", (function() {
                r.forceUpdate()
            })), zw(Bw(r), "setDecisionTableName", (function(e) {
                r.modeling.editDecisionTableName(e)
            })), sd(Bw(r)), r
        }
        return $w(t, e), Nw(t, [{
            key: "componentWillMount",
            value: function() {
                this.setupChangeListeners({
                    bind: this.getBusinessObject().id
                })
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this.setupChangeListeners({
                    unbind: this.getBusinessObject().id
                })
            }
        }, {
            key: "setupChangeListeners",
            value: function(e) {
                var t = e.bind,
                    n = e.unbind;
                "string" == typeof n && this.changeSupport.offElementsChanged(n, this.onElementsChanged), "string" == typeof t && this.changeSupport.onElementsChanged(t, this.onElementsChanged)
            }
        }, {
            key: "getBusinessObject",
            value: function() {
                return this.sheet.getRoot().businessObject.$parent
            }
        }, {
            key: "render",
            value: function() {
                var e = this.getBusinessObject().name,
                    t = this.components.getComponent("hit-policy") || Hw;
                return wp(1, "div", "decision-table-properties", [xp(2, qw, {
                    className: "decision-table-name",
                    value: e,
                    ctrlForNewline: !0,
                    onBlur: Uw,
                    onChange: this.setDecisionTableName,
                    elementId: "__decisionProperties_name",
                    coords: "0:__decisionProperties"
                }), wp(1, "span", "decision-table-header-separator"), xp(2, t)], 4)
            }
        }]), t
    }(Lf);
    Fw.$inject = ["sheet", "modeling", "changeSupport", "components"];
    var qw = function(e) {
        function t(e, n) {
            var r;
            return Mw(this, t), cd(Bw(r = Iw(this, Lw(t).call(this, e, n))), Dd), r
        }
        return $w(t, e), Nw(t, [{
            key: "render",
            value: function() {
                var e = this.props.value;
                return wp(1, "p", Pd(this.getSelectionClasses(), this.getClassName()), this.getEditor(), 0, {
                    "data-element-id": this.props.elementId,
                    "data-coords": this.props.coords,
                    title: "Decision Name: " + e
                })
            }
        }]), t
    }(Tv);

    function Hw() {
        return null
    }

    function Uw(e) {
        e.target.scroll(0, 0)
    }
    var Ww = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("table.before", 500, (function() {
            return Fw
        }))
    };
    Ww.$inject = ["components"];
    var Gw = {
        __depends__: [Uv],
        __init__: ["decisionTableProperties"],
        decisionTableProperties: ["type", Ww]
    };

    function Kw(e) {
        return (Kw = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Xw(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Yw(e) {
        return (Yw = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Jw(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Zw(e, t) {
        return (Zw = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function Qw(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var ex = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== Kw(t) && "function" != typeof t ? Jw(e) : t
            }(this, Yw(t).call(this, e, n)), Qw(Jw(r), "onChange", (function(e) {
                var t = e.aggregation,
                    n = e.hitPolicy;
                r.modeling.editHitPolicy(n, t)
            })), Qw(Jw(r), "onElementsChanged", (function() {
                r.forceUpdate()
            })), sd(Jw(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Zw(e, t)
        }(t, e), n = t, (r = [{
            key: "componentDidMount",
            value: function() {
                this.changeSupport.onElementsChanged(this.getRoot().id, this.onElementsChanged)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this.changeSupport.offElementsChanged(this.getRoot().id, this.onElementsChanged)
            }
        }, {
            key: "getRoot",
            value: function() {
                return this.sheet.getRoot()
            }
        }, {
            key: "render",
            value: function() {
                var e = this.getRoot().businessObject,
                    t = e.aggregation,
                    n = e.hitPolicy,
                    r = y(ry, (function(e) {
                        return r = e.value, o = {
                            aggregation: t,
                            hitPolicy: n
                        }, r.hitPolicy === o.hitPolicy && r.aggregation === o.aggregation;
                        var r, o
                    }));
                return wp(1, "span", "hit-policy", [wp(1, "label", "dms-label", Ep("Hit Policy:"), 2), xp(2, Ob, {
                    className: "hit-policy-edit-policy-select",
                    onChange: this.onChange,
                    options: ry,
                    value: r.value,
                    "data-hit-policy": "true",
                    noInput: !0
                })], 4, {
                    title: r.explanation
                })
            }
        }]) && Xw(n.prototype, r), o && Xw(n, o), t
    }(Lf);

    function tx(e) {
        e.onGetComponent("hit-policy", (function() {
            return ex
        }))
    }
    ex.$inject = ["changeSupport", "sheet", "modeling"], tx.$inject = ["components"];
    var nx = {
        __depends__: [ug],
        __init__: ["hitPolicyProvider"],
        hitPolicyProvider: ["type", tx]
    };

    function rx(e) {
        return (rx = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function ox(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function ix(e, t) {
        return !t || "object" !== rx(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function ax(e) {
        return (ax = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function sx(e, t) {
        return (sx = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var ux = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = ix(this, ax(t).call(this, e))).executed(["row.add", "row.remove", "col.add", "col.remove"], cx((function(e) {
                var t = e.context,
                    n = t.row || t.col;
                r.updateRoot(n, t.oldRoot)
            }))), r.reverted(["row.add", "row.remove", "col.add", "col.remove"], cx((function(e) {
                var t = e.context,
                    n = t.row || t.col;
                r.updateRoot(n, t.newRoot)
            }))), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && sx(e, t)
        }(t, e), n = t, (r = [{
            key: "updateRoot",
            value: function(e, t) {
                var n = this,
                    r = e.root,
                    o = e.businessObject;
                if (Vt(e, "dmn:DecisionRule")) {
                    if (t) {
                        var i = t.businessObject.get("rule"),
                            a = i.indexOf(o);
                        i.splice(a, 1), o.$parent = null
                    }
                    if (r) {
                        var s = r.businessObject,
                            u = r.rows.indexOf(e);
                        s.get("rule").splice(u, 0, o), o.$parent = s, e.cells.forEach((function(t, r) {
                            n.wireCell(t, e, r)
                        }))
                    }
                }
                if (Vt(e, "dmn:InputClause") || Vt(e, "dmn:OutputClause")) {
                    var c, l;
                    if (t) {
                        var p = t.businessObject,
                            f = p.get("input"),
                            d = p.get("output");
                        if (Vt(e, "dmn:InputClause") && (c = f, l = f.indexOf(o)), Vt(e, "dmn:OutputClause") && (c = d, l = d.indexOf(o)), -1 === l) throw new Error("inconsistent model: clause not in table");
                        c.splice(l, 1), o.$parent = null, e.cells.forEach((function(e, r) {
                            n.unwireCell(e, t.rows[r])
                        }))
                    }
                    if (r) {
                        var h, y, m = r.businessObject,
                            v = m.get("input"),
                            g = m.get("output"),
                            b = r.cols.indexOf(e);
                        Vt(e, "dmn:InputClause") && (y = v, h = b), Vt(e, "dmn:OutputClause") && (y = g, h = b - v.length), y.splice(h, 0, o), o.$parent = m, e.cells.forEach((function(e, t) {
                            n.wireCell(e, r.rows[t], b)
                        }))
                    }
                }
            }
        }, {
            key: "unwireCell",
            value: function(e, t) {
                var n, r, o = e.businessObject,
                    i = t.businessObject,
                    a = i.get("inputEntry"),
                    s = i.get("outputEntry");
                if (Vt(e, "dmn:UnaryTests") && (n = a), Vt(e, "dmn:LiteralExpression") && (n = s), -1 === (r = n.indexOf(o))) throw new Error("cell not in row");
                n.splice(r, 1), o.$parent = null
            }
        }, {
            key: "wireCell",
            value: function(e, t, n) {
                var r, o, i = e.businessObject,
                    a = t.businessObject,
                    s = a.get("inputEntry"),
                    u = a.get("outputEntry");
                i.$parent !== a && (Vt(e, "dmn:UnaryTests") && (r = s, o = n), Vt(e, "dmn:LiteralExpression") && (r = u, o = n - s.length), r.splice(o, 0, i), i.$parent = a)
            }
        }]) && ox(n.prototype, r), o && ox(n, o), t
    }(Vs);

    function cx(e) {
        return function(t) {
            var n = t.context;
            Vt(n.row || n.col, "dmn:DMNElement") && e(t)
        }
    }

    function lx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    ux.$inject = ["eventBus", "sheet"];
    var px = function() {
        function e(t) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._model = t
        }
        var t, n, r;
        return t = e, (n = [{
            key: "create",
            value: function(e) {
                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    n = this._model.create(e, t || {});
                return Vt(n, "dmn:InputClause") && (t.inputExpression ? n.inputExpression = t.inputExpression : (n.inputExpression = this.create("dmn:LiteralExpression", {
                    typeRef: "string"
                }), n.inputExpression.$parent = n)), Vt(n, "dmn:OutputClause") && (n.typeRef = t.typeRef || "string"), (Vt(n, "dmn:UnaryTests") || Vt(n, "dmn:LiteralExpression")) && (n.text = t.text || ""), this._ensureId(n), n
            }
        }, {
            key: "_needsId",
            value: function(e) {
                return Vt(e, "dmn:DMNElement")
            }
        }, {
            key: "_ensureId",
            value: function(e) {
                var t = (e.$type || "").replace(/^[^:]*:/g, "") + "_";
                !e.id && this._needsId(e) && (e.id = this._model.ids.nextPrefixed(t, e))
            }
        }]) && lx(t.prototype, n), r && lx(t, r), e
    }();

    function fx(e) {
        return (fx = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function dx(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(e);
            t && (r = r.filter((function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, r)
        }
        return n
    }

    function hx(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function yx(e, t) {
        if (null == e) return {};
        var n, r, o = function(e, t) {
            if (null == e) return {};
            var n, r, o = {},
                i = Object.keys(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || (o[n] = e[n]);
            return o
        }(e, t);
        if (Object.getOwnPropertySymbols) {
            var i = Object.getOwnPropertySymbols(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
        }
        return o
    }

    function mx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function vx(e, t) {
        return !t || "object" !== fx(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function gx(e, t, n) {
        return (gx = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var r = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = bx(e)););
                return e
            }(e, t);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, t);
                return o.get ? o.get.call(n) : o.value
            }
        })(e, t, n || e)
    }

    function bx(e) {
        return (bx = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function _x(e, t) {
        return (_x = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    px.$inject = ["moddle"];
    var wx = function(e) {
        function t(e) {
            var n;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (n = vx(this, bx(t).call(this)))._dmnFactory = e, n
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && _x(e, t)
        }(t, e), n = t, (r = [{
            key: "create",
            value: function(e, n) {
                var r = this._dmnFactory,
                    o = n.businessObject,
                    i = n.type,
                    a = yx(n, ["businessObject", "type"]);
                if (!o) {
                    if (!i) {
                        if ("root" === e) i = "dmn:DecisionTable";
                        else if ("cell" === e) {
                            var s = a.col;
                            Vt(s, "dmn:OutputClause") && (i = "dmn:LiteralExpression"), Vt(s, "dmn:InputClause") && (i = "dmn:UnaryTests")
                        }
                        if (!i) throw new Error("cannot guess <type>")
                    }
                    o = r.create(i)
                }
                return gx(bx(t.prototype), "create", this).call(this, e, function(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? dx(n, !0).forEach((function(t) {
                            hx(e, t, n[t])
                        })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : dx(n).forEach((function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        }))
                    }
                    return e
                }({
                    businessObject: o,
                    id: o.id
                }, a))
            }
        }]) && mx(n.prototype, r), o && mx(n, o), t
    }(tp);

    function xx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    wx.$inject = ["dmnFactory"];
    var Ex = function() {
        function e(t, n) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._sheet = t, this._elementFactory = n
        }
        var t, n, r;
        return t = e, (n = [{
            key: "execute",
            value: function(e) {
                var t = this._sheet,
                    n = this._elementFactory,
                    r = t.getRoot(),
                    o = e.row,
                    i = e.index;
                return void 0 === i && (i = e.index = r.rows.length), e.newRoot = r, o.cells.length || r.cols.forEach((function(e, t) {
                    var r = n.create("cell", {
                        row: o,
                        col: e
                    });
                    o.cells[t] = r
                })), t.addRow(o, i), t.getRoot()
            }
        }, {
            key: "revert",
            value: function(e) {
                var t = e.row,
                    n = this._sheet;
                return n.removeRow(t), n.getRoot()
            }
        }]) && xx(t.prototype, n), r && xx(t, r), e
    }();

    function Cx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    Ex.$inject = ["sheet", "elementFactory"];
    var Ox = function() {
        function e(t) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._sheet = t
        }
        var t, n, r;
        return t = e, (n = [{
            key: "execute",
            value: function(e) {
                var t = this._sheet,
                    n = t.getRoot(),
                    r = e.row,
                    o = e.oldIndex = n.rows.indexOf(r);
                if (e.oldRoot = r.root, -1 === o) throw new Error("row#".concat(r.id, " not in sheet"));
                return t.removeRow(r), t.getRoot()
            }
        }, {
            key: "revert",
            value: function(e) {
                var t = e.row,
                    n = e.oldIndex,
                    r = this._sheet;
                return r.addRow(t, n), r.getRoot()
            }
        }]) && Cx(t.prototype, n), r && Cx(t, r), e
    }();

    function Sx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    Ox.$inject = ["sheet"];
    var jx = function() {
        function e(t) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._modeling = t
        }
        var t, n, r;
        return t = e, (n = [{
            key: "preExecute",
            value: function(e) {
                var t = e.row;
                this._modeling.removeRow(t)
            }
        }, {
            key: "postExecute",
            value: function(e) {
                var t = e.row,
                    n = e.index;
                this._modeling.addRow(t, n)
            }
        }]) && Sx(t.prototype, n), r && Sx(t, r), e
    }();

    function kx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    jx.$inject = ["modeling"];
    var Px = function() {
        function e(t, n) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._sheet = t, this._elementFactory = n
        }
        var t, n, r;
        return t = e, (n = [{
            key: "execute",
            value: function(e) {
                var t = this._sheet,
                    n = this._elementFactory,
                    r = t.getRoot(),
                    o = e.col,
                    i = e.index;
                return void 0 === i && (i = e.index = r.cols.length), e.newRoot = r, o.cells.length || r.rows.forEach((function(e, t) {
                    var r = n.create("cell", {
                        row: e,
                        col: o
                    });
                    o.cells[t] = r
                })), t.addCol(o, i), t.getRoot()
            }
        }, {
            key: "revert",
            value: function(e) {
                var t = e.col,
                    n = this._sheet;
                return n.removeCol(t), n.getRoot()
            }
        }]) && kx(t.prototype, n), r && kx(t, r), e
    }();

    function Tx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    Px.$inject = ["sheet", "elementFactory"];
    var Dx = function() {
        function e(t, n) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._sheet = t, this._elementFactory = n
        }
        var t, n, r;
        return t = e, (n = [{
            key: "execute",
            value: function(e) {
                var t = this._sheet,
                    n = e.col,
                    r = e.oldRoot = n.root;
                if (-1 === (e.oldIndex = r.cols.indexOf(n))) throw new Error("col#".concat(n.id, " not in sheet"));
                return t.removeCol(n), t.getRoot()
            }
        }, {
            key: "revert",
            value: function(e) {
                var t = e.col,
                    n = e.oldIndex,
                    r = this._sheet;
                return r.addCol(t, n), r.getRoot()
            }
        }]) && Tx(t.prototype, n), r && Tx(t, r), e
    }();

    function Rx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    Dx.$inject = ["sheet", "elementFactory"];
    var Mx = function() {
        function e(t) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._modeling = t
        }
        var t, n, r;
        return t = e, (n = [{
            key: "preExecute",
            value: function(e) {
                var t = e.col;
                this._modeling.removeCol(t)
            }
        }, {
            key: "postExecute",
            value: function(e) {
                var t = e.col,
                    n = e.index;
                this._modeling.addCol(t, n)
            }
        }]) && Rx(t.prototype, n), r && Rx(t, r), e
    }();

    function Ax(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    Mx.$inject = ["modeling"];
    var Nx = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e)
        }
        var t, n, r;
        return t = e, (n = [{
            key: "execute",
            value: function(e) {
                return e.cell
            }
        }, {
            key: "revert",
            value: function(e) {
                return e.cell
            }
        }]) && Ax(t.prototype, n), r && Ax(t, r), e
    }();

    function Ix(e, t) {
        var n = Object.keys(e);
        return Object.getOwnPropertySymbols && n.push.apply(n, Object.getOwnPropertySymbols(e)), t && (n = n.filter((function(t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable
        }))), n
    }

    function Lx(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function Bx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var $x = function() {
        function e(t, n, r) {
            var o = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._eventBus = t, this._elementFactory = n, this._commandStack = r, t.on("table.init", (function() {
                ! function(e, t) {
                    v(e, (function(e, n) {
                        t.registerHandler(n, e)
                    }))
                }(o.getHandlers(), r)
            }))
        }
        var t, n, r;
        return t = e, r = [{
            key: "_getHandlers",
            value: function() {
                return {
                    "row.add": Ex,
                    "row.remove": Ox,
                    "row.move": jx,
                    "col.add": Px,
                    "col.remove": Dx,
                    "col.move": Mx,
                    "cell.edit": Nx
                }
            }
        }], (n = [{
            key: "getHandlers",
            value: function() {
                return e._getHandlers()
            }
        }, {
            key: "_create",
            value: function(e, t) {
                return t instanceof Wl ? t : this._elementFactory.create(e, t)
            }
        }, {
            key: "addRow",
            value: function(e, t) {
                var n = this._create("row", e),
                    r = {
                        row: n,
                        index: t
                    };
                return this._commandStack.execute("row.add", r), n
            }
        }, {
            key: "removeRow",
            value: function(e) {
                this._commandStack.execute("row.remove", {
                    row: e
                })
            }
        }, {
            key: "moveRow",
            value: function(e, t) {
                var n = {
                    row: e,
                    index: t
                };
                this._commandStack.execute("row.move", n)
            }
        }, {
            key: "addCol",
            value: function(e, t) {
                var n = this._create("col", e),
                    r = {
                        col: n,
                        index: t
                    };
                return this._commandStack.execute("col.add", r), n
            }
        }, {
            key: "removeCol",
            value: function(e) {
                this._commandStack.execute("col.remove", {
                    col: e
                })
            }
        }, {
            key: "moveCol",
            value: function(e, t) {
                var n = {
                    col: e,
                    index: t
                };
                this._commandStack.execute("col.move", n)
            }
        }, {
            key: "editCell",
            value: function(e, t) {
                var n = function(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var n = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? Ix(n, !0).forEach((function(t) {
                            Lx(e, t, n[t])
                        })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : Ix(n).forEach((function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                        }))
                    }
                    return e
                }({
                    cell: e
                }, t);
                this._commandStack.execute("cell.edit", n)
            }
        }]) && Bx(t.prototype, n), r && Bx(t, r), e
    }();

    function Vx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    $x.$inject = ["eventBus", "elementFactory", "commandStack"];
    var zx = function() {
        function e(t, n, r) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._dmnFactory = t, this._moddle = n, this._modeling = r
        }
        var t, n, r;
        return t = e, (n = [{
            key: "execute",
            value: function(e) {
                var t = e.element,
                    n = e.allowedValues;
                return Vt(t, "dmn:InputClause") ? (t.inputValues ? e.oldAllowedValues = t.inputValues.text : Fx(n) || (t.inputValues = this._dmnFactory.create("dmn:UnaryTests", {
                    text: ""
                })), Fx(n) ? t.inputValues && delete t.inputValues : t.inputValues.text = n.join(",")) : (t.outputValues && t ? e.oldAllowedValues = t.outputValues.text : Fx(n) || (t.outputValues = this._dmnFactory.create("dmn:UnaryTests", {
                    text: ""
                })), Fx(n) ? t.outputValues && delete t.outputValues : t.outputValues.text = n.join(",")), t
            }
        }, {
            key: "revert",
            value: function(e) {
                var t = e.element,
                    n = e.oldAllowedValues;
                return Vt(t, "dmn:InputClause") ? n ? (t.inputValues || (t.inputValues = this._dmnFactory.create("dmn:UnaryTests", {
                    text: ""
                })), t.inputValues.text = n) : delete t.inputValues : n ? (t.outputValues || (t.outputValues = this._dmnFactory.create("dmn:UnaryTests", {
                    text: ""
                })), t.outputValues.text = n) : delete t.outputValues, t
            }
        }]) && Vx(t.prototype, n), r && Vx(t, r), e
    }();

    function Fx(e) {
        return null === e
    }

    function qx(e, t) {
        var n = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(e);
            t && (r = r.filter((function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable
            }))), n.push.apply(n, r)
        }
        return n
    }

    function Hx(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = null != arguments[t] ? arguments[t] : {};
            t % 2 ? qx(n, !0).forEach((function(t) {
                Ux(e, t, n[t])
            })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : qx(n).forEach((function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
            }))
        }
        return e
    }

    function Ux(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }

    function Wx(e) {
        return function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
        }(e) || function(e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }

    function Gx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    zx.$inject = ["dmnFactory", "moddle", "modeling"];
    var Kx = function() {
        function e(t, n) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._elementRegistry = t, this._moddle = n
        }
        var t, n, r;
        return t = e, (n = [{
            key: "execute",
            value: function(e) {
                var t = e.element,
                    n = e.properties,
                    r = qt(t),
                    o = this.updateProperties(r, n),
                    i = o.changed,
                    a = o.oldProperties;
                return e.oldProperties = a, [].concat(Wx(i), [t])
            }
        }, {
            key: "revert",
            value: function(e) {
                var t = e.element,
                    n = e.oldProperties,
                    r = qt(t),
                    o = this.updateProperties(r, n).changed;
                return [].concat(Wx(o), [t])
            }
        }, {
            key: "updateProperties",
            value: function(e, t) {
                var n = this,
                    r = this._moddle.ids;
                return g(t, (function(t, o, i) {
                    var a, s = e.get(i);
                    if (Xx(o)) {
                        if (!Xx(s)) throw new Error("non-existing property <".concat(i, ">: cannot update values"));
                        var u = n.updateProperties(s, o),
                            c = u.changed,
                            l = u.oldProperties;
                        return {
                            changed: [].concat(Wx(t.changed), Wx(c), [s]),
                            oldProperties: Hx({}, t.oldProperties, Ux({}, i, l))
                        }
                    }
                    return "id" === i && (a = o, e.id !== a) && (r.unclaim(e.id), n._elementRegistry.updateId(e, o), r.claim(o, e)), e.set(i, o), {
                        changed: t.changed,
                        oldProperties: Hx({}, t.oldProperties, Ux({}, i, s))
                    }
                }), {
                    changed: [],
                    oldProperties: {}
                })
            }
        }]) && Gx(t.prototype, n), r && Gx(t, r), e
    }();

    function Xx(e) {
        return s(e) && l(e)
    }

    function Yx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    Kx.$inject = ["elementRegistry", "moddle"];
    var Jx = function() {
        function e(t) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._moddle = t
        }
        var t, n, r;
        return t = e, (n = [{
            key: "execute",
            value: function(e) {
                var t = this._moddle.ids,
                    n = e.id,
                    r = e.element;
                e.claiming ? t.claim(n, r) : t.unclaim(n)
            }
        }, {
            key: "revert",
            value: function(e) {
                var t = this._moddle.ids,
                    n = e.id,
                    r = e.element;
                e.claiming ? t.unclaim(n) : t.claim(n, r)
            }
        }]) && Yx(t.prototype, n), r && Yx(t, r), e
    }();

    function Zx(e) {
        return (Zx = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Qx(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function eE(e, t) {
        return !t || "object" !== Zx(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function tE(e, t, n) {
        return (tE = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var r = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = nE(e)););
                return e
            }(e, t);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, t);
                return o.get ? o.get.call(n) : o.value
            }
        })(e, t, n || e)
    }

    function nE(e) {
        return (nE = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function rE(e, t) {
        return (rE = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    Jx.$inject = ["moddle"];
    var oE = function(e) {
        function t(e, n, r, o) {
            var i;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (i = eE(this, nE(t).call(this, e, n, r)))._eventBus = e, i._elementFactory = n, i._commandStack = r, i._sheet = o, i
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && rE(e, t)
        }(t, e), n = t, o = [{
            key: "_getHandlers",
            value: function() {
                return I({}, tE(nE(t), "_getHandlers", this).call(this), {
                    editAllowedValues: zx,
                    "element.updateProperties": Kx,
                    "id.updateClaim": Jx
                })
            }
        }], (r = [{
            key: "getHandlers",
            value: function() {
                return t._getHandlers()
            }
        }, {
            key: "editDecisionTableName",
            value: function(e) {
                var t = {
                    element: this._sheet.getRoot().businessObject.$parent,
                    properties: {
                        name: e
                    }
                };
                this._commandStack.execute("element.updateProperties", t)
            }
        }, {
            key: "editDecisionTableId",
            value: function(e) {
                var t = {
                    element: this._sheet.getRoot().businessObject.$parent,
                    properties: {
                        id: e
                    }
                };
                this._commandStack.execute("element.updateProperties", t)
            }
        }, {
            key: "editHitPolicy",
            value: function(e, t) {
                var n = {
                    element: this._sheet.getRoot().businessObject,
                    properties: {
                        hitPolicy: e,
                        aggregation: t
                    }
                };
                this._commandStack.execute("element.updateProperties", n)
            }
        }, {
            key: "updateProperties",
            value: function(e, t) {
                var n = {
                    element: e,
                    properties: t
                };
                this._commandStack.execute("element.updateProperties", n)
            }
        }, {
            key: "editInputExpression",
            value: function(e, t) {
                var n = {
                    element: e,
                    properties: t
                };
                this._commandStack.execute("element.updateProperties", n)
            }
        }, {
            key: "editOutputName",
            value: function(e, t) {
                var n = {
                    element: e,
                    properties: {
                        name: t
                    }
                };
                this._commandStack.execute("element.updateProperties", n)
            }
        }, {
            key: "editInputExpressionTypeRef",
            value: function(e, t) {
                var n = {
                    element: e,
                    properties: {
                        typeRef: t
                    }
                };
                this._commandStack.execute("element.updateProperties", n)
            }
        }, {
            key: "editOutputTypeRef",
            value: function(e, t) {
                var n = {
                    element: e,
                    properties: {
                        typeRef: t
                    }
                };
                this._commandStack.execute("element.updateProperties", n)
            }
        }, {
            key: "editCell",
            value: function(e, t) {
                var n = {
                    element: e,
                    properties: {
                        text: t
                    }
                };
                this._commandStack.execute("element.updateProperties", n)
            }
        }, {
            key: "editAnnotation",
            value: function(e, t) {
                var n = {
                    element: e,
                    properties: {
                        description: t
                    }
                };
                this._commandStack.execute("element.updateProperties", n)
            }
        }, {
            key: "editAllowedValues",
            value: function(e, t) {
                var n = {
                    element: e,
                    allowedValues: t
                };
                this._commandStack.execute("editAllowedValues", n)
            }
        }, {
            key: "editExpressionLanguage",
            value: function(e, t) {
                var n = {
                    element: e,
                    properties: {
                        expressionLanguage: t
                    }
                };
                this._commandStack.execute("element.updateProperties", n)
            }
        }, {
            key: "claimId",
            value: function(e, t) {
                var n = {
                    id: e,
                    element: t,
                    claiming: !0
                };
                this._commandStack.execute("id.updateClaim", n)
            }
        }, {
            key: "unclaimId",
            value: function(e, t) {
                var n = {
                    id: e,
                    element: t
                };
                this._commandStack.execute("id.updateClaim", n)
            }
        }]) && Qx(n.prototype, r), o && Qx(n, o), t
    }($x);

    function iE(e) {
        return (iE = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function aE(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function sE(e, t) {
        return !t || "object" !== iE(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function uE(e) {
        return (uE = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function cE(e, t) {
        return (cE = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    oE.$inject = ["eventBus", "elementFactory", "commandStack", "sheet"];
    var lE = function(e) {
        function t(e, n, r) {
            var o;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (o = sE(this, uE(t).call(this, e)))._ids = n.ids, o._modeling = r, o.preExecute(["row.add", "col.add"], (function(e) {
                var t = e.context,
                    n = t.row || t.col;
                o.claimId(n.businessObject), n.cells && n.cells.forEach((function(e) {
                    return o.claimId(e.businessObject)
                }))
            })), o
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && cE(e, t)
        }(t, e), n = t, (r = [{
            key: "claimId",
            value: function(e) {
                var t = this;
                e.id && !this._ids.assigned(e.id) && this._modeling.claimId(e.id, e), e.$descriptor.properties.forEach((function(n) {
                    var r = e[n.name];
                    r && (c(r) && r.forEach((function(e) {
                        return t.claimId(e)
                    })), r.$type && t.claimId(r))
                }))
            }
        }]) && aE(n.prototype, r), o && aE(n, o), t
    }(Vs);

    function pE(e) {
        return (pE = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function fE(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function dE(e, t) {
        return !t || "object" !== pE(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function hE(e) {
        return (hE = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function yE(e, t) {
        return (yE = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    lE.$inject = ["eventBus", "moddle", "modeling"];
    var mE = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = dE(this, hE(t).call(this, e)))._modeling = n, r.preExecute(["row.remove", "col.remove"], (function(e) {
                var t = e.context,
                    n = t.row || t.col;
                r.unclaimId(n.businessObject), n.cells && n.cells.forEach((function(e) {
                    return r.unclaimId(e.businessObject)
                }))
            })), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && yE(e, t)
        }(t, e), n = t, (r = [{
            key: "unclaimId",
            value: function(e) {
                var t = this;
                e.id && this._modeling.unclaimId(e.id, e), e.$descriptor.properties.forEach((function(n) {
                    var r = e[n.name];
                    r && (c(r) && r.forEach((function(e) {
                        return t.unclaimId(e)
                    })), r.$type && t.unclaimId(r))
                }))
            }
        }]) && fE(n.prototype, r), o && fE(n, o), t
    }(Vs);
    mE.$inject = ["eventBus", "modeling"];
    var vE = {
        __init__: ["dmnUpdater", "idChangeBehavior", "modeling"],
        __depends__: [{
            __init__: ["idClaimBehavior", "idUnclaimBehavior"],
            idClaimBehavior: ["type", lE],
            idUnclaimBehavior: ["type", mE]
        }, uu],
        dmnUpdater: ["type", ux],
        dmnFactory: ["type", px],
        elementFactory: ["type", wx],
        idChangeBehavior: ["type", Ru],
        modeling: ["type", oE]
    };

    function gE(e) {
        return (gE = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function bE(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function _E(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function wE(e, t, n) {
        return t && _E(e.prototype, t), n && _E(e, n), e
    }

    function xE(e, t) {
        return !t || "object" !== gE(t) && "function" != typeof t ? CE(e) : t
    }

    function EE(e) {
        return (EE = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function CE(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function OE(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                writable: !0,
                configurable: !0
            }
        }), t && SE(e, t)
    }

    function SE(e, t) {
        return (SE = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var jE = function(e) {
            function t(e, n) {
                var r;
                return bE(this, t), (r = xE(this, EE(t).call(this, e, n))).state = {
                    isFocussed: !1
                }, r.changeCellValue = r.changeCellValue.bind(CE(r)), r.onFocus = r.onFocus.bind(CE(r)), r.onBlur = r.onBlur.bind(CE(r)), r.onElementsChanged = r.onElementsChanged.bind(CE(r)), r
            }
            return OE(t, e), wE(t, [{
                key: "onElementsChanged",
                value: function() {
                    this.forceUpdate()
                }
            }, {
                key: "componentWillMount",
                value: function() {
                    var e = this.context.injector,
                        t = this.props.cell,
                        n = this._changeSupport = this.context.changeSupport;
                    this._modeling = e.get("modeling"), n.onElementsChanged(t.id, this.onElementsChanged)
                }
            }, {
                key: "componentWillUnmount",
                value: function() {
                    var e = this.props.cell;
                    this._changeSupport.offElementsChanged(e.id, this.onElementsChanged)
                }
            }, {
                key: "changeCellValue",
                value: function(e) {
                    var t = this.props.cell;
                    this._modeling.editCell(t.businessObject, e)
                }
            }, {
                key: "onFocus",
                value: function() {
                    this.setState({
                        isFocussed: !0
                    })
                }
            }, {
                key: "onBlur",
                value: function() {
                    this.setState({
                        isFocussed: !1
                    })
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props,
                        t = e.cell,
                        n = e.rowIndex,
                        r = e.row,
                        o = e.col,
                        i = e.colIndex,
                        a = this.state.isFocussed,
                        s = Vt(t, "dmn:UnaryTests"),
                        u = t.businessObject;
                    return xp(2, Kd, {
                        className: s ? "input-cell" : "output-cell",
                        elementId: t.id,
                        coords: "".concat(n, ":").concat(i),
                        "data-row-id": r.id,
                        "data-col-id": o.id,
                        children: xp(2, kE, {
                            className: "cell-editor",
                            placeholder: s ? "-" : "",
                            ctrlForNewline: !0,
                            onFocus: this.onFocus,
                            onBlur: this.onBlur,
                            isFocussed: a,
                            onChange: this.changeCellValue,
                            value: u.text,
                            businessObject: u
                        })
                    })
                }
            }]), t
        }(Lf),
        kE = function(e) {
            function t(e, n) {
                var r;
                return bE(this, t), (r = xE(this, EE(t).call(this, e, n)))._expressionLanguages = n.injector.get("expressionLanguages"), r._translate = n.injector.get("translate"), r
            }
            return OE(t, e), wE(t, [{
                key: "isDefaultExpressionLanguage",
                value: function(e) {
                    var t = e.expressionLanguage,
                        n = this.getDefaultExpressionLanguage(e).value;
                    return !t || t === n
                }
            }, {
                key: "getDescription",
                value: function(e) {
                    return e.description
                }
            }, {
                key: "getExpressionLanguageLabel",
                value: function(e) {
                    var t = e.expressionLanguage,
                        n = this.getDefaultExpressionLanguage(e);
                    return this._expressionLanguages.getLabel(t) || n.label
                }
            }, {
                key: "isScript",
                value: function(e) {
                    var t = this.getDefaultExpressionLanguage(e);
                    return !!Vt(e, "dmn:UnaryTests") && (-1 !== e.text.indexOf("\n") || e.expressionLanguage && e.expressionLanguage !== t)
                }
            }, {
                key: "getDefaultExpressionLanguage",
                value: function(e) {
                    var t = Vt(e, "dmn:UnaryTests") ? "inputCell" : "outputCell";
                    return this._expressionLanguages.getDefault(t)
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props,
                        t = e.businessObject,
                        n = e.isFocussed,
                        r = this.getDescription(t),
                        o = this.isDefaultExpressionLanguage(t),
                        i = this.getExpressionLanguageLabel(t),
                        a = this.isScript(t);
                    return wp(1, "div", this.getClassName(), [d(r) && !n && wp(1, "div", "description-indicator"), this.getEditor({
                        className: a ? "script-editor" : null
                    }), !o && !n && wp(1, "span", "dms-badge dmn-expression-language", [wp(1, "span", "dms-badge-icon dmn-icon-file-code"), wp(1, "span", "dms-badge-label", i, 0)], 4, {
                        title: this._translate("Expression Language = {expressionLanguageLabel}", {
                            expressionLanguageLabel: i
                        })
                    })], 0)
                }
            }]), t
        }(Tv);
    var PE = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("cell", 1500, (function(e) {
            if ("rule" === e.cellType) return jE
        }))
    };
    PE.$inject = ["components"];
    var TE = {
        __depends__: [Uv, ny],
        __init__: ["decisionRulesEditor"],
        decisionRulesEditor: ["type", PE]
    };

    function DE(e) {
        return (DE = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function RE(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function ME(e) {
        return (ME = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function AE(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function NE(e, t) {
        return (NE = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var IE = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = function(e, t) {
                return !t || "object" !== DE(t) && "function" != typeof t ? AE(e) : t
            }(this, ME(t).call(this, e, n))).state = {
                top: 0,
                left: 0,
                isVisible: !1,
                isDisabled: !0
            };
            var o = n.injector,
                i = r._eventBus = o.get("eventBus"),
                a = o.get("simpleMode"),
                s = n.injector.get("elementRegistry"),
                u = n.injector.get("expressionLanguages");
            return r._renderer = o.get("renderer"), r._selection = n.injector.get("selection"), r.updatePosition = r.updatePosition.bind(AE(r)), i.on("cellSelection.changed", (function(e) {
                var t = e.elementId,
                    n = s.get(t);
                if (n && a.canSimpleEdit(n)) {
                    r.setState({
                        isVisible: !0,
                        selection: n
                    }, r.updatePosition);
                    var o = ! function(e, t, n) {
                        return !t || t === function(e, t) {
                            if (zt(e.col)) return t.getDefault("inputCell").value;
                            if (Ft(e.col)) return t.getDefault("outputCell").value
                        }(e, n)
                    }(n, n.businessObject.expressionLanguage, u);
                    r.setState({
                        isVisible: !0,
                        selection: n,
                        isDisabled: o
                    }, r.updatePosition)
                } else r.setState({
                    isVisible: !1
                })
            })), r.onClick = r.onClick.bind(AE(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && NE(e, t)
        }(t, e), n = t, (r = [{
            key: "updatePosition",
            value: function() {
                var e = this.state.selection;
                if (e && this.node) {
                    var t = this._container = this._renderer.getContainer(),
                        n = Cm(e.id, t).getBoundingClientRect(),
                        r = this.node.getBoundingClientRect(),
                        o = t.getBoundingClientRect(),
                        i = t.scrollLeft,
                        a = t.scrollTop,
                        s = {};
                    n.left + n.width / 2 > o.width / 2 ? s.left = window.scrollX - o.left + n.left - r.width + 4 + i + "px" : s.left = window.scrollX - o.left + n.left + n.width - 4 + i + "px", n.top + n.height / 2 > o.height / 2 ? s.top = window.scrollY - o.top + n.top - r.height + 4 + a + "px" : s.top = window.scrollY - o.top + n.top - 4 + a + "px", I(this.node.style, s)
                }
            }
        }, {
            key: "onClick",
            value: function() {
                if (!this.state.isDisabled) {
                    var e = this._selection.get();
                    e && (this._eventBus.fire("simpleMode.open", {
                        element: e,
                        node: Cm(e.id, this._container)
                    }), this.setState({
                        isVisible: !1
                    }))
                }
            }
        }, {
            key: "render",
            value: function() {
                var e = this,
                    t = this.state,
                    n = t.isDisabled,
                    r = t.isVisible,
                    o = t.top,
                    i = t.left,
                    a = ["simple-mode-button", "no-deselect"];
                return n && a.push("disabled"), r ? wp(1, "div", a.join(" "), wp(1, "span", "dmn-icon-edit"), 2, {
                    onClick: this.onClick,
                    style: {
                        top: o,
                        left: i
                    },
                    title: n ? "Editing not supported for set expression language" : "Edit"
                }, null, (function(t) {
                    return e.node = t
                })) : null
            }
        }]) && RE(n.prototype, r), o && RE(n, o), t
    }(Lf);

    function LE(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var BE = function() {
        function e(t, n, r, o, i) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._providers = [], t.onGetComponent("table.before", (function() {
                return IE
            })), o.on("simpleMode.open", (function(e) {
                var t = e.element,
                    r = e.node.getBoundingClientRect(),
                    o = r.left,
                    a = r.top,
                    s = r.width,
                    u = r.height,
                    c = i.getContainer();
                n.open({
                    x: o + c.parentNode.scrollLeft,
                    y: a + c.parentNode.scrollTop,
                    width: s,
                    height: u
                }, {
                    contextMenuType: "simple-mode-edit",
                    element: t,
                    offset: {
                        x: 4,
                        y: 4
                    }
                })
            })), o.on("cell.click", (function(e) {
                var t = e.event,
                    n = e.node,
                    i = e.id;
                if (function(e) {
                        if (e.altKey) return !1;
                        return e.ctrlKey || e.metaKey
                    }(t)) {
                    var a = r.get(i);
                    a && o.fire("simpleMode.open", {
                        node: n,
                        element: a
                    }), e.preventDefault()
                }
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "registerProvider",
            value: function(e) {
                this._providers.push(e)
            }
        }, {
            key: "canSimpleEdit",
            value: function(e) {
                return this._providers.reduce((function(t, n) {
                    return t || n(e)
                }), !1)
            }
        }]) && LE(t.prototype, n), r && LE(t, r), e
    }();
    BE.$inject = ["components", "contextMenu", "elementRegistry", "eventBus", "renderer"];
    var $E = {
        __depends__: [ug, Pm, Ah],
        __init__: ["simpleMode"],
        simpleMode: ["type", BE]
    };

    function VE(e) {
        return (VE = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function zE(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function FE(e) {
        return (FE = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function qE(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function HE(e, t) {
        return (HE = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var UE = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = function(e, t) {
                return !t || "object" !== VE(t) && "function" != typeof t ? qE(e) : t
            }(this, FE(t).call(this, e, n)))._modeling = n.injector.get("modeling");
            var o, i = r.props.context.element,
                a = !(o = i.businessObject.text) || function(e) {
                    return "" === e
                }(o) ? "none" : "true" === o.trim() ? "true" : "false" === o.trim() ? "false" : void 0;
            return r.state = {
                value: a || "none"
            }, r.editCell = r.editCell.bind(qE(r)), r.onChange = r.onChange.bind(qE(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && HE(e, t)
        }(t, e), n = t, (r = [{
            key: "editCell",
            value: function(e, t) {
                this._modeling.editCell(e, t)
            }
        }, {
            key: "onChange",
            value: function(e) {
                var t = this.props.context.element;
                this.editCell(t.businessObject, "none" === e ? "" : e), this.setState({
                    value: e
                })
            }
        }, {
            key: "render",
            value: function() {
                var e = this.state.value,
                    t = [{
                        label: "-",
                        value: "none"
                    }, {
                        label: "Yes",
                        value: "true"
                    }, {
                        label: "No",
                        value: "false"
                    }];
                return wp(1, "div", "simple-boolean-edit context-menu-container", [wp(1, "h3", "dms-heading", Ep("Edit Boolean"), 2), wp(1, "h4", "dms-heading", Ep("Set Value"), 2), xp(2, Ob, {
                    noInput: !0,
                    className: "dms-block",
                    onChange: this.onChange,
                    options: t,
                    value: e
                })], 4)
            }
        }]) && zE(n.prototype, r), o && zE(n, o), t
    }(Lf);
    var WE = function e(t, n) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), n.registerProvider((function(e) {
            return (zt(e.col) || Ft(e.col)) && "boolean" === GE(e)
        })), t.onGetComponent("context-menu", (function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if (e.contextMenuType && "simple-mode-edit" === e.contextMenuType) {
                if (!e.element) return;
                var t = GE(e.element);
                if ("boolean" === t) return UE
            }
        }))
    };

    function GE(e) {
        return zt(e.col) ? e.col && e.col.businessObject.inputExpression.typeRef : e.col && e.col.businessObject.typeRef
    }
    WE.$inject = ["components", "simpleMode"];
    var KE = {
            __depends__: [Y_, $E],
            __init__: ["simpleBooleanEdit"],
            simpleBooleanEdit: ["type", WE]
        },
        XE = /^\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d$/,
        YE = /^\[date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)..date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"/,
        JE = /^(<|>)\s*date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)/,
        ZE = /^date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)$/;

    function QE(e) {
        if (!XE.test(e.trim())) return "Date must match pattern yyyy-MM-ddTHH:mm:ss."
    }

    function eC(e, t) {
        return "exact" === e ? 'date and time("'.concat(t[0], '")') : "before" === e ? '< date and time("'.concat(t[0], '")') : "after" === e ? '> date and time("'.concat(t[0], '")') : "between" === e ? '[date and time("'.concat(t[0], '")..date and time("').concat(t[1], '")]') : void 0
    }

    function tC() {
        var e = new Date;
        return e.setUTCHours(0, 0, 0, 0), e.toISOString().slice(0, -5)
    }

    function nC(e) {
        if (!e || "" === e.trim()) return {
            type: "exact",
            date: ""
        };
        var t = e.match(YE);
        return t ? {
            type: "between",
            dates: [t[1], t[2]]
        } : (t = e.match(JE)) ? {
            type: "<" === t[1] ? "before" : "after",
            date: t[2]
        } : (t = e.match(ZE)) ? {
            type: "exact",
            date: t[1]
        } : void 0
    }

    function rC(e) {
        return (rC = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function oC(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function iC(e) {
        return (iC = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function aC(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function sC(e, t) {
        return (sC = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var uC = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = function(e, t) {
                return !t || "object" !== rC(t) && "function" != typeof t ? aC(e) : t
            }(this, iC(t).call(this, e, n)))._modeling = n.injector.get("modeling");
            var o, i = nC(r.props.context.element.businessObject.text);
            i ? (o = i.date ? [i.date, ""] : i.dates ? i.dates : ["", ""], r.state = {
                type: i.type,
                dates: o
            }) : r.state = {
                type: "exact",
                dates: ["", ""]
            };
            var a = n.injector.get("debounceInput");
            return r.debouncedEditCell = a(r.editCell.bind(aC(r))), r.editCell = r.editCell.bind(aC(r)), r.onTypeChange = r.onTypeChange.bind(aC(r)), r.onSetStartDateTodayClick = r.onSetStartDateTodayClick.bind(aC(r)), r.onSetEndDateTodayClick = r.onSetEndDateTodayClick.bind(aC(r)), r.onStartDateInput = r.onStartDateInput.bind(aC(r)), r.onEndDateInput = r.onEndDateInput.bind(aC(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && sC(e, t)
        }(t, e), n = t, (r = [{
            key: "editCell",
            value: function(e, t) {
                this._modeling.editCell(e, t)
            }
        }, {
            key: "onTypeChange",
            value: function(e) {
                var t = this.props.context.element,
                    n = this.state.dates;
                this.setState({
                    type: e
                }), nC(eC(e, n)) && this.editCell(t.businessObject, eC(e, n))
            }
        }, {
            key: "onSetStartDateTodayClick",
            value: function() {
                var e = this.props.context.element,
                    t = this.state,
                    n = t.dates,
                    r = t.type,
                    o = tC();
                this.setState({
                    dates: [o, n[1]]
                }), nC(eC(r, [o, n[1]])) && this.editCell(e.businessObject, eC(r, [o, n[1]]))
            }
        }, {
            key: "onSetEndDateTodayClick",
            value: function() {
                var e = this.props.context.element,
                    t = this.state,
                    n = t.dates,
                    r = t.type,
                    o = tC();
                this.setState({
                    dates: [n[0], o]
                }), nC(eC(r, [n[0], o])) && this.editCell(e.businessObject, eC(r, [n[0], o]))
            }
        }, {
            key: "onStartDateInput",
            value: function(e) {
                var t = e.isValid,
                    n = e.value;
                if (t) {
                    var r = this.props.context.element,
                        o = this.state,
                        i = o.dates,
                        a = o.type;
                    this.setState({
                        dates: [n, i[1]]
                    }), this.debouncedEditCell(r.businessObject, eC(a, [n, i[1]]))
                }
            }
        }, {
            key: "onEndDateInput",
            value: function(e) {
                var t = e.isValid,
                    n = e.value;
                if (t) {
                    var r = this.props.context.element,
                        o = this.state,
                        i = o.dates,
                        a = o.type;
                    this.setState({
                        dates: [i[0], n]
                    }), this.debouncedEditCell(r.businessObject, eC(a, [i[0], n]))
                }
            }
        }, {
            key: "render",
            value: function() {
                var e = this.state,
                    t = e.dates,
                    n = e.type,
                    r = [{
                        label: "Exactly",
                        value: "exact"
                    }, {
                        label: "Before",
                        value: "before"
                    }, {
                        label: "After",
                        value: "after"
                    }, {
                        label: "Between",
                        value: "between"
                    }];
                return wp(1, "div", "context-menu-container simple-date-edit", [wp(1, "h3", "dms-heading", Ep("Edit Date"), 2), wp(1, "div", "dms-fill-row", xp(2, Ob, {
                    noInput: !0,
                    onChange: this.onTypeChange,
                    options: r,
                    value: n
                }), 2), wp(1, "h4", "dms-heading", "between" === n ? "Edit Start Date" : "Set Date", 0), wp(1, "div", null, [xp(2, g_, {
                    className: "start-date-input dms-block",
                    onInput: this.onStartDateInput,
                    placeholder: "e.g. ".concat(tC()),
                    validate: QE,
                    value: t[0]
                }), wp(1, "p", "dms-hint", [wp(1, "button", "use-today", Ep("Use today"), 2, {
                    type: "button",
                    onClick: this.onSetStartDateTodayClick
                }), Ep(".")], 4)], 4), "between" === n && wp(1, "h4", "dms-heading", Ep("Edit End Date"), 2), "between" === n && wp(1, "div", null, [xp(2, g_, {
                    className: "end-date-input dms-block",
                    onInput: this.onEndDateInput,
                    placeholder: "e.g. ".concat(tC()),
                    validate: QE,
                    value: t[1]
                }), wp(1, "p", "dms-hint", [wp(1, "button", "use-today", Ep("Use today"), 2, {
                    type: "button",
                    onClick: this.onSetEndDateTodayClick
                }), Ep(".")], 4)], 4)], 0)
            }
        }]) && oC(n.prototype, r), o && oC(n, o), t
    }(Lf);

    function cC(e) {
        return (cC = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function lC(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function pC(e) {
        return (pC = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function fC(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function dC(e, t) {
        return (dC = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var hC = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = function(e, t) {
                return !t || "object" !== cC(t) && "function" != typeof t ? fC(e) : t
            }(this, pC(t).call(this, e, n)))._modeling = n.injector.get("modeling");
            var o = nC(r.props.context.element.businessObject.text);
            r.state = {
                date: o ? o.date : ""
            };
            var i = n.injector.get("debounceInput");
            return r.debouncedEditCell = i(r.editCell.bind(fC(r))), r.editCell = r.editCell.bind(fC(r)), r.onClick = r.onClick.bind(fC(r)), r.onInput = r.onInput.bind(fC(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && dC(e, t)
        }(t, e), n = t, (r = [{
            key: "editCell",
            value: function(e, t) {
                this._modeling.editCell(e, t)
            }
        }, {
            key: "onClick",
            value: function() {
                var e = this.props.context.element,
                    t = tC();
                this.setState({
                    date: t
                }), this.editCell(e.businessObject, 'date and time("'.concat(t, '")'))
            }
        }, {
            key: "onInput",
            value: function(e) {
                var t = e.isValid,
                    n = e.value;
                if (t) {
                    var r = this.props.context.element;
                    this.setState({
                        date: n
                    }), this.debouncedEditCell(r.businessObject, 'date and time("'.concat(n, '")'))
                }
            }
        }, {
            key: "render",
            value: function() {
                var e = this.state.date;
                return wp(1, "div", "context-menu-container simple-date-edit", [wp(1, "h3", "dms-heading", Ep("Edit Date"), 2), wp(1, "h4", "dms-heading", Ep("Set Date"), 2), wp(1, "div", null, [xp(2, g_, {
                    onInput: this.onInput,
                    placeholder: "e.g. ".concat(tC()),
                    validate: QE,
                    value: e,
                    className: "dms-block"
                }), wp(1, "p", "dms-hint", [Ep("Set date "), wp(1, "button", "use-today", Ep("to today"), 2, {
                    type: "button",
                    onClick: this.onClick
                }), Ep(".")], 4)], 4)], 4)
            }
        }]) && lC(n.prototype, r), o && lC(n, o), t
    }(Lf);
    var yC = function e(t, n) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), n.registerProvider((function(e) {
            var t = mC(e);
            return (zt(e.col) || Ft(e.col)) && vC(t)
        })), t.onGetComponent("context-menu", (function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if (e.contextMenuType && "simple-mode-edit" === e.contextMenuType) {
                if (!e.element) return;
                var t = mC(e.element);
                if (vC(t)) {
                    if (zt(e.element.col)) return uC;
                    if (Ft(e.element.col)) return hC
                }
            }
        }))
    };

    function mC(e) {
        return zt(e.col) ? e.col && e.col.businessObject.inputExpression.typeRef : e.col && e.col.businessObject.typeRef
    }

    function vC(e) {
        return "date" === e
    }
    yC.$inject = ["components", "simpleMode"];
    var gC = {
            __depends__: [Y_, $E],
            __init__: ["simpleDateEdit"],
            simpleDateEdit: ["type", yC]
        },
        bC = /^(-?(?:[0-9]|\.[0-9])+)$|^((?:<|>|=){0,2})\s*(-?(?:[0-9]|\.[0-9])+)$/,
        _C = /^(\[|\]){1}(-?(?:[0-9]|\.[0-9])+){1,}\.\.(-?(?:[0-9]|\.[0-9])+){1,}(\[|\]){1}$/,
        wC = {
            equals: "=",
            less: "<",
            lessEquals: "<=",
            greater: ">",
            greaterEquals: ">="
        };

    function xC(e) {
        return x(wC).filter((function(t) {
            return e === wC[t]
        }))[0]
    }

    function EC(e) {
        if (!e || function(e) {
                return "" === e
            }(e.trim())) return {
            type: "comparison"
        };
        var t, n = e.match(bC),
            r = e.match(_C);
        if (n) {
            if ((t = n)[0] && t[1] && !t[2] && !t[3]) return {
                type: "comparison",
                value: parseFloat(n[1]),
                operator: "equals"
            };
            if (function(e) {
                    return e[0] && !e[1] && e[2] && e[3]
                }(n)) return {
                type: "comparison",
                value: parseFloat(n[3]),
                operator: xC(n[2])
            }
        } else if (r) return {
            type: "range",
            values: [r[2], r[3]].map((function(e) {
                return parseFloat(e)
            })),
            start: "]" === r[1] ? "exclude" : "include",
            end: "[" === r[4] ? "exclude" : "include"
        }
    }

    function CC(e, t) {
        return "equals" === e ? "".concat(t) : "".concat(wC[e], " ").concat(t)
    }

    function OC(e, t, n, r) {
        var o = "exclude" === r ? "[" : "]";
        return "".concat("exclude" === n ? "]" : "[").concat(e, "..").concat(t).concat(o)
    }

    function SC(e) {
        return (SC = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function jC(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function kC(e) {
        return (kC = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function PC(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function TC(e, t) {
        return (TC = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var DC = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = function(e, t) {
                return !t || "object" !== SC(t) && "function" != typeof t ? PC(e) : t
            }(this, kC(t).call(this, e, n)))._modeling = n.injector.get("modeling");
            var o = EC(r.props.context.element.businessObject.text);
            r.state = o ? {
                type: o.type,
                comparisonOperator: o.operator || "equals",
                comparisonValue: o.value || 0,
                rangeStartValue: o.values ? o.values[0] : 0,
                rangeEndValue: o.values ? o.values[1] : 0,
                rangeStartType: o.start || "include",
                rangeEndType: o.end || "include"
            } : {
                type: "comparison",
                comparisonOperator: "equals",
                comparisonValue: 0,
                rangeStartValue: 0,
                rangeEndValue: 0,
                rangeStartType: "include",
                rangeEndType: "include"
            };
            var i = n.injector.get("debounceInput");
            return r.debouncedEditCell = i(r.editCell.bind(PC(r))), r.editCell = r.editCell.bind(PC(r)), r.onComparisonOperatorChange = r.onComparisonOperatorChange.bind(PC(r)), r.onComparisonValueChange = r.onComparisonValueChange.bind(PC(r)), r.onTypeChange = r.onTypeChange.bind(PC(r)), r.onRangeStartTypeChange = r.onRangeStartTypeChange.bind(PC(r)), r.onRangeStartValueChange = r.onRangeStartValueChange.bind(PC(r)), r.onRangeEndTypeChange = r.onRangeEndTypeChange.bind(PC(r)), r.onRangeEndValueChange = r.onRangeEndValueChange.bind(PC(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && TC(e, t)
        }(t, e), n = t, (r = [{
            key: "editCell",
            value: function(e, t) {
                this._modeling.editCell(e, t)
            }
        }, {
            key: "onTypeChange",
            value: function(e) {
                var t = this.props.context.element,
                    n = this.state,
                    r = n.comparisonOperator,
                    o = n.comparisonValue,
                    i = n.rangeStartValue,
                    a = n.rangeEndValue,
                    s = n.rangeStartType,
                    u = n.rangeEndType;
                "comparison" === e ? this.editCell(t.businessObject, CC(r, o)) : this.editCell(t.businessObject, OC(i, a, s, u)), this.setState({
                    type: e
                })
            }
        }, {
            key: "onComparisonOperatorChange",
            value: function(e) {
                var t = this.props.context.element,
                    n = this.state,
                    r = n.type,
                    o = n.comparisonValue;
                "comparison" === r && (this.editCell(t.businessObject, CC(e, o)), this.setState({
                    comparisonOperator: e
                }))
            }
        }, {
            key: "onComparisonValueChange",
            value: function(e) {
                var t = this.props.context.element,
                    n = this.state,
                    r = n.type,
                    o = n.comparisonOperator;
                "comparison" === r && (this.debouncedEditCell(t.businessObject, CC(o, e)), this.setState({
                    comparisonValue: e
                }))
            }
        }, {
            key: "onRangeStartTypeChange",
            value: function(e) {
                var t = this.props.context.element,
                    n = this.state,
                    r = n.type,
                    o = n.rangeStartValue,
                    i = n.rangeEndValue,
                    a = n.rangeEndType;
                "range" === r && (this.editCell(t.businessObject, OC(o, i, e, a)), this.setState({
                    rangeStartType: e
                }))
            }
        }, {
            key: "onRangeStartValueChange",
            value: function(e) {
                var t = this.props.context.element,
                    n = this.state,
                    r = n.type,
                    o = n.rangeEndValue,
                    i = n.rangeStartType,
                    a = n.rangeEndType;
                "range" === r && (this.editCell(t.businessObject, OC(e, o, i, a)), this.setState({
                    rangeStartValue: e
                }))
            }
        }, {
            key: "onRangeEndTypeChange",
            value: function(e) {
                var t = this.props.context.element,
                    n = this.state,
                    r = n.type,
                    o = n.rangeStartValue,
                    i = n.rangeEndValue,
                    a = n.rangeStartType;
                "range" === r && (this.editCell(t.businessObject, OC(o, i, a, e)), this.setState({
                    rangeEndType: e
                }))
            }
        }, {
            key: "onRangeEndValueChange",
            value: function(e) {
                var t = this.props.context.element,
                    n = this.state,
                    r = n.type,
                    o = n.rangeStartValue,
                    i = n.rangeStartType,
                    a = n.rangeEndType;
                "range" === r && (this.editCell(t.businessObject, OC(o, e, i, a)), this.setState({
                    rangeEndValue: e
                }))
            }
        }, {
            key: "renderComparison",
            value: function(e, t) {
                return wp(1, "div", "comparison", [wp(1, "h4", "dms-heading", Ep("Value"), 2), wp(1, "div", "dms-fill-row", [xp(2, Ob, {
                    noInput: !0,
                    onChange: this.onComparisonOperatorChange,
                    options: [{
                        label: "Equals",
                        value: "equals"
                    }, {
                        label: "Less",
                        value: "less"
                    }, {
                        label: "Less or equals",
                        value: "lessEquals"
                    }, {
                        label: "Greater",
                        value: "greater"
                    }, {
                        label: "Greater or equals",
                        value: "greaterEquals"
                    }],
                    value: e
                }), Ep(" "), xp(2, Kg, {
                    className: "comparison-number-input",
                    onInput: this.onComparisonValueChange,
                    type: "number",
                    value: t
                })], 4)], 4)
            }
        }, {
            key: "renderRange",
            value: function(e, t, n, r) {
                var o = [{
                    label: "Include",
                    value: "include"
                }, {
                    label: "Exclude",
                    value: "exclude"
                }];
                return wp(1, "div", "range", [wp(1, "h4", "dms-heading", Ep("Start Value"), 2), wp(1, "div", "dms-fill-row", [xp(2, Ob, {
                    noInput: !0,
                    onChange: this.onRangeStartTypeChange,
                    options: o,
                    value: n
                }), Ep(" "), xp(2, Kg, {
                    className: "range-start-number-input",
                    onInput: this.onRangeStartValueChange,
                    type: "number",
                    value: e
                })], 4), wp(1, "h4", "dms-heading", Ep("End Value"), 2), wp(1, "div", "dms-fill-row", [xp(2, Ob, {
                    noInput: !0,
                    onChange: this.onRangeEndTypeChange,
                    options: o,
                    value: r
                }), Ep(" "), xp(2, Kg, {
                    className: "range-end-number-input",
                    onInput: this.onRangeEndValueChange,
                    type: "number",
                    value: t
                })], 4)], 4)
            }
        }, {
            key: "render",
            value: function() {
                var e = this.state,
                    t = e.type,
                    n = e.comparisonOperator,
                    r = e.comparisonValue,
                    o = e.rangeStartValue,
                    i = e.rangeEndValue,
                    a = e.rangeStartType,
                    s = e.rangeEndType,
                    u = [{
                        label: "Comparison",
                        value: "comparison"
                    }, {
                        label: "Range",
                        value: "range"
                    }];
                return wp(1, "div", "context-menu-container simple-number-edit", [wp(1, "h3", "dms-heading", Ep("Edit Number"), 2), wp(1, "div", "dms-fill-row", xp(2, Ob, {
                    noInput: !0,
                    onChange: this.onTypeChange,
                    options: u,
                    value: t
                }), 2), "comparison" === t && this.renderComparison(n, r), "range" === t && this.renderRange(o, i, a, s)], 0)
            }
        }]) && jC(n.prototype, r), o && jC(n, o), t
    }(Lf);

    function RC(e) {
        return (RC = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function MC(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function AC(e) {
        return (AC = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function NC(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function IC(e, t) {
        return (IC = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var LC = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = function(e, t) {
                return !t || "object" !== RC(t) && "function" != typeof t ? NC(e) : t
            }(this, AC(t).call(this, e, n)))._modeling = n.injector.get("modeling");
            var o = EC(r.props.context.element.businessObject.text);
            r.state = o ? {
                value: o.value
            } : {
                value: ""
            };
            var i = n.injector.get("debounceInput");
            return r.debouncedEditCell = i(r.editCell.bind(NC(r))), r.editCell = r.editCell.bind(NC(r)), r.onInput = r.onInput.bind(NC(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && IC(e, t)
        }(t, e), n = t, (r = [{
            key: "editCell",
            value: function(e, t) {
                this._modeling.editCell(e, t)
            }
        }, {
            key: "onInput",
            value: function(e) {
                var t = this.props.context.element;
                this.debouncedEditCell(t.businessObject, e), this.setState({
                    value: e
                })
            }
        }, {
            key: "render",
            value: function() {
                var e = this.state.value;
                return wp(1, "div", "context-menu-container simple-number-edit", [wp(1, "h3", "dms-heading", Ep("Edit Number"), 2), wp(1, "h4", "dms-heading", Ep("Set Value"), 2), xp(2, Kg, {
                    onInput: this.onInput,
                    type: "number",
                    value: e
                })], 4)
            }
        }]) && MC(n.prototype, r), o && MC(n, o), t
    }(Lf);
    var BC = function e(t, n) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), n.registerProvider((function(e) {
            var t = $C(e);
            return (zt(e.col) || Ft(e.col)) && ("integer" === t || "long" === t || "double" === t)
        })), t.onGetComponent("context-menu", (function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if (e.contextMenuType && "simple-mode-edit" === e.contextMenuType) {
                if (!e.element) return;
                var t = $C(e.element);
                if (VC(t)) {
                    if (zt(e.element.col)) return DC;
                    if (Ft(e.element.col)) return LC
                }
            }
        }))
    };

    function $C(e) {
        return zt(e.col) ? e.col && e.col.businessObject.inputExpression.typeRef : e.col && e.col.businessObject.typeRef
    }

    function VC(e) {
        return "integer" === e || "long" === e || "double" === e
    }
    BC.$inject = ["components", "simpleMode"];
    var zC = {
        __depends__: [Y_, $E],
        __init__: ["simpleNumberEdit"],
        simpleNumberEdit: ["type", BC]
    };

    function FC(e) {
        if (!e || qC(e.trim())) return {
            type: "disjunction",
            values: []
        };
        var t = e.split(","),
            n = {
                type: "disjunction",
                values: []
            },
            r = "";
        if (t.forEach((function(e) {
                /^"[^"]*"$/.test((r += e).trim()) ? (n.values.push(r.trim()), r = "") : r += ","
            })), !r) return n;
        n.type = "negation", n.values = [], r = "";
        var o = e.match(/^\s*not\((.*)\)\s*$/);
        return o && ((t = o[1].split(",")).forEach((function(e) {
            /^"[^"]*"$/.test((r += e).trim()) ? (n.values.push(r.trim()), r = "") : r += ","
        })), !r) ? n : void 0
    }

    function qC(e) {
        return "" === e
    }

    function HC(e) {
        return (HC = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function UC(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function WC(e) {
        return (WC = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function GC(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function KC(e, t) {
        return (KC = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var XC = function(e) {
        function t(e, n) {
            var r;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = function(e, t) {
                return !t || "object" !== HC(t) && "function" != typeof t ? GC(e) : t
            }(this, WC(t).call(this, e, n)))._translate = n.injector.get("translate"), r._modeling = n.injector.get("modeling");
            var o = FC(e.context.element.businessObject.text);
            o || (o = {
                values: [],
                type: "disjunction"
            });
            var i = function(e) {
                    var t = zt(e) ? e.inputValues : e.outputValues;
                    return !t || qC(t.text) ? [] : t.text.split(",").map((function(e) {
                        return e.trim()
                    }))
                }(e.context.element.col.businessObject),
                a = o.values.filter((function(e) {
                    return !JC(i, e)
                })),
                s = zt(e.context.element.col),
                u = i.map((function(e) {
                    return {
                        value: e,
                        isChecked: JC(o.values, e),
                        isRemovable: !1,
                        group: "Predefined Values"
                    }
                }));
            s && (u = u.concat(a.map((function(e) {
                return {
                    value: e,
                    isChecked: !0,
                    isRemovable: !0,
                    group: "Custom Values"
                }
            }))));
            var c = "";
            s || !o.values.length || JC(i, o.values[0]) || (c = o.values[0]), r.state = {
                items: u,
                unaryTestsType: o.type,
                inputValue: c,
                isOutputValueInputChecked: "" !== c
            };
            var l = n.injector.get("debounceInput");
            return r.debouncedEditCell = l(r.editCell.bind(GC(r))), r.editCell = r.editCell.bind(GC(r)), r.addUnaryTestsListItem = r.addUnaryTestsListItem.bind(GC(r)), r.onInput = r.onInput.bind(GC(r)), r.onKeyDown = r.onKeyDown.bind(GC(r)), r.onOutputValueInputClick = r.onOutputValueInputClick.bind(GC(r)), r.onUnaryTestsListChanged = r.onUnaryTestsListChanged.bind(GC(r)), r.onUnaryTestsTypeChange = r.onUnaryTestsTypeChange.bind(GC(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && KC(e, t)
        }(t, e), n = t, (r = [{
            key: "editCell",
            value: function(e, t) {
                this._modeling.editCell(e, t)
            }
        }, {
            key: "onUnaryTestsTypeChange",
            value: function(e) {
                var t = YC(this.state.items),
                    n = this.props.context.element;
                "disjunction" === e ? (this.editCell(n.businessObject, t.join(",")), this.setState({
                    unaryTestsType: "disjunction"
                })) : (this.editCell(n.businessObject, "not(".concat(t.join(","), ")")), this.setState({
                    unaryTestsType: "negation"
                }))
            }
        }, {
            key: "onUnaryTestsListChanged",
            value: function(e) {
                var t = YC(e),
                    n = this.props.context.element;
                "disjunction" === this.state.unaryTestsType ? this.editCell(n.businessObject, t.join(",")) : this.editCell(n.businessObject, "not(".concat(t.join(","), ")")), this.setState({
                    items: e,
                    isOutputValueInputChecked: !1
                })
            }
        }, {
            key: "onOutputValueInputClick",
            value: function() {
                var e = this.props.context.element,
                    t = this.state,
                    n = t.inputValue,
                    r = t.items,
                    o = FC(n);
                !o || o.values.length > 1 || (this.editCell(e.businessObject, "".concat(o.values.join(""))), this.setState({
                    items: r.map((function(e) {
                        return e.isChecked = !1, e
                    })),
                    isOutputValueInputChecked: !0
                }))
            }
        }, {
            key: "onInput",
            value: function(e) {
                var t = e.isValid,
                    n = e.value,
                    r = this.state.isOutputValueInputChecked;
                this.setState({
                    inputValue: n
                });
                var o = this.props.context.element;
                !zt(o) && t && r && this.debouncedEditCell(o.businessObject, n)
            }
        }, {
            key: "onKeyDown",
            value: function(e) {
                var t = e.isValid,
                    n = e.event;
                if (13 === n.keyCode) {
                    var r = zt(this.props.context.element.col);
                    !r && t || (n.stopPropagation(), n.preventDefault()), t && (r ? this.addUnaryTestsListItem() : this.onOutputValueInputClick())
                }
            }
        }, {
            key: "addUnaryTestsListItem",
            value: function() {
                var e = this.state,
                    t = e.inputValue,
                    n = e.items,
                    r = e.unaryTestsType,
                    o = FC(t);
                if (o) {
                    var i = this.props.context.element,
                        a = YC(n),
                        s = [].concat(a, o.values);
                    "disjunction" === r ? this.editCell(i.businessObject, s.join(",")) : this.editCell(i.businessObject, "not(".concat(s.join(","), ")"));
                    var u = n.concat(o.values.map((function(e) {
                        return {
                            value: e,
                            isChecked: !0,
                            isRemovable: !0,
                            group: "Custom Values"
                        }
                    })));
                    this.setState({
                        items: u,
                        inputValue: ""
                    })
                }
            }
        }, {
            key: "render",
            value: function() {
                var e = this,
                    t = this.props.context.element,
                    n = this.state,
                    r = n.inputValue,
                    o = n.isOutputValueInputChecked,
                    i = n.items,
                    a = n.unaryTestsType,
                    s = [{
                        label: "Match one",
                        value: "disjunction"
                    }, {
                        label: "Match none",
                        value: "negation"
                    }],
                    u = zt(t.col),
                    c = "negation" === a,
                    l = !u && i.length > 0;
                return wp(1, "div", "simple-string-edit context-menu-container", [wp(1, "h3", "dms-heading", this._translate("Edit String"), 0), u && wp(1, "p", null, xp(2, Ob, {
                    noInput: !0,
                    onChange: this.onUnaryTestsTypeChange,
                    options: s,
                    value: c ? "negation" : "disjunction"
                }, null, (function(t) {
                    return e.selectNode = t
                })), 2), xp(2, f_, {
                    onChange: this.onUnaryTestsListChanged,
                    items: i,
                    type: u ? "checkbox" : "radio"
                }), wp(1, "h4", "dms-heading", u ? this._translate("Add Values") : this._translate("Set Value"), 0), wp(1, "div", "dms-fill-row", [l && wp(64, "input", "cursor-pointer", null, 1, {
                    checked: o,
                    onClick: this.onOutputValueInputClick,
                    type: "radio",
                    style: {
                        marginRight: "8px"
                    }
                }), xp(2, g_, {
                    className: "dms-block",
                    onKeyDown: this.onKeyDown,
                    onInput: this.onInput,
                    placeholder: u ? '"value", "value", ...' : '"value"',
                    type: "text",
                    validate: function(t) {
                        if (!FC(t)) return e._translate("Strings must be in double quotes.")
                    },
                    value: r
                })], 0)], 0)
            }
        }]) && UC(n.prototype, r), o && UC(n, o), t
    }(Lf);

    function YC(e) {
        return e.filter((function(e) {
            return e.isChecked
        })).map((function(e) {
            return e.value
        }))
    }

    function JC(e, t) {
        return -1 !== e.indexOf(t)
    }
    var ZC = function e(t, n) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), n.registerProvider((function(e) {
            return (zt(e.col) || Ft(e.col)) && "string" === QC(e)
        })), t.onGetComponent("context-menu", (function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if (e.contextMenuType && "simple-mode-edit" === e.contextMenuType) {
                if (!e.element) return;
                var t = QC(e.element);
                if ("string" === t) return XC
            }
        }))
    };

    function QC(e) {
        return zt(e.col) ? e.col && e.col.businessObject.inputExpression.typeRef : e.col && e.col.businessObject.typeRef
    }
    ZC.$inject = ["components", "simpleMode"];
    var eO = {
        __depends__: [Y_, $E],
        __init__: ["simpleStringEdit"],
        simpleStringEdit: ["type", ZC]
    };

    function tO(e) {
        return (tO = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function nO(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function rO(e) {
        return (rO = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function oO(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function iO(e, t) {
        return (iO = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function aO(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var sO = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== tO(t) && "function" != typeof t ? oO(e) : t
            }(this, rO(t).call(this, e, n)), aO(oO(r), "handleMouseDown", (function(e) {
                ! function(e) {
                    var t = e.node,
                        n = e.event,
                        r = e.minWidth,
                        o = e.onEnd,
                        i = void 0 === o ? uO : o;
                    n.preventDefault();
                    var a, s = t.getBoundingClientRect().width,
                        u = n.clientX;

                    function c(e) {
                        e.preventDefault();
                        var n = l(e.clientX);
                        a && cancelAnimationFrame(a), a = requestAnimationFrame((function() {
                            t.style.width = n + "px"
                        }))
                    }

                    function l(e) {
                        var t = e - u;
                        return Math.max(s + t, r)
                    }
                    document.addEventListener("mousemove", c), document.addEventListener("mouseup", (function e(t) {
                        t.preventDefault(), document.removeEventListener("mousemove", c), document.removeEventListener("mouseup", e);
                        var n = l(t.clientX);
                        i(n)
                    }))
                }({
                    node: pt(e.target, "th", !1),
                    event: e,
                    minWidth: r.props.minWidth || 150,
                    onEnd: r.saveWidth
                })
            })), aO(oO(r), "saveWidth", (function(e) {
                var t = r.props.col,
                    n = {};
                Vt(t, "dmn:DecisionTable") ? n.annotationsWidth = e : n.width = e, r.modeling.updateProperties(t, n)
            })), sd(oO(r)), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && iO(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                return wp(1, "div", "resize-column-handle", null, 1, {
                    onMouseDown: this.handleMouseDown,
                    title: this.translate("Resize")
                })
            }
        }]) && nO(n.prototype, r), o && nO(n, o), t
    }(Lf);

    function uO() {}

    function cO(e) {
        e.onGetComponent("cell-inner", (function() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                t = e.cellType;
            if ("input-cell" === t || "output-cell" === t || "annotations" === t) return sO
        }))
    }
    sO.$inject = ["sheet", "changeSupport", "translate", "modeling"], cO.$inject = ["components"];
    var lO = {
        __init__: ["columnResizeProvider"],
        columnResizeProvider: ["type", cO]
    };

    function pO(e) {
        return (pO = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function fO(e) {
        return function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
        }(e) || function(e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }

    function dO(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function hO(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function yO(e, t) {
        return !t || "object" !== pO(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function mO(e) {
        return (mO = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function vO(e, t) {
        return (vO = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var gO = function(e) {
        function t() {
            return dO(this, t), yO(this, mO(t).apply(this, arguments))
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && vO(e, t)
        }(t, e), n = t, o = [{
            key: "_getModules",
            value: function() {
                return [pv, Wv, Pm, ug, ov, hg, kg, Ag, lv, J_, lO, pw, kw, Dw, Ah, Y_, Gw, cv, nx, sm, vE, TE, rm, $E, KE, gC, zC, eO]
            }
        }], (r = [{
            key: "getModules",
            value: function() {
                return [].concat(fO(Wy._getModules()), fO(t._getModules()))
            }
        }]) && hO(n.prototype, r), o && hO(n, o), t
    }(Wy);

    function bO(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var _O = function() {
        function e(t) {
            var n = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._listeners = {}, t.on("elements.changed", (function(e) {
                var t = e.elements;
                n.elementsChanged(t)
            })), t.on("element.updateId", (function(e) {
                var t = e.element,
                    r = e.newId;
                n.updateId(t.id, r)
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "elementsChanged",
            value: function(e) {
                for (var t = {}, n = e.length, r = 0; r < n; r++) {
                    var o = e[r].id;
                    if (t[o]) return;
                    t[o] = !0;
                    var i = this._listeners[o] && this._listeners[o].length;
                    if (i)
                        for (var a = 0; a < i; a++) this._listeners[o][a] && this._listeners[o][a]()
                }
            }
        }, {
            key: "onElementsChanged",
            value: function(e, t) {
                this._listeners[e] || (this._listeners[e] = []), this._listeners[e][this._listeners[e].length] = t
            }
        }, {
            key: "offElementsChanged",
            value: function(e, t) {
                if (this._listeners[e])
                    if (t) {
                        var n = this._listeners[e].indexOf(t); - 1 !== n && this._listeners[e].splice(n, 1)
                    } else this._listeners[e].length = 0
            }
        }, {
            key: "updateId",
            value: function(e, t) {
                this._listeners[e] && (this._listeners[t] = this._listeners[e], delete this._listeners[e])
            }
        }]) && bO(t.prototype, n), r && bO(t, r), e
    }();

    function wO(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    _O.$inject = ["eventBus"];
    var xO = function() {
        function e() {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._listeners = {}
        }
        var t, n, r;
        return t = e, (n = [{
            key: "getComponent",
            value: function(e, t) {
                var n = this._listeners[e];
                if (n) {
                    for (var r, o = 0; o < n.length && !(r = n[o].callback(t)); o++);
                    return r
                }
            }
        }, {
            key: "getComponents",
            value: function(e, t) {
                var n = this._listeners[e];
                if (n) {
                    for (var r = [], o = 0; o < n.length; o++) {
                        var i = n[o].callback(t);
                        i && r.push(i)
                    }
                    if (r.length) return r
                }
            }
        }, {
            key: "onGetComponent",
            value: function(e, t, n) {
                if (f(t) && (n = t, t = 1e3), !p(t)) throw new Error("priority must be a number");
                var r, o, i = this._getListeners(e),
                    a = {
                        priority: t,
                        callback: n
                    };
                for (o = 0; r = i[o]; o++)
                    if (r.priority < t) return void i.splice(o, 0, a);
                i.push(a)
            }
        }, {
            key: "offGetComponent",
            value: function(e, t) {
                var n, r, o = this._getListeners(e);
                if (t)
                    for (r = o.length - 1; n = o[r]; r--) n.callback === t && o.splice(r, 1);
                else o.length = 0
            }
        }, {
            key: "_getListeners",
            value: function(e) {
                var t = this._listeners[e];
                return t || (this._listeners[e] = t = []), t
            }
        }]) && wO(t.prototype, n), r && wO(t, r), e
    }();

    function EO(e) {
        return (EO = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function CO(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function OO(e, t) {
        return !t || "object" !== EO(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function SO(e) {
        return (SO = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function jO(e, t) {
        return (jO = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var kO = function(e) {
        function t(e) {
            var n;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t);
            var r = (n = OO(this, SO(t).call(this, e)))._injector = e.injector;
            return n._changeSupport = r.get("changeSupport"), n._components = r.get("components"), n._renderer = r.get("renderer"), n
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && jO(e, t)
        }(t, e), n = t, (r = [{
            key: "getChildContext",
            value: function() {
                return {
                    changeSupport: this._changeSupport,
                    components: this._components,
                    renderer: this._renderer,
                    injector: this._injector
                }
            }
        }, {
            key: "render",
            value: function() {
                var e = this._components.getComponents("viewer");
                return wp(1, "div", "viewer-container", e && e.map((function(e, t) {
                    return xp(2, e, null, t)
                })), 0)
            }
        }]) && CO(n.prototype, r), o && CO(n, o), t
    }(Lf);

    function PO(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var TO = function() {
        function e(t, n, r, o, i) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e);
            var a = r.container;
            this._container = a, o.on("renderer.mount", (function() {
                Rf(xp(2, kO, {
                    injector: i
                }), a)
            })), o.on("renderer.unmount", (function() {
                Rf(null, a)
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "getContainer",
            value: function() {
                return this._container
            }
        }]) && PO(t.prototype, n), r && PO(t, r), e
    }();
    TO.$inject = ["changeSupport", "components", "config.renderer", "eventBus", "injector"];
    var DO = {
        __init__: ["changeSupport", "components", "renderer"],
        changeSupport: ["type", _O],
        components: ["type", xO],
        eventBus: ["type", V],
        renderer: ["type", TO]
    };

    function RO(e, t) {
        if (null == e) return {};
        var n, r, o = function(e, t) {
            if (null == e) return {};
            var n, r, o = {},
                i = Object.keys(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || (o[n] = e[n]);
            return o
        }(e, t);
        if (Object.getOwnPropertySymbols) {
            var i = Object.getOwnPropertySymbols(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
        }
        return o
    }

    function MO(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function AO(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var NO = function() {
        function e() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            MO(this, e);
            var n = t.injector;
            if (!n) {
                var r = this._init(t),
                    o = r.modules,
                    i = r.config;
                n = LO(i, o)
            }
            this.get = n.get, this.invoke = n.invoke, this.get("eventBus").fire("viewer.init")
        }
        var t, n, r;
        return t = e, (n = [{
            key: "_init",
            value: function(e) {
                return {
                    modules: e.modules,
                    config: RO(e, ["modules"])
                }
            }
        }, {
            key: "destroy",
            value: function() {
                this.get("eventBus").fire("viewer.destroy")
            }
        }, {
            key: "clear",
            value: function() {
                this.get("eventBus").fire("viewer.clear")
            }
        }]) && AO(t.prototype, n), r && AO(t, r), e
    }();

    function IO(e) {
        var t = [],
            n = [];

        function r(e) {
            return t.indexOf(e) >= 0
        }
        e.forEach((function e(o) {
            r(o) || ((o.__depends__ || []).forEach(e), r(o) || (! function(e) {
                t.push(e)
            }(o), (o.__init__ || []).forEach((function(e) {
                n.push(e)
            }))))
        }));
        var o = new fn(t);
        return n.forEach((function(e) {
            try {
                o["string" == typeof e ? "get" : "invoke"](e)
            } catch (e) {
                throw console.error("Failed to instantiate component"), console.error(e.stack), e
            }
        })), o
    }

    function LO(e, t) {
        return IO([{
            config: ["value", e]
        }, DO].concat(t || []))
    }

    function BO(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var $O = function() {
        function e(t, n) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._eventBus = n, this._viewer = t
        }
        var t, n, r;
        return t = e, (n = [{
            key: "getDecision",
            value: function() {
                return this._viewer.getDecision()
            }
        }, {
            key: "updateId",
            value: function(e, t) {
                if (e !== this.getDecision()) throw new Error("element !== decision");
                this._eventBus.fire("element.updateId", {
                    element: e,
                    newId: t
                }), e.id = t
            }
        }]) && BO(t.prototype, n), r && BO(t, r), e
    }();
    $O.$inject = ["viewer", "eventBus"];
    var VO = {
        __init__: ["elementRegistry"],
        elementRegistry: ["type", $O]
    };

    function zO(e) {
        return (zO = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function FO(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function qO(e, t) {
        return !t || "object" !== zO(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function HO(e) {
        return (HO = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function UO(e, t) {
        return (UO = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var WO = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = qO(this, HO(t).call(this, e, n)))._viewer = n.injector.get("viewer"), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && UO(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                return wp(1, "div", "decision-properties", wp(1, "h3", "decision-name", this._viewer.getDecision().name, 0), 2)
            }
        }]) && FO(n.prototype, r), o && FO(n, o), t
    }(Lf);
    var GO = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("viewer", 1500, (function() {
            return WO
        }))
    };
    GO.$inject = ["components"];
    var KO = {
        __init__: ["decisionProperties"],
        decisionProperties: ["type", GO]
    };

    function XO(e) {
        return (XO = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function YO(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function JO(e, t) {
        return !t || "object" !== XO(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function ZO(e) {
        return (ZO = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function QO(e, t) {
        return (QO = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var eS = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = JO(this, ZO(t).call(this, e, n)))._viewer = n.injector.get("viewer"), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && QO(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                var e = this._viewer.getDecision(),
                    t = e.decisionLogic,
                    n = e.variable;
                return wp(1, "div", "literal-expression-properties", wp(1, "table", null, [wp(1, "tr", null, [wp(1, "td", null, Ep("Variable Name:"), 2), wp(1, "td", null, wp(1, "span", null, n.name || "-", 0), 2)], 4), wp(1, "tr", null, [wp(1, "td", null, Ep("Variable Type:"), 2), wp(1, "td", null, wp(1, "span", null, n.typeRef || "-", 0), 2)], 4), wp(1, "tr", null, [wp(1, "td", null, Ep("Expression Language:"), 2), wp(1, "td", null, wp(1, "span", null, t.expressionLanguage || "-", 0), 2)], 4)], 4), 2)
            }
        }]) && YO(n.prototype, r), o && YO(n, o), t
    }(Lf);
    var tS = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("viewer", 500, (function() {
            return eS
        }))
    };
    tS.$inject = ["components"];
    var nS = {
        __depends__: [Ah],
        __init__: ["literalExpressionProperties"],
        literalExpressionProperties: ["type", tS]
    };

    function rS(e) {
        return (rS = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function oS(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function iS(e) {
        return (iS = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function aS(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function sS(e, t) {
        return (sS = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var uS = function(e) {
        function t(e, n) {
            var r, o, i, a;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== rS(t) && "function" != typeof t ? aS(e) : t
            }(this, iS(t).call(this, e, n)), o = aS(r), a = function() {
                r._eventBus.fire("poweredBy.show")
            }, (i = "onClick") in o ? Object.defineProperty(o, i, {
                value: a,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : o[i] = a;
            var s = n.injector;
            return r._eventBus = s.get("eventBus"), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && sS(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                var e = this;
                return wp(1, "div", "powered-by", wp(1, "div", "powered-by__logo", xp(2, xy), 2), 2, {
                    onClick: this.onClick,
                    title: "Powered by bpmn.io"
                }, null, (function(t) {
                    return e.node = t
                }))
            }
        }]) && oS(n.prototype, r), o && oS(n, o), t
    }(Lf);

    function cS(e) {
        return (cS = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function lS(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function pS(e) {
        return (pS = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function fS(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function dS(e, t) {
        return (dS = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var hS = function(e) {
        function t(e) {
            var n;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (n = function(e, t) {
                return !t || "object" !== cS(t) && "function" != typeof t ? fS(e) : t
            }(this, pS(t).call(this, e))).state = {
                show: !1
            }, n.onClick = n.onClick.bind(fS(n)), n.onShow = n.onShow.bind(fS(n)), n
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && dS(e, t)
        }(t, e), n = t, (r = [{
            key: "onClick",
            value: function() {
                this.setState({
                    show: !1
                })
            }
        }, {
            key: "onShow",
            value: function() {
                this.setState({
                    show: !0
                })
            }
        }, {
            key: "componentWillMount",
            value: function() {
                (this._eventBus = this.context.injector.get("eventBus")).on("poweredBy.show", this.onShow)
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this._eventBus.off("poweredBy.show", this.onShow)
            }
        }, {
            key: "render",
            value: function() {
                return this.state.show && wp(1, "div", "powered-by-overlay", wp(1, "div", "powered-by-overlay-content", [wp(1, "a", "logo", xp(2, xy), 2, {
                    href: "https://bpmn.io",
                    target: "_blank",
                    rel: "noopener"
                }), wp(1, "span", null, [Ep("Web-based tooling for BPMN, DMN and CMMN diagrams powered by "), wp(1, "a", null, Ep("bpmn.io"), 2, {
                    href: "http://bpmn.io",
                    target: "_blank"
                }), Ep(".")], 4)], 4, {
                    onClick: function(e) {
                        return e.stopPropagation()
                    }
                }), 2, {
                    onClick: this.onClick
                })
            }
        }]) && lS(n.prototype, r), o && lS(n, o), t
    }(Lf);
    var yS = function e(t, n) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("viewer", 2e3, (function() {
            return uS
        })), t.onGetComponent("viewer", (function() {
            return hS
        }))
    };
    yS.$inject = ["components", "eventBus"];
    var mS = {
        __init__: ["poweredBy"],
        poweredBy: ["type", yS]
    };

    function vS(e) {
        return (vS = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function gS(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function bS(e, t) {
        return !t || "object" !== vS(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function _S(e) {
        return (_S = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function wS(e, t) {
        return (wS = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var xS = function(e) {
        function t(e, n) {
            var r;
            return function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), (r = bS(this, _S(t).call(this, e, n)))._viewer = n.injector.get("viewer"), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && wS(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                return wp(1, "div", "textarea", wp(1, "div", "content", this._viewer.getDecision().decisionLogic.text, 0), 2)
            }
        }]) && gS(n.prototype, r), o && gS(n, o), t
    }(Lf);
    var ES = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("viewer", (function() {
            return xS
        }))
    };
    ES.$inject = ["components"];
    var CS = {
        __init__: ["textarea"],
        textarea: ["type", ES]
    };

    function OS(e) {
        return (OS = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function SS(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function jS(e) {
        return (jS = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function kS(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function PS(e, t) {
        return (PS = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var TS = function(e) {
        function t(e, n) {
            var r, o, i, a;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, t), r = function(e, t) {
                return !t || "object" !== OS(t) && "function" != typeof t ? kS(e) : t
            }(this, jS(t).call(this, e, n)), o = kS(r), a = function() {
                r._eventBus.fire("showDrd")
            }, (i = "onClick") in o ? Object.defineProperty(o, i, {
                value: a,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : o[i] = a;
            var s = n.injector;
            return r._eventBus = s.get("eventBus"), r
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && PS(e, t)
        }(t, e), n = t, (r = [{
            key: "render",
            value: function() {
                var e = this;
                return wp(1, "div", "view-drd", wp(1, "button", "view-drd-button", Ep("View DRD"), 2, {
                    onClick: this.onClick
                }), 2, null, null, (function(t) {
                    return e.node = t
                }))
            }
        }]) && SS(n.prototype, r), o && SS(n, o), t
    }(Lf);

    function DS(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var RS = function() {
        function e(t, n, r, o) {
            var i = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._injector = o, this._viewer = n, t.onGetComponent("viewer", 2e3, (function() {
                if (i.canViewDrd()) return TS
            })), r.on("showDrd", (function() {
                var e = o.get("_parent", !1),
                    t = i.getDefinitions(),
                    n = e.getView(t);
                e.open(n)
            }))
        }
        var t, n, r;
        return t = e, (n = [{
            key: "canViewDrd",
            value: function() {
                var e = this._injector.get("_parent", !1);
                if (e) {
                    var t = this.getDefinitions();
                    return !!e.getView(t)
                }
            }
        }, {
            key: "getDefinitions",
            value: function() {
                return this._viewer.getDecision().$parent
            }
        }]) && DS(t.prototype, n), r && DS(t, r), e
    }();
    RS.$inject = ["components", "viewer", "eventBus", "injector"];
    var MS = {
        __init__: ["viewDrd"],
        viewDrd: ["type", RS]
    };

    function AS(e) {
        return (AS = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function NS(e) {
        return function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
        }(e) || function(e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }

    function IS(e, t) {
        if (null == e) return {};
        var n, r, o = function(e, t) {
            if (null == e) return {};
            var n, r, o = {},
                i = Object.keys(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || (o[n] = e[n]);
            return o
        }(e, t);
        if (Object.getOwnPropertySymbols) {
            var i = Object.getOwnPropertySymbols(e);
            for (r = 0; r < i.length; r++) n = i[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (o[n] = e[n])
        }
        return o
    }

    function LS(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function BS(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function $S(e, t) {
        return !t || "object" !== AS(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function VS(e, t, n) {
        return (VS = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function(e, t, n) {
            var r = function(e, t) {
                for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = zS(e)););
                return e
            }(e, t);
            if (r) {
                var o = Object.getOwnPropertyDescriptor(r, t);
                return o.get ? o.get.call(n) : o.value
            }
        })(e, t, n || e)
    }

    function zS(e) {
        return (zS = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function FS(e, t) {
        return (FS = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var qS = function(e) {
        function t() {
            var e, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            LS(this, t);
            var r = t._createContainer();
            return (e = $S(this, zS(t).call(this, I(n, {
                renderer: {
                    container: r
                }
            }))))._container = r, e
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && FS(e, t)
        }(t, e), n = t, o = [{
            key: "_getModules",
            value: function() {
                return [VO, KO, nS, mS, CS, MS]
            }
        }, {
            key: "_createContainer",
            value: function() {
                return bt('<div class="dmn-literal-expression-container"></div>')
            }
        }], (r = [{
            key: "open",
            value: function(e, t) {
                var n;
                try {
                    this._decision && (this.clear(), this.get("eventBus").fire("renderer.unmount")), this._decision = e, this.get("eventBus").fire("import", e), this.get("eventBus").fire("renderer.mount")
                } catch (e) {
                    n = e
                }
                return t(n)
            }
        }, {
            key: "_init",
            value: function(e) {
                var t = e.modules,
                    n = e.additionalModules,
                    r = IS(e, ["modules", "additionalModules"]),
                    o = t || this.getModules(),
                    i = n || [],
                    a = [{
                        viewer: ["value", this]
                    }];
                return {
                    modules: [].concat(NS(o), NS(i), a),
                    config: r
                }
            }
        }, {
            key: "on",
            value: function(e, t, n, r) {
                return this.get("eventBus").on(e, t, n, r)
            }
        }, {
            key: "off",
            value: function(e, t) {
                this.get("eventBus").off(e, t)
            }
        }, {
            key: "_emit",
            value: function(e, t) {
                return this.get("eventBus").fire(e, t)
            }
        }, {
            key: "getDecision",
            value: function() {
                return this._decision
            }
        }, {
            key: "attachTo",
            value: function(e) {
                if (!e) throw new Error("parentNode required");
                this.detach(), e.appendChild(this._container), this._emit("attach", {})
            }
        }, {
            key: "detach",
            value: function() {
                var e = this._container;
                e.parentNode && (this._emit("detach", {}), Ct(e))
            }
        }, {
            key: "destroy",
            value: function() {
                VS(zS(t.prototype), "destroy", this).call(this), this.detach()
            }
        }, {
            key: "getModules",
            value: function() {
                return t._getModules()
            }
        }]) && BS(n.prototype, r), o && BS(n, o), t
    }(NO);

    function HS(e) {
        return (HS = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function US(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function WS(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function GS(e, t, n) {
        return t && WS(e.prototype, t), n && WS(e, n), e
    }

    function KS(e, t) {
        return !t || "object" !== HS(t) && "function" != typeof t ? YS(e) : t
    }

    function XS(e) {
        return (XS = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function YS(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function JS(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                writable: !0,
                configurable: !0
            }
        }), t && ZS(e, t)
    }

    function ZS(e, t) {
        return (ZS = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }

    function QS(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var ej = function(e) {
            function t(e, n) {
                var r;
                return US(this, t), QS(YS(r = KS(this, XS(t).call(this, e, n))), "onElementsChanged", (function() {
                    r.forceUpdate()
                })), QS(YS(r), "setDecisionName", (function(e) {
                    r._modeling.editDecisionName(e)
                })), r._viewer = n.injector.get("viewer"), r._modeling = n.injector.get("modeling"), r.setupChangeListeners({
                    bind: r.getDecision().id
                }), r
            }
            return JS(t, e), GS(t, [{
                key: "componentWillUnmount",
                value: function() {
                    this.setupChangeListeners({
                        unbind: this.getDecision().id
                    })
                }
            }, {
                key: "getDecision",
                value: function() {
                    return this._viewer.getDecision()
                }
            }, {
                key: "setupChangeListeners",
                value: function(e) {
                    var t = e.bind,
                        n = e.unbind,
                        r = this.context.changeSupport;
                    "string" == typeof n && r.offElementsChanged(n, this.onElementsChanged), "string" == typeof t && r.onElementsChanged(t, this.onElementsChanged)
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.getDecision().name;
                    return wp(1, "header", "decision-properties", xp(2, tj, {
                        className: "decision-name editor",
                        value: e,
                        onBlur: nj,
                        onChange: this.setDecisionName
                    }), 2)
                }
            }]), t
        }(Lf),
        tj = function(e) {
            function t() {
                return US(this, t), KS(this, XS(t).apply(this, arguments))
            }
            return JS(t, e), GS(t, [{
                key: "render",
                value: function() {
                    return wp(1, "h3", this.getClassName(), this.getEditor(), 0)
                }
            }]), t
        }(Tv);

    function nj(e) {
        e.target.scroll(0, 0)
    }
    var rj = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("viewer", 1500, (function() {
            return ej
        }))
    };
    rj.$inject = ["components"];
    var oj = {
        __depends__: [Uv],
        __init__: ["decisionProperties"],
        decisionProperties: ["type", rj]
    };

    function ij(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var aj = function() {
        function e(t, n) {
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._actions = {
                undo: function() {
                    t.undo()
                },
                redo: function() {
                    t.redo()
                }
            }
        }
        var t, n, r;
        return t = e, (n = [{
            key: "trigger",
            value: function(e, t) {
                if (!this._actions[e]) throw sj(e, "is not a registered action");
                return this._actions[e](t)
            }
        }, {
            key: "register",
            value: function(e, t) {
                var n = this;
                if ("string" == typeof e) return this._registerAction(e, t);
                v(e, (function(e, t) {
                    n._registerAction(t, e)
                }))
            }
        }, {
            key: "_registerAction",
            value: function(e, t) {
                if (this.isRegistered(e)) throw sj(e, "is already registered");
                this._actions[e] = t
            }
        }, {
            key: "unregister",
            value: function(e) {
                if (!this.isRegistered(e)) throw sj(e, "is not a registered action");
                this._actions[e] = void 0
            }
        }, {
            key: "isRegistered",
            value: function(e) {
                return !!this._actions[e]
            }
        }]) && ij(t.prototype, n), r && ij(t, r), e
    }();

    function sj(e, t) {
        return new Error(e + " " + t)
    }
    aj.$inject = ["commandStack", "eventBus"];
    var uj = {
        __init__: ["editorActions"],
        editorActions: ["type", aj]
    };

    function cj(e) {
        return !e.altKey && (e.ctrlKey || e.metaKey)
    }

    function lj(e) {
        return e.shiftKey
    }

    function pj(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function fj(e, t, n) {
        return t in e ? Object.defineProperty(e, t, {
            value: n,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = n, e
    }
    var dj = function() {
        function e(t, n, r) {
            var o = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), fj(this, "_init", (function() {
                o._registerDefaultBindings(), o._fire("init")
            })), fj(this, "_destroy", (function() {
                o._fire("destroy"), o.unbind(), o._listeners = null
            })), fj(this, "_keyHandler", (function(e) {
                var t, n, r = o._listeners,
                    i = e.keyCode || e.charCode || -1;
                for (t = 0; n = r[t]; t++)
                    if (n(i, e)) return e.preventDefault(), void e.stopPropagation()
            })), fj(this, "unbind", (function() {
                var e = o._node;
                e && (o._fire("unbind"), yt.unbind(e, "keydown", o._keyHandler, !0)), o._node = null
            })), this._config = t || {}, this._eventBus = n, this._editorActions = r, this._listeners = [], n.on("viewer.destroy", this._destroy), n.on("viewer.init", this._init), n.on("attach", (function() {
                o._config.bindTo && o.bind(t.bindTo)
            })), n.on("detach", this.unbind)
        }
        var t, n, r;
        return t = e, (n = [{
            key: "bind",
            value: function(e) {
                this.unbind(), this._node = e, yt.bind(e, "keydown", this._keyHandler, !0), this._fire("bind")
            }
        }, {
            key: "getBinding",
            value: function() {
                return this._node
            }
        }, {
            key: "_fire",
            value: function(e) {
                this._eventBus.fire("keyboard." + e, {
                    node: this._node,
                    listeners: this._listeners
                })
            }
        }, {
            key: "_registerDefaultBindings",
            value: function() {
                var e = this._listeners,
                    t = this._editorActions;
                e.push((function(e, n) {
                    if (cj(n) && !lj(n) && 90 === e) return t.trigger("undo"), !0
                })), e.push((function(e, n) {
                    if (cj(n) && (89 === e || 90 === e && lj(n))) return t.trigger("redo"), !0
                }))
            }
        }, {
            key: "addListener",
            value: function(e) {
                this._listeners.unshift(e)
            }
        }, {
            key: "removeListener",
            value: function(e) {
                this._listeners = this._listeners.filter((function(t) {
                    return t !== e
                }))
            }
        }]) && pj(t.prototype, n), r && pj(t, r), e
    }();
    dj.$inject = ["config.keyboard", "eventBus", "editorActions"];
    var hj = {
        __depends__: [uj],
        __init__: ["keyboard"],
        keyboard: ["type", dj]
    };

    function yj(e) {
        return (yj = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function mj(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function vj(e) {
        return (vj = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function gj(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function bj(e, t) {
        return (bj = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var _j = [{
            label: "string",
            value: "string"
        }, {
            label: "boolean",
            value: "boolean"
        }, {
            label: "integer",
            value: "integer"
        }, {
            label: "long",
            value: "long"
        }, {
            label: "double",
            value: "double"
        }, {
            label: "date",
            value: "date"
        }],
        wj = function(e) {
            function t(e, n) {
                var r;
                ! function(e, t) {
                    if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
                }(this, t), (r = function(e, t) {
                    return !t || "object" !== yj(t) && "function" != typeof t ? gj(e) : t
                }(this, vj(t).call(this, e, n)))._viewer = n.injector.get("viewer"), r._modeling = n.injector.get("modeling"), r._expressionLanguages = n.injector.get("expressionLanguages");
                var o, i = r._viewer.getDecision();
                return r.state = {
                    name: i.variable.name,
                    typeRef: i.variable.typeRef,
                    expressionLanguage: (o = i.decisionLogic, o && o.expressionLanguage ? o.expressionLanguage.toLowerCase() : void 0)
                }, r.setVariableName = r.setVariableName.bind(gj(r)), r.setVariableType = r.setVariableType.bind(gj(r)), r.setExpressionLanguage = r.setExpressionLanguage.bind(gj(r)), r
            }
            var n, r, o;
            return function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        writable: !0,
                        configurable: !0
                    }
                }), t && bj(e, t)
            }(t, e), n = t, (r = [{
                key: "setVariableName",
                value: function(e) {
                    this._modeling.editVariableName(e), this.setState({
                        name: e
                    })
                }
            }, {
                key: "setVariableType",
                value: function(e) {
                    "" === e ? (this._modeling.editVariableType(void 0), this.setState({
                        typeRef: void 0
                    })) : (this._modeling.editVariableType(e), this.setState({
                        typeRef: e
                    }))
                }
            }, {
                key: "setExpressionLanguage",
                value: function(e) {
                    "" === e ? (this._modeling.editExpressionLanguage(void 0), this.setState({
                        expressionLanguage: void 0
                    })) : (this._modeling.editExpressionLanguage(e), this.setState({
                        expressionLanguage: e
                    }))
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.state,
                        t = e.expressionLanguage,
                        n = e.name,
                        r = e.typeRef,
                        o = this._expressionLanguages.getAll();
                    return wp(1, "div", "literal-expression-properties", wp(1, "table", null, [wp(1, "tr", null, [wp(1, "td", null, Ep("Variable Name:"), 2), wp(1, "td", null, xp(2, Kg, {
                        className: "variable-name-input",
                        onInput: this.setVariableName,
                        placeholder: "name",
                        value: n || ""
                    }), 2)], 4), wp(1, "tr", null, [wp(1, "td", null, Ep("Variable Type:"), 2), wp(1, "td", null, wp(1, "div", "dms-fill-row", xp(2, Ob, {
                        onChange: this.setVariableType,
                        options: _j,
                        value: r,
                        className: "variable-type-select dms-block"
                    }), 2), 2)], 4), wp(1, "tr", null, [wp(1, "td", null, Ep("Expression Language:"), 2), wp(1, "td", null, wp(1, "div", "dms-fill-row", xp(2, Ob, {
                        onChange: this.setExpressionLanguage,
                        options: o,
                        value: t,
                        className: "expression-language-select dms-block"
                    }), 2), 2)], 4)], 4), 2)
                }
            }]) && mj(n.prototype, r), o && mj(n, o), t
        }(Lf);
    var xj = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("viewer", 500, (function() {
            return wj
        }))
    };
    xj.$inject = ["components"];
    var Ej = {
        __depends__: [Uv, hj],
        __init__: ["literalExpressionProperties"],
        literalExpressionProperties: ["type", xj]
    };

    function Cj(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }
    var Oj = function() {
        function e(t, n, r) {
            var o = this;
            ! function(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
            }(this, e), this._commandStack = t, this._viewer = n, this._eventBus = r, r.on("viewer.init", (function() {
                ! function(e, t) {
                    v(e, (function(e, n) {
                        t.registerHandler(n, e)
                    }))
                }(o.getHandlers(), t)
            }))
        }
        var t, n, r;
        return t = e, r = [{
            key: "_getHandlers",
            value: function() {
                return {
                    "element.updateProperties": Kx
                }
            }
        }], (n = [{
            key: "getHandlers",
            value: function() {
                return e._getHandlers()
            }
        }, {
            key: "getDecision",
            value: function() {
                return this._viewer.getDecision()
            }
        }, {
            key: "editDecisionName",
            value: function(e) {
                var t = {
                    element: this.getDecision(),
                    properties: {
                        name: e
                    }
                };
                this._commandStack.execute("element.updateProperties", t)
            }
        }, {
            key: "editDecisionId",
            value: function(e) {
                var t = {
                    element: this.getDecision(),
                    properties: {
                        id: e
                    }
                };
                this._commandStack.execute("element.updateProperties", t)
            }
        }, {
            key: "editLiteralExpressionText",
            value: function(e) {
                var t = {
                    element: this.getDecision().decisionLogic,
                    properties: {
                        text: e
                    }
                };
                this._commandStack.execute("element.updateProperties", t)
            }
        }, {
            key: "editExpressionLanguage",
            value: function(e) {
                var t = {
                    element: this.getDecision().decisionLogic,
                    properties: {
                        expressionLanguage: e
                    }
                };
                this._commandStack.execute("element.updateProperties", t)
            }
        }, {
            key: "editVariableName",
            value: function(e) {
                var t = {
                    element: this.getDecision().variable,
                    properties: {
                        name: e
                    }
                };
                this._commandStack.execute("element.updateProperties", t)
            }
        }, {
            key: "editVariableType",
            value: function(e) {
                var t = {
                    element: this.getDecision().variable,
                    properties: {
                        typeRef: e
                    }
                };
                this._commandStack.execute("element.updateProperties", t)
            }
        }]) && Cj(t.prototype, n), r && Cj(t, r), e
    }();
    Oj.$inject = ["commandStack", "viewer", "eventBus"];
    var Sj = {
        __init__: ["idChangeBehavior", "modeling"],
        commandStack: ["type", su],
        idChangeBehavior: ["type", Ru],
        modeling: ["type", Oj]
    };

    function jj(e) {
        return (jj = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function kj(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function Pj(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Tj(e, t, n) {
        return t && Pj(e.prototype, t), n && Pj(e, n), e
    }

    function Dj(e, t) {
        return !t || "object" !== jj(t) && "function" != typeof t ? Mj(e) : t
    }

    function Rj(e) {
        return (Rj = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Mj(e) {
        if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return e
    }

    function Aj(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                writable: !0,
                configurable: !0
            }
        }), t && Nj(e, t)
    }

    function Nj(e, t) {
        return (Nj = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var Ij = function(e) {
            function t(e, n) {
                var r;
                kj(this, t), (r = Dj(this, Rj(t).call(this, e, n)))._modeling = n.injector.get("modeling"), r._viewer = n.injector.get("viewer"), r.editLiteralExpressionText = r.editLiteralExpressionText.bind(Mj(r)), r.onElementsChanged = r.onElementsChanged.bind(Mj(r));
                var o = r.getLiteralExpression().id;
                return n.changeSupport.onElementsChanged(o, r.onElementsChanged), r
            }
            return Aj(t, e), Tj(t, [{
                key: "getLiteralExpression",
                value: function() {
                    return this._viewer.getDecision().decisionLogic
                }
            }, {
                key: "onElementsChanged",
                value: function() {
                    this.forceUpdate()
                }
            }, {
                key: "editLiteralExpressionText",
                value: function(e) {
                    this._modeling.editLiteralExpressionText(e)
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.getLiteralExpression().text;
                    return xp(2, Lj, {
                        className: "textarea editor",
                        value: e,
                        onChange: this.editLiteralExpressionText
                    })
                }
            }]), t
        }(Lf),
        Lj = function(e) {
            function t() {
                return kj(this, t), Dj(this, Rj(t).apply(this, arguments))
            }
            return Aj(t, e), Tj(t, [{
                key: "render",
                value: function() {
                    return wp(1, "div", this.getClassName(), this.getEditor(), 0)
                }
            }]), t
        }(Tv);
    var Bj = function e(t) {
        ! function(e, t) {
            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
        }(this, e), t.onGetComponent("viewer", (function() {
            return Ij
        }))
    };
    Bj.$inject = ["components"];
    var $j = {
        __depends__: [Uv],
        __init__: ["textarea"],
        textarea: ["type", Bj]
    };

    function Vj(e) {
        return (Vj = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function zj(e) {
        return function(e) {
            if (Array.isArray(e)) {
                for (var t = 0, n = new Array(e.length); t < e.length; t++) n[t] = e[t];
                return n
            }
        }(e) || function(e) {
            if (Symbol.iterator in Object(e) || "[object Arguments]" === Object.prototype.toString.call(e)) return Array.from(e)
        }(e) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }

    function Fj(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function qj(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Hj(e, t) {
        return !t || "object" !== Vj(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function Uj(e) {
        return (Uj = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Wj(e, t) {
        return (Wj = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var Gj = function(e) {
        function t() {
            return Fj(this, t), Hj(this, Uj(t).apply(this, arguments))
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Wj(e, t)
        }(t, e), n = t, o = [{
            key: "_getModules",
            value: function() {
                return [oj, hj, Ej, Sj, Ah, $j]
            }
        }], (r = [{
            key: "getModules",
            value: function() {
                return [].concat(zj(qS._getModules()), zj(t._getModules()))
            }
        }]) && qj(n.prototype, r), o && qj(n, o), t
    }(qS);

    function Kj(e) {
        return (Kj = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
            return typeof e
        } : function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
        })(e)
    }

    function Xj(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function")
    }

    function Yj(e, t) {
        for (var n = 0; n < t.length; n++) {
            var r = t[n];
            r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
        }
    }

    function Jj(e, t) {
        return !t || "object" !== Kj(t) && "function" != typeof t ? function(e) {
            if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e
        }(e) : t
    }

    function Zj(e) {
        return (Zj = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
            return e.__proto__ || Object.getPrototypeOf(e)
        })(e)
    }

    function Qj(e, t) {
        return (Qj = Object.setPrototypeOf || function(e, t) {
            return e.__proto__ = t, e
        })(e, t)
    }
    var ek = function(e) {
        function t() {
            return Xj(this, t), Jj(this, Zj(t).apply(this, arguments))
        }
        var n, r, o;
        return function(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, {
                constructor: {
                    value: e,
                    writable: !0,
                    configurable: !0
                }
            }), t && Qj(e, t)
        }(t, e), n = t, (r = [{
            key: "_getViewProviders",
            value: function() {
                return [{
                    id: "drd",
                    constructor: Bl,
                    opens: "dmn:Definitions"
                }, {
                    id: "decisionTable",
                    constructor: gO,
                    opens: function(e) {
                        return Vt(e, "dmn:Decision") && Vt(e.decisionLogic, "dmn:DecisionTable")
                    }
                }, {
                    id: "literalExpression",
                    constructor: Gj,
                    opens: function(e) {
                        return Vt(e, "dmn:Decision") && Vt(e.decisionLogic, "dmn:LiteralExpression")
                    }
                }]
            }
        }, {
            key: "_getInitialView",
            value: function(e) {
                for (var t, n = 0; n < e.length; n++) {
                    var r = e[n],
                        o = r.element;
                    if (Vt(o, "dmn:Decision")) return r;
                    if (Vt(o, "dmn:Definitions") && (t = r, Ps(o))) return r
                }
                return t || e[0]
            }
        }]) && Yj(n.prototype, r), o && Yj(n, o), t
    }(Zt)
}, function(e, t, n) {
    "use strict";
    n.r(t),
        function(e) {
            var t = n(8);
            n(23);
            e(".dmn-simulator").length > 0 && (new t.a).initialize()
        }.call(this, n(5))
}, , function(e, t, n) {
    (function(t) {
        var r;
        r = function(e, t, n, r) {
            var o = [],
                i = function() {
                    return o.length ? o[o.length - 1] : null
                },
                a = function() {
                    var e, t = !1;
                    for (e = o.length - 1; e >= 0; e--) o[e].$blocker && (o[e].$blocker.toggleClass("current", !t).toggleClass("behind", t), t = !0)
                };
            e.modal = function(t, n) {
                var r, a;
                if (this.$body = e("body"), this.options = e.extend({}, e.modal.defaults, n), this.options.doFade = !isNaN(parseInt(this.options.fadeDuration, 10)), this.$blocker = null, this.options.closeExisting)
                    for (; e.modal.isActive();) e.modal.close();
                if (o.push(this), t.is("a"))
                    if (a = t.attr("href"), this.anchor = t, /^#/.test(a)) {
                        if (this.$elm = e(a), 1 !== this.$elm.length) return null;
                        this.$body.append(this.$elm), this.open()
                    } else this.$elm = e("<div>"), this.$body.append(this.$elm), r = function(e, t) {
                        t.elm.remove()
                    }, this.showSpinner(), t.trigger(e.modal.AJAX_SEND), e.get(a).done((function(n) {
                        if (e.modal.isActive()) {
                            t.trigger(e.modal.AJAX_SUCCESS);
                            var o = i();
                            o.$elm.empty().append(n).on(e.modal.CLOSE, r), o.hideSpinner(), o.open(), t.trigger(e.modal.AJAX_COMPLETE)
                        }
                    })).fail((function() {
                        t.trigger(e.modal.AJAX_FAIL), i().hideSpinner(), o.pop(), t.trigger(e.modal.AJAX_COMPLETE)
                    }));
                else this.$elm = t, this.anchor = t, this.$body.append(this.$elm), this.open()
            }, e.modal.prototype = {
                constructor: e.modal,
                open: function() {
                    var t = this;
                    this.block(), this.anchor.blur(), this.options.doFade ? setTimeout((function() {
                        t.show()
                    }), this.options.fadeDuration * this.options.fadeDelay) : this.show(), e(n).off("keydown.modal").on("keydown.modal", (function(e) {
                        var t = i();
                        27 === e.which && t.options.escapeClose && t.close()
                    })), this.options.clickClose && this.$blocker.click((function(t) {
                        t.target === this && e.modal.close()
                    }))
                },
                close: function() {
                    o.pop(), this.unblock(), this.hide(), e.modal.isActive() || e(n).off("keydown.modal")
                },
                block: function() {
                    this.$elm.trigger(e.modal.BEFORE_BLOCK, [this._ctx()]), this.$body.css("overflow", "hidden"), this.$blocker = e('<div class="' + this.options.blockerClass + ' blocker current"></div>').appendTo(this.$body), a(), this.options.doFade && this.$blocker.css("opacity", 0).animate({
                        opacity: 1
                    }, this.options.fadeDuration), this.$elm.trigger(e.modal.BLOCK, [this._ctx()])
                },
                unblock: function(t) {
                    !t && this.options.doFade ? this.$blocker.fadeOut(this.options.fadeDuration, this.unblock.bind(this, !0)) : (this.$blocker.children().appendTo(this.$body), this.$blocker.remove(), this.$blocker = null, a(), e.modal.isActive() || this.$body.css("overflow", ""))
                },
                show: function() {
                    this.$elm.trigger(e.modal.BEFORE_OPEN, [this._ctx()]), this.options.showClose && (this.closeButton = e('<a href="#close-modal" rel="modal:close" class="close-modal ' + this.options.closeClass + '">' + this.options.closeText + "</a>"), this.$elm.append(this.closeButton)), this.$elm.addClass(this.options.modalClass).appendTo(this.$blocker), this.options.doFade ? this.$elm.css({
                        opacity: 0,
                        display: "inline-block"
                    }).animate({
                        opacity: 1
                    }, this.options.fadeDuration) : this.$elm.css("display", "inline-block"), this.$elm.trigger(e.modal.OPEN, [this._ctx()])
                },
                hide: function() {
                    this.$elm.trigger(e.modal.BEFORE_CLOSE, [this._ctx()]), this.closeButton && this.closeButton.remove();
                    var t = this;
                    this.options.doFade ? this.$elm.fadeOut(this.options.fadeDuration, (function() {
                        t.$elm.trigger(e.modal.AFTER_CLOSE, [t._ctx()])
                    })) : this.$elm.hide(0, (function() {
                        t.$elm.trigger(e.modal.AFTER_CLOSE, [t._ctx()])
                    })), this.$elm.trigger(e.modal.CLOSE, [this._ctx()])
                },
                showSpinner: function() {
                    this.options.showSpinner && (this.spinner = this.spinner || e('<div class="' + this.options.modalClass + '-spinner"></div>').append(this.options.spinnerHtml), this.$body.append(this.spinner), this.spinner.show())
                },
                hideSpinner: function() {
                    this.spinner && this.spinner.remove()
                },
                _ctx: function() {
                    return {
                        elm: this.$elm,
                        $elm: this.$elm,
                        $blocker: this.$blocker,
                        options: this.options,
                        $anchor: this.anchor
                    }
                }
            }, e.modal.close = function(t) {
                if (e.modal.isActive()) {
                    t && t.preventDefault();
                    var n = i();
                    return n.close(), n.$elm
                }
            }, e.modal.isActive = function() {
                return o.length > 0
            }, e.modal.getCurrent = i, e.modal.defaults = {
                closeExisting: !0,
                escapeClose: !0,
                clickClose: !0,
                closeText: "Close",
                closeClass: "",
                modalClass: "modal",
                blockerClass: "jquery-modal",
                spinnerHtml: '<div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div>',
                showSpinner: !0,
                showClose: !0,
                fadeDuration: null,
                fadeDelay: 1
            }, e.modal.BEFORE_BLOCK = "modal:before-block", e.modal.BLOCK = "modal:block", e.modal.BEFORE_OPEN = "modal:before-open", e.modal.OPEN = "modal:open", e.modal.BEFORE_CLOSE = "modal:before-close", e.modal.CLOSE = "modal:close", e.modal.AFTER_CLOSE = "modal:after-close", e.modal.AJAX_SEND = "modal:ajax:send", e.modal.AJAX_SUCCESS = "modal:ajax:success", e.modal.AJAX_FAIL = "modal:ajax:fail", e.modal.AJAX_COMPLETE = "modal:ajax:complete", e.fn.modal = function(t) {
                return 1 === this.length && new e.modal(this, t), this
            }, e(n).on("click.modal", 'a[rel~="modal:close"]', e.modal.close), e(n).on("click.modal", 'a[rel~="modal:open"]', (function(t) {
                t.preventDefault(), e(this).modal()
            }))
        }, "object" == typeof e.exports ? r(n(5), window, document) : r(t, window, document)
    }).call(this, n(5))
}, function(e, t) {
    var n = e.exports = function(e, t) {
        if (t || (t = 16), void 0 === e && (e = 128), e <= 0) return "0";
        for (var r = Math.log(Math.pow(2, e)) / Math.log(t), o = 2; r === 1 / 0; o *= 2) r = Math.log(Math.pow(2, e / o)) / Math.log(t) * o;
        var i = r - Math.floor(r),
            a = "";
        for (o = 0; o < Math.floor(r); o++) {
            a = Math.floor(Math.random() * t).toString(t) + a
        }
        if (i) {
            var s = Math.pow(t, i);
            a = Math.floor(Math.random() * s).toString(t) + a
        }
        var u = parseInt(a, t);
        return u !== 1 / 0 && u >= Math.pow(2, e) ? n(e, t) : a
    };
    n.rack = function(e, t, r) {
        var o = function(o) {
                var a = 0;
                do {
                    if (a++ > 10) {
                        if (!r) throw new Error("too many ID collisions, use more bits");
                        e += r
                    }
                    var s = n(e, t)
                } while (Object.hasOwnProperty.call(i, s));
                return i[s] = o, s
            },
            i = o.hats = {};
        return o.get = function(e) {
            return o.hats[e]
        }, o.set = function(e, t) {
            return o.hats[e] = t, o
        }, o.bits = e || 128, o.base = t || 16, o
    }
}, function(e, t, n) {
    "use strict";
    var r = n(7);

    function o(e, t, n) {
        var o = r.extend(n[t.name] || [], e, t, n);
        Object.defineProperty(n, t.name, {
            enumerable: t.enumerable,
            value: o
        }), o.length && o.forEach((function(r) {
            e.set(r, t.inverse, n)
        }))
    }

    function i(e, t) {
        if (!(this instanceof i)) return new i(e, t);
        e.inverse = t, t.inverse = e, this.props = {}, this.props[e.name] = e, this.props[t.name] = t
    }
    i.prototype.bind = function(e, t) {
        if ("string" == typeof t) {
            if (!this.props[t]) throw new Error("no property <" + t + "> in ref");
            t = this.props[t]
        }
        t.collection ? o(this, t, e) : function(e, t, n) {
            var r = t.inverse,
                o = n[t.name];
            Object.defineProperty(n, t.name, {
                configurable: t.configurable,
                enumerable: t.enumerable,
                get: function() {
                    return o
                },
                set: function(t) {
                    if (t !== o) {
                        var i = o;
                        o = null, i && e.unset(i, r, n), o = t, e.set(o, r, n)
                    }
                }
            })
        }(this, t, e)
    }, i.prototype.ensureRefsCollection = function(e, t) {
        var n = e[t.name];
        return r.isExtended(n) || o(this, t, e), n
    }, i.prototype.ensureBound = function(e, t) {
        (function(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t.name || t)
        })(e, t) || this.bind(e, t)
    }, i.prototype.unset = function(e, t, n) {
        e && (this.ensureBound(e, t), t.collection ? this.ensureRefsCollection(e, t).remove(n) : e[t.name] = void 0)
    }, i.prototype.set = function(e, t, n) {
        e && (this.ensureBound(e, t), t.collection ? this.ensureRefsCollection(e, t).add(n) : e[t.name] = n)
    }, e.exports = i
}, function(e, t) {
    var n;
    n = function() {
        return this
    }();
    try {
        n = n || new Function("return this")()
    } catch (e) {
        "object" == typeof window && (n = window)
    }
    e.exports = n
}, function(e, t, n) {
    "use strict";
    n.p
}, function(e, t, n) {
    "use strict";
    n.p
}, function(e, t, n) {
    var r = n(24),
        o = n(25);
    "string" == typeof(o = o.__esModule ? o.default : o) && (o = [
        [e.i, o, ""]
    ]);
    var i = {
        insert: "head",
        singleton: !1
    };
    r(o, i);
    e.exports = o.locals || {}
}, function(e, t, n) {
    "use strict";
    var r, o = function() {
            return void 0 === r && (r = Boolean(window && document && document.all && !window.atob)), r
        },
        i = function() {
            var e = {};
            return function(t) {
                if (void 0 === e[t]) {
                    var n = document.querySelector(t);
                    if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement) try {
                        n = n.contentDocument.head
                    } catch (e) {
                        n = null
                    }
                    e[t] = n
                }
                return e[t]
            }
        }(),
        a = [];

    function s(e) {
        for (var t = -1, n = 0; n < a.length; n++)
            if (a[n].identifier === e) {
                t = n;
                break
            }
        return t
    }

    function u(e, t) {
        for (var n = {}, r = [], o = 0; o < e.length; o++) {
            var i = e[o],
                u = t.base ? i[0] + t.base : i[0],
                c = n[u] || 0,
                l = "".concat(u, " ").concat(c);
            n[u] = c + 1;
            var p = s(l),
                f = {
                    css: i[1],
                    media: i[2],
                    sourceMap: i[3]
                }; - 1 !== p ? (a[p].references++, a[p].updater(f)) : a.push({
                identifier: l,
                updater: m(f, t),
                references: 1
            }), r.push(l)
        }
        return r
    }

    function c(e) {
        var t = document.createElement("style"),
            r = e.attributes || {};
        if (void 0 === r.nonce) {
            var o = n.nc;
            o && (r.nonce = o)
        }
        if (Object.keys(r).forEach((function(e) {
                t.setAttribute(e, r[e])
            })), "function" == typeof e.insert) e.insert(t);
        else {
            var a = i(e.insert || "head");
            if (!a) throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
            a.appendChild(t)
        }
        return t
    }
    var l, p = (l = [], function(e, t) {
        return l[e] = t, l.filter(Boolean).join("\n")
    });

    function f(e, t, n, r) {
        var o = n ? "" : r.media ? "@media ".concat(r.media, " {").concat(r.css, "}") : r.css;
        if (e.styleSheet) e.styleSheet.cssText = p(t, o);
        else {
            var i = document.createTextNode(o),
                a = e.childNodes;
            a[t] && e.removeChild(a[t]), a.length ? e.insertBefore(i, a[t]) : e.appendChild(i)
        }
    }

    function d(e, t, n) {
        var r = n.css,
            o = n.media,
            i = n.sourceMap;
        if (o ? e.setAttribute("media", o) : e.removeAttribute("media"), i && btoa && (r += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i)))), " */")), e.styleSheet) e.styleSheet.cssText = r;
        else {
            for (; e.firstChild;) e.removeChild(e.firstChild);
            e.appendChild(document.createTextNode(r))
        }
    }
    var h = null,
        y = 0;

    function m(e, t) {
        var n, r, o;
        if (t.singleton) {
            var i = y++;
            n = h || (h = c(t)), r = f.bind(null, n, i, !1), o = f.bind(null, n, i, !0)
        } else n = c(t), r = d.bind(null, n, t), o = function() {
            ! function(e) {
                if (null === e.parentNode) return !1;
                e.parentNode.removeChild(e)
            }(n)
        };
        return r(e),
            function(t) {
                if (t) {
                    if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return;
                    r(e = t)
                } else o()
            }
    }
    e.exports = function(e, t) {
        (t = t || {}).singleton || "boolean" == typeof t.singleton || (t.singleton = o());
        var n = u(e = e || [], t);
        return function(e) {
            if (e = e || [], "[object Array]" === Object.prototype.toString.call(e)) {
                for (var r = 0; r < n.length; r++) {
                    var o = s(n[r]);
                    a[o].references--
                }
                for (var i = u(e, t), c = 0; c < n.length; c++) {
                    var l = s(n[c]);
                    0 === a[l].references && (a[l].updater(), a.splice(l, 1))
                }
                n = i
            }
        }
    }
}, function(e, t, n) {}]);